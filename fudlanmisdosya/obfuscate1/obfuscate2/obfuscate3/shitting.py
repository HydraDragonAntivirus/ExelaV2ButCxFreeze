import base64; exec(base64.b64decode(b'aW1wb3J0IGN0eXBlcwppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IGpzb24KaW1wb3J0IHN5cwppbXBvcnQgc2h1dGlsCmltcG9ydCBzcWxpdGUzCmZyb20gY3J5cHRvZ3JhcGh5IC5oYXptYXQgLnByaW1pdGl2ZXMgLmNpcGhlcnMgaW1wb3J0IENpcGhlciAsYWxnb3JpdGhtcyAsbW9kZXMKZnJvbSBjcnlwdG9ncmFwaHkgLmhhem1hdCAuYmFja2VuZHMgaW1wb3J0IGRlZmF1bHRfYmFja2VuZAppbXBvcnQgcmUKaW1wb3J0IG9zCmltcG9ydCBhc3luY2lvCmltcG9ydCBhaW9odHRwCmltcG9ydCBiYXNlNjQKaW1wb3J0IHRpbWUKaW1wb3J0IGd1YXJkc2hpZWxkCmltcG9ydCBwc3V0aWwKd2ViaG9vayA9J2h0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzL2J1a2lzbWF3ZWJob29rYWRyZXNpbml5YXonCnN0YXJ0dXBfbWV0aG9kID0icmVnZWRpdCIKRmFrZUVycm9yID0oYm9vbCAoVHJ1ZSApLCgiRXJyb3IiLCJUaGUgUHJvZ3JhbSBjYW4ndCBzdGFydCBiZWNhdXNlIGphdmFzZGsgaXMgbWlzc2luZyBmcm9tIHlvdXIgY29tcHV0ZXIuIFRyeSByZWluc3RhbGxpbmcgdGhlIHByb2dyYW0gdG8gZml4IHRoaXMgcHJvYmxlbSIsMCApKSNsaW5lOjIwCmNsYXNzIFZhcmlhYmxlcyA6CiAgICBQYXNzd29yZHMgPWxpc3QgKCkKICAgIENhcmRzID1saXN0ICgpCiAgICBDb29raWVzID1saXN0ICgpCiAgICBIaXN0b3J5cyA9bGlzdCAoKQogICAgRG93bmxvYWRzID1saXN0ICgpCiAgICBBdXRvZmlsbHMgPWxpc3QgKCkKICAgIEJvb2ttYXJrcyA9bGlzdCAoKQogICAgV2lmaXMgPWxpc3QgKCkKICAgIFN5c3RlbUluZm8gPWxpc3QgKCkKICAgIENsaXBCb2FyZCA9bGlzdCAoKQogICAgUHJvY2Vzc2VzID1saXN0ICgpCiAgICBOZXR3b3JrID1saXN0ICgpCiAgICBGdWxsVG9rZW5zID1saXN0ICgpCiAgICBWYWxpZGF0ZWRUb2tlbnMgPWxpc3QgKCkKICAgIERpc2NvcmRBY2NvdW50cyA9bGlzdCAoKQogICAgU3RlYW1BY2NvdW50cyA9bGlzdCAoKQogICAgSW5zdGFncmFtQWNjb3VudHMgPWxpc3QgKCkKICAgIFR3aXR0ZXJBY2NvdW50cyA9bGlzdCAoKQogICAgVGlrVG9rQWNjb3VudHMgPWxpc3QgKCkKICAgIFJlZGRpdEFjY291bnRzID1saXN0ICgpCiAgICBUd3RpY2hBY2NvdW50cyA9bGlzdCAoKQogICAgU3BvdGlmeUFjY291bnRzID1saXN0ICgpCiAgICBSb2Jsb3hBY2NvdW50cyA9bGlzdCAoKQogICAgUmlvdEdhbWVBY2NvdW50cyA9bGlzdCAoKQpjbGFzcyBTdWJNb2R1bGVzIDoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBDcnlwdFVucHJvdGVjdERhdGEgKE8wTzBPMDBPTzAwT09PTzAwIDpieXRlcyAsb3B0aW9uYWxfZW50cm9weSA6c3RyID1Ob25lICktPmJ5dGVzIDoKICAgICAgICBjbGFzcyBPME9PT09PT08wME9PTzBPTyAoY3R5cGVzIC5TdHJ1Y3R1cmUgKToKICAgICAgICAgICAgX2ZpZWxkc18gPVsoImNiRGF0YSIsY3R5cGVzIC5jX3Vsb25nICksKCJwYkRhdGEiLGN0eXBlcyAuUE9JTlRFUiAoY3R5cGVzIC5jX3VieXRlICkpXQogICAgICAgIE9PME8wT09PMDAwMDBPT08wID1PME9PT09PT08wME9PTzBPTyAobGVuIChPME8wTzAwT08wME9PT08wMCApLGN0eXBlcyAuY2FzdCAoTzBPME8wME9PMDBPT09PMDAgLGN0eXBlcyAuUE9JTlRFUiAoY3R5cGVzIC5jX3VieXRlICkpKQogICAgICAgIE8wT08wT08wTzAwMDAwTzAwID1PME9PT09PT08wME9PTzBPTyAoKQogICAgICAgIE8wME9PME9PME8wT08wTzBPID1Ob25lCiAgICAgICAgaWYgb3B0aW9uYWxfZW50cm9weSBpcyBub3QgTm9uZSA6CiAgICAgICAgICAgIG9wdGlvbmFsX2VudHJvcHkgPW9wdGlvbmFsX2VudHJvcHkgLmVuY29kZSAoInV0Zi0xNiIpCiAgICAgICAgICAgIE8wME9PME9PME8wT08wTzBPID1PME9PT09PT08wME9PTzBPTyAobGVuIChvcHRpb25hbF9lbnRyb3B5ICksY3R5cGVzIC5jYXN0IChvcHRpb25hbF9lbnRyb3B5ICxjdHlwZXMgLlBPSU5URVIgKGN0eXBlcyAuY191Ynl0ZSApKSkKICAgICAgICBpZiBjdHlwZXMgLndpbmRsbCAuQ3J5cHQzMiAuQ3J5cHRVbnByb3RlY3REYXRhIChjdHlwZXMgLmJ5cmVmIChPTzBPME9PTzAwMDAwT09PMCApLE5vbmUgLGN0eXBlcyAuYnlyZWYgKE8wME9PME9PME8wT08wTzBPIClpZiBPMDBPTzBPTzBPME9PME8wTyBpcyBub3QgTm9uZSBlbHNlIE5vbmUgLE5vbmUgLE5vbmUgLDAgLGN0eXBlcyAuYnlyZWYgKE8wT08wT08wTzAwMDAwTzAwICkpOgogICAgICAgICAgICBPT09PME9PMDAwMDBPME8wMCA9KGN0eXBlcyAuY191Ynl0ZSAqTzBPTzBPTzBPMDAwMDBPMDAgLmNiRGF0YSApKCkKICAgICAgICAgICAgY3R5cGVzIC5tZW1tb3ZlIChPT09PME9PMDAwMDBPME8wMCAsTzBPTzBPTzBPMDAwMDBPMDAgLnBiRGF0YSAsTzBPTzBPTzBPMDAwMDBPMDAgLmNiRGF0YSApCiAgICAgICAgICAgIGN0eXBlcyAud2luZGxsIC5LZXJuZWwzMiAuTG9jYWxGcmVlIChPME9PME9PME8wMDAwME8wMCAucGJEYXRhICkKICAgICAgICAgICAgcmV0dXJuIGJ5dGVzIChPT09PME9PMDAwMDBPME8wMCApCiAgICAgICAgcmFpc2UgVmFsdWVFcnJvciAoIkludmFsaWQgZW5jcnlwdGVkX2RhdGEgcHJvdmlkZWQhIikKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBHZXRLZXkgKE8wTzAwT09PT09PMDBPME8wIDpzdHIgKS0+Ynl0ZXMgOgogICAgICAgIHdpdGggb3BlbiAoTzBPMDBPT09PT08wME8wTzAgLCJyIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE9PMDAwMDAwME9PME8wT09PIDoKICAgICAgICAgICAgTzBPTzAwMDAwMDAwMDAwTzAgOmRpY3QgPWpzb24gLmxvYWQgKE9PMDAwMDAwME9PME8wT09PICkKICAgICAgICAgICAgT09PMDAwTzBPT09PT09PT08gOnN0ciA9TzBPTzAwMDAwMDAwMDAwTzAgWyJvc19jcnlwdCJdWyJlbmNyeXB0ZWRfa2V5Il0KICAgICAgICAgICAgT09PMDAwTzBPT09PT09PT08gPWJhc2U2NCAuYjY0ZGVjb2RlIChPT08wMDBPME9PT09PT09PTyAuZW5jb2RlICgpKVs1IDpdCiAgICAgICAgICAgIHJldHVybiBTdWJNb2R1bGVzIC5DcnlwdFVucHJvdGVjdERhdGEgKE9PTzAwME8wT09PT09PT09PICkKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBEZWNycHl0aW9uIChPTzAwMDAwTzAwT08wMDAwTyA6Ynl0ZXMgLE8wTzBPMDBPTzAwMDAwME8wIDpieXRlcyApLT5zdHIgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wT08wTzAwT09PTzBPTzAwID1PTzAwMDAwTzAwT08wMDAwTyAuZGVjb2RlIChlcnJvcnMgPSJpZ25vcmUiKQogICAgICAgICAgICBpZiBPME9PME8wME9PT08wT08wMCAuc3RhcnRzd2l0aCAoInYxMCIpb3IgTzBPTzBPMDBPT09PME9PMDAgLnN0YXJ0c3dpdGggKCJ2MTEiKToKICAgICAgICAgICAgICAgIE9PT09PME8wTzAwMDBPT09PID1PTzAwMDAwTzAwT08wMDAwTyBbMyA6MTUgXQogICAgICAgICAgICAgICAgT08wME8wTzBPT08wME8wMDAgPU9PMDAwMDBPMDBPTzAwMDBPIFsxNSA6XQogICAgICAgICAgICAgICAgTzAwMDAwMDAwTzAwMDAwMDAgPU9PMDBPME8wT09PMDBPMDAwIFstMTYgOl0KICAgICAgICAgICAgICAgIE9PMDBPME8wT09PMDBPMDAwID1PTzAwTzBPME9PTzAwTzAwMCBbOi0xNiBdCiAgICAgICAgICAgICAgICBPMDAwME9PT09PT09PTzBPTyA9ZGVmYXVsdF9iYWNrZW5kICgpCiAgICAgICAgICAgICAgICBPT08wT08wTzAwMDBPT08wTyA9Q2lwaGVyIChhbGdvcml0aG1zIC5BRVMgKE8wTzBPMDBPTzAwMDAwME8wICksbW9kZXMgLkdDTSAoT09PT08wTzBPMDAwME9PT08gLE8wMDAwMDAwME8wMDAwMDAwICksYmFja2VuZCA9TzAwMDBPT09PT09PT08wT08gKQogICAgICAgICAgICAgICAgT08wT09PMDBPME9PME8wMDAgPU9PTzBPTzBPMDAwME9PTzBPIC5kZWNyeXB0b3IgKCkKICAgICAgICAgICAgICAgIE9PT09PME8wTzAwT08wME9PID1PTzBPT08wME8wT08wTzAwMCAudXBkYXRlIChPTzAwTzBPME9PTzAwTzAwMCApK09PME9PTzAwTzBPTzBPMDAwIC5maW5hbGl6ZSAoKQogICAgICAgICAgICAgICAgcmV0dXJuIE9PT09PME8wTzAwT08wME9PIC5kZWNvZGUgKCd1dGYtOCcpCiAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgcmV0dXJuIHN0ciAoU3ViTW9kdWxlcyAuQ3J5cHRVbnByb3RlY3REYXRhIChPTzAwMDAwTzAwT08wMDAwTyApKQogICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgIHJldHVybiAiRGVjcnlwdGlvbiBFcnJvciEsIERhdGEgY2FudCBiZSBkZWNyeXB0IgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGNyZWF0ZV9tdXRleCAoT08wT08wTzBPTzAwMDBPT08gKS0+Ym9vbCA6CiAgICAgICAgT08wTzBPT09PME8wTzBPTzAgPWN0eXBlcyAud2luZGxsIC5rZXJuZWwzMgogICAgICAgIE8wME8wME9PMDAwT09PMDAwID1PTzBPME9PT08wTzBPME9PMCAuQ3JlYXRlTXV0ZXhBIChOb25lICxGYWxzZSAsT08wT08wTzBPTzAwMDBPT08gKQogICAgICAgIHJldHVybiBPTzBPME9PT08wTzBPME9PMCAuR2V0TGFzdEVycm9yICgpIT0xODMKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBJc0FkbWluICgpLT5ib29sIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICByZXR1cm4gYm9vbCAoY3R5cGVzIC53aW5kbGwgLnNoZWxsMzIgLklzVXNlckFuQWRtaW4gKCkpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCmNsYXNzIFN0ZWFsU3lzdGVtSW5mb3JtYXRpb24gOgogICAgYXN5bmMgZGVmIEZ1bmN0aW9uUnVubmVyIChPTzBPTzBPME9PTzAwMDAwTyApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPTzBPTzAwTzAwTzAwMDBPMCA9W2FzeW5jaW8gLmNyZWF0ZV90YXNrIChPTzBPTzBPME9PTzAwMDAwTyAuU3RlYWxTeXN0ZW1JbmZvcm1hdGlvbiAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE9PME9PME8wT09PMDAwMDBPIC5TdGVhbFdpZmlJbmZvcm1hdGlvbiAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE9PME9PME8wT09PMDAwMDBPIC5TdGVhbFByb2Nlc3NJbmZvcm1hdGlvbiAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE9PME9PME8wT09PMDAwMDBPIC5TdGVhbE5ldHdvcmtJbmZvcm1hdGlvbiAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE9PME9PME8wT09PMDAwMDBPIC5TdGVhbExhc3RDbGlwQm9hcmQgKCkpLF0KICAgICAgICAgICAgYXdhaXQgYXN5bmNpbyAuZ2F0aGVyICgqT08wT08wME8wME8wMDAwTzAgKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgR2V0RGVmYXVsdFN5c3RlbUVuY29kaW5nIChPTzBPTzBPME9PMDBPME9PMCApLT5zdHIgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PTzAwMDBPT08wT08wME9PID0iY21kLmV4ZSAvYyBjaGNwIgogICAgICAgICAgICBPT09PME8wME9PMDBPTzBPTyA9YXdhaXQgYXN5bmNpbyAuY3JlYXRlX3N1YnByb2Nlc3Nfc2hlbGwgKE9PTzAwMDBPT08wT08wME9PICxzdGRvdXQgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHN0ZGVyciA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc2hlbGwgPVRydWUgKQogICAgICAgICAgICBPTzAwTzAwMDBPMDAwMDBPMCAsTzBPT09PME8wTzAwTzBPT08gPWF3YWl0IE9PT08wTzAwT08wME9PME9PIC5jb21tdW5pY2F0ZSAoKQogICAgICAgICAgICByZXR1cm4gT08wME8wMDAwTzAwMDAwTzAgLmRlY29kZSAoZXJyb3JzID0iaWdub3JlIikuc3BsaXQgKCI6IilbMSBdLnN0cmlwICgpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuICJudWxsIgogICAgYXN5bmMgZGVmIFN0ZWFsU3lzdGVtSW5mb3JtYXRpb24gKE9PMDBPTzAwMDBPMDAwT09PICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wT09PTzBPMDAwT09PT09PID1hd2FpdCBPTzAwT08wMDAwTzAwME9PTyAuR2V0RGVmYXVsdFN5c3RlbUVuY29kaW5nICgpCiAgICAgICAgICAgIE8wTzAwMDAwT09PMDAwMDBPID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAocidlY2hvCiAgICAgICAgICAgIE9PTzAwTzAwMDBPTzBPTzBPICxPMDBPT09PMDBPTzAwTzBPMCA9YXdhaXQgTzBPMDAwMDBPT08wMDAwME8gLmNvbW11bmljYXRlICgpCiAgICAgICAgICAgIFZhcmlhYmxlcyAuU3lzdGVtSW5mbyAuYXBwZW5kIChPT08wME8wMDAwT08wT08wTyAuZGVjb2RlIChPME9PT08wTzAwME9PT09PTyApKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgU3RlYWxQcm9jZXNzSW5mb3JtYXRpb24gKE8wME9PT08wME9PT09PTzBPICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wTzBPMDBPMDBPT08wMDBPID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoInRhc2tsaXN0IC9GTyBMSVNUIixzdGRvdXQgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHN0ZGVyciA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc2hlbGwgPVRydWUgKQogICAgICAgICAgICBPT08wT09PTzBPTzAwME8wMCAsTzBPT08wTzAwT08wMDBPTzAgPWF3YWl0IE8wTzBPMDBPMDBPT08wMDBPIC5jb21tdW5pY2F0ZSAoKQogICAgICAgICAgICBWYXJpYWJsZXMgLlByb2Nlc3NlcyAuYXBwZW5kIChPT08wT09PTzBPTzAwME8wMCAuZGVjb2RlIChlcnJvcnMgPSJpZ25vcmUiKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIFN0ZWFsTGFzdENsaXBCb2FyZCAoTzAwMDAwMDBPTzAwT08wTzAgKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgT08wMDAwTzAwTzBPME8wMDAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsICgicG93ZXJzaGVsbC5leGUgR2V0LUNsaXBib2FyZCIsc3Rkb3V0ID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzdGRlcnIgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHNoZWxsID1UcnVlICkKICAgICAgICAgICAgT09PME8wME9PTzBPTzBPME8gLE9PMDBPT09PT08wTzBPT09PID1hd2FpdCBPTzAwMDBPMDBPME8wTzAwMCAuY29tbXVuaWNhdGUgKCkKICAgICAgICAgICAgaWYgT09PME8wME9PTzBPTzBPME8gOgogICAgICAgICAgICAgICAgVmFyaWFibGVzIC5DbGlwQm9hcmQgLmFwcGVuZCAoT09PME8wME9PTzBPTzBPME8gLmRlY29kZSAoZXJyb3JzID0iaWdub3JlIikpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICAgICAgICAgIHBhc3MKICAgIGFzeW5jIGRlZiBTdGVhbE5ldHdvcmtJbmZvcm1hdGlvbiAoTzAwMDAwME9PT08wTzBPT08gKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uICgpYXMgT08wME8wME8wTzBPMDAwMDAgOgogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzAwTzAwTzBPME8wMDAwMCAuZ2V0ICgiaHR0cDovL2lwLWFwaS5jb20vanNvbiIpYXMgTzAwT08wTzAwME9PTzBPTzAgOgogICAgICAgICAgICAgICAgICAgIE9PME9PTzBPT09PME9PT08wID1hd2FpdCBPMDBPTzBPMDAwT09PME9PMCAuanNvbiAoKQogICAgICAgICAgICAgICAgICAgIE9PMDBPT08wT09PMDBPT08wID1PTzBPT08wT09PTzBPT09PMCBbInF1ZXJ5Il0KICAgICAgICAgICAgICAgICAgICBPTzAwME8wTzAwT09PT08wMCA9T08wT09PME9PT08wT09PTzAgWyJjb3VudHJ5Il0KICAgICAgICAgICAgICAgICAgICBPTzBPTzBPTzBPTzAwME9PTyA9T08wT09PME9PT08wT09PTzAgWyJjaXR5Il0KICAgICAgICAgICAgICAgICAgICBPMDBPT09PT09PTzAwTzBPTyA9T08wT09PME9PT08wT09PTzAgWyJ0aW1lem9uZSJdCiAgICAgICAgICAgICAgICAgICAgTzBPMDBPMDBPMDBPTzAwT08gPU9PME9PTzBPT09PME9PT08wIFsiaXNwIl0rZiIge09PME9PTzBPT09PME9PT08wWydvcmcnXX0ge09PME9PTzBPT09PME9PT08wWydhcyddfSIKICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZXMgLk5ldHdvcmsgLmFwcGVuZCAoKE9PMDBPT08wT09PMDBPT08wICxPTzAwME8wTzAwT09PT08wMCAsT08wT08wT08wT08wMDBPT08gLE8wME9PT09PT09PMDBPME9PICxPME8wME8wME8wME9PMDBPTyApKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgU3RlYWxXaWZpSW5mb3JtYXRpb24gKE9PTzBPT09PTzAwMDBPMDAwICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wTzBPT08wT08wT08wTzAwID1hd2FpdCBPT08wT09PT08wMDAwTzAwMCAuR2V0RGVmYXVsdFN5c3RlbUVuY29kaW5nICgpCiAgICAgICAgICAgIE9PME8wME8wT09PMDBPME8wID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoIm5ldHNoIHdsYW4gc2hvdyBwcm9maWxlcyIsc3Rkb3V0ID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzdGRlcnIgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHNoZWxsID1UcnVlICkKICAgICAgICAgICAgT08wTzAwME8wTzBPTzAwT08gLE8wME9PMDAwT08wTzAwMDAwID1hd2FpdCBPTzBPMDBPME9PTzAwTzBPMCAuY29tbXVuaWNhdGUgKCkKICAgICAgICAgICAgT09PME9PMDBPT08wT08wME8gPU5vbmUKICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgIE9PTzBPTzAwT09PME9PMDBPID1PTzBPMDAwTzBPME9PMDBPTyAuZGVjb2RlIChPME8wT09PME9PME9PME8wMCApCiAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgICBPT08wT08wME9PTzBPTzAwTyA9T08wTzAwME8wTzBPTzAwT08gLmRlY29kZSAoZXJyb3JzID0iaWdub3JlIikKICAgICAgICAgICAgTzAwTzAwME9PMDAwT09PT08gPXJlIC5maW5kYWxsIChyJ0FsbCBVc2VyIFByb2ZpbGVccyo6ICguKiknLE9PTzBPTzAwT09PME9PMDBPICkKICAgICAgICAgICAgZm9yIE8wMDAwTzBPME8wT08wT08wIGluIE8wME8wMDBPTzAwME9PT09PIDoKICAgICAgICAgICAgICAgIE9PME8wTzAwMDBPME9PMDAwID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoZiduZXRzaCB3bGFuIHNob3cgcHJvZmlsZSBuYW1lPSJ7TzAwMDBPME8wTzBPTzBPTzB9IiBrZXk9Y2xlYXInLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc2hlbGwgPVRydWUgLGVuY29kaW5nID1Ob25lICkKICAgICAgICAgICAgICAgIE9PME8wMDBPME8wT08wME9PICxfTzBPMDAwTzAwT09PMDAwT08gPWF3YWl0IE9PME8wTzAwMDBPME9PMDAwIC5jb21tdW5pY2F0ZSAoKQogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBPTzAwME9PT08wT08wTzAwTyA9T08wTzAwME8wTzBPTzAwT08gLmRlY29kZSAoTzBPME9PTzBPTzBPTzBPMDAgKQogICAgICAgICAgICAgICAgZXhjZXB0IDpPTzAwME9PT08wT08wTzAwTyA9T08wTzAwME8wTzBPTzAwT08gLmRlY29kZSAoZXJyb3JzID0iaWdub3JlIikKICAgICAgICAgICAgICAgIE9PT08wTzBPTzBPT09PME8wID1yZSAuc2VhcmNoIChyJ0tleSBjb250ZW50XHMqOiAoLiopJyxPTzAwME9PT08wT08wTzAwTyAscmUgLklHTk9SRUNBU0UgKQogICAgICAgICAgICAgICAgVmFyaWFibGVzIC5XaWZpcyAuYXBwZW5kICgoTzAwMDBPME8wTzBPTzBPTzAgLE9PT08wTzBPTzBPT09PME8wIC5ncm91cCAoMSApaWYgT09PTzBPME9PME9PT08wTzAgZWxzZSAiTm8gcGFzc3dvcmQgZm91bmQiKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICAgcGFzcwpjbGFzcyBNYWluIDoKICAgIGRlZiBfX2luaXRfXyAoTzAwMDBPTzAwME9PT09PMDAgKS0+Tm9uZSA6CiAgICAgICAgTzAwMDBPTzAwME9PT09PMDAgLnByb2ZpbGVzX2Z1bGxfcGF0aCA9bGlzdCAoKQogICAgICAgIE8wMDAwT08wMDBPT09PTzAwIC5Sb2FtaW5nQXBwRGF0YSA9b3MgLmdldGVudiAoJ0FQUERBVEEnKQogICAgICAgIE8wMDAwT08wMDBPT09PTzAwIC5Mb2NhbEFwcERhdGEgPW9zIC5nZXRlbnYgKCdMT0NBTEFQUERBVEEnKQogICAgICAgIE8wMDAwT08wMDBPT09PTzAwIC5UZW1wID1vcyAuZ2V0ZW52ICgnVEVNUCcpCiAgICAgICAgTzAwMDBPTzAwME9PT09PMDAgLkZpcmVGb3ggPWJvb2wgKCkKICAgICAgICBPMDAwME9PMDAwT09PT08wMCAuRmlyZWZveEZpbGVzRnVsbFBhdGggPWxpc3QgKCkKICAgICAgICBPMDAwME9PMDAwT09PT08wMCAuRmlyZWZveENvb2tpZUxpc3QgPWxpc3QgKCkKICAgICAgICBPMDAwME9PMDAwT09PT08wMCAuRmlyZWZveEhpc3RvcnlMaXN0ID1saXN0ICgpCiAgICAgICAgTzAwMDBPTzAwME9PT09PMDAgLkZpcmVmb3hBdXRvZmlMaXN0ID1saXN0ICgpCiAgICBhc3luYyBkZWYgRnVuY3Rpb25SdW5uZXIgKE8wME9PT08wT08wMDBPT08wICk6CiAgICAgICAgYXdhaXQgTzAwT09PTzBPTzAwME9PTzAgLmtpbGxfYnJvd3NlcnMgKCkKICAgICAgICBPMDBPT09PME9PMDAwT09PMCAubGlzdF9wcm9maWxlcyAoKQogICAgICAgIE8wME9PT08wT08wMDBPT08wIC5MaXN0RmlyZWZveFByb2ZpbGVzICgpCiAgICAgICAgTzBPME9PTzAwMDAwT08wMDAgPVthc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldFBhc3N3b3JkcyAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wME9PT08wT08wMDBPT08wIC5HZXRDYXJkcyAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wME9PT08wT08wMDBPT08wIC5HZXRDb29raWVzICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldEZpcmVmb3hDb29raWVzICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldEhpc3RvcnkgKCkpLGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPMDBPT09PME9PMDAwT09PMCAuR2V0RmlyZWZveEhpc3RvcnlzICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldERvd25sb2FkICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldEJvb2tNYXJrICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldEF1dG9GaWxsICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldEZpcmVmb3hBdXRvRmlsbHMgKCkpLGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPMDBPT09PME9PMDAwT09PMCAuR2V0U3RlYW1TZXNzaW9uICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PTzBPTzAwME9PTzAgLkdldFRva2VucyAoKSksU3RlYWxTeXN0ZW1JbmZvcm1hdGlvbiAoKS5GdW5jdGlvblJ1bm5lciAoKV0KICAgICAgICBhd2FpdCBhc3luY2lvIC5nYXRoZXIgKCpPME8wT09PMDAwMDBPTzAwMCApCiAgICAgICAgYXdhaXQgTzAwT09PTzBPTzAwME9PTzAgLldyaXRlVG9UZXh0ICgpCiAgICAgICAgYXdhaXQgTzAwT09PTzBPTzAwME9PTzAgLlNlbmRBbGxEYXRhICgpCiAgICBkZWYgbGlzdF9wcm9maWxlcyAoT09PMDBPMDBPT08wT08wME8gKS0+Tm9uZSA6CiAgICAgICAgT08wTzBPT08wT08wTzBPMDAgPXsnR29vZ2xlIENocm9tZSc6b3MgLnBhdGggLmpvaW4gKE9PTzAwTzAwT09PME9PMDBPIC5Mb2NhbEFwcERhdGEgLCJHb29nbGUiLCJDaHJvbWUiLCJVc2VyIERhdGEiKSwnT3BlcmEnOm9zIC5wYXRoIC5qb2luIChPT08wME8wME9PTzBPTzAwTyAuUm9hbWluZ0FwcERhdGEgLCJPcGVyYSBTb2Z0d2FyZSIsIk9wZXJhIFN0YWJsZSIpLCdPcGVyYSBHWCc6b3MgLnBhdGggLmpvaW4gKE9PTzAwTzAwT09PME9PMDBPIC5Sb2FtaW5nQXBwRGF0YSAsIk9wZXJhIFNvZnR3YXJlIiwiT3BlcmEgR1ggU3RhYmxlIiksJ0JyYXZlJzpvcyAucGF0aCAuam9pbiAoT09PMDBPMDBPT08wT08wME8gLkxvY2FsQXBwRGF0YSAsIkJyYXZlU29mdHdhcmUiLCJCcmF2ZS1Ccm93c2VyIiwiVXNlciBEYXRhIiksJ0VkZ2UnOm9zIC5wYXRoIC5qb2luIChPT08wME8wME9PTzBPTzAwTyAuTG9jYWxBcHBEYXRhICwiTWljcm9zb2Z0IiwiRWRnZSIsIlVzZXIgRGF0YSIpLH0KICAgICAgICBmb3IgT09PME8wMDAwT09PTzBPME8gLE9PT08wMDBPT09PT08wME8wIGluIE9PME8wT09PME9PME8wTzAwIC5pdGVtcyAoKToKICAgICAgICAgICAgaWYgb3MgLnBhdGggLmlzZGlyIChPT09PMDAwT09PT09PMDBPMCApOgogICAgICAgICAgICAgICAgaWYgIk9wZXJhImluIE9PT08wMDBPT09PT08wME8wIDoKICAgICAgICAgICAgICAgICAgICBPT08wME8wME9PTzBPTzAwTyAucHJvZmlsZXNfZnVsbF9wYXRoIC5hcHBlbmQgKE9PT08wMDBPT09PT08wME8wICkKICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgIGZvciBPT08wME9PT09PT09PME9PTyAsTzAwTzAwME9PT08wMDBPMDAgLE9PT08wME9PT08wT08wTzAwIGluIG9zIC53YWxrIChPT09PMDAwT09PT09PMDBPMCApOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgT09PMDAwME9PT09PT08wMDAgaW4gTzAwTzAwME9PT08wMDBPMDAgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PMDAwTzAwTzBPTzBPMDAgPW9zIC5wYXRoIC5qb2luIChPT08wME9PT09PT09PME9PTyAsT09PMDAwME9PT09PT08wMDAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgT09PMDAwME9PT09PT08wMDAgPT0nRGVmYXVsdCdvciBPT08wMDAwT09PT09PTzAwMCAuc3RhcnRzd2l0aCAoJ1Byb2ZpbGUnKW9yICJHdWVzdCBQcm9maWxlImluIE9PTzAwMDBPT09PT09PMDAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT08wME8wME9PTzBPTzAwTyAucHJvZmlsZXNfZnVsbF9wYXRoIC5hcHBlbmQgKE9PTzAwME8wME8wT08wTzAwICkKICAgIGRlZiBMaXN0RmlyZWZveFByb2ZpbGVzIChPMDBPTzAwTzAwMDAwME8wTyApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPT09PMDBPT08wMDAwMDBPMCA9b3MgLnBhdGggLmpvaW4gKE8wME9PMDBPMDAwMDAwTzBPIC5Sb2FtaW5nQXBwRGF0YSAsIk1vemlsbGEiLCJGaXJlZm94IiwiUHJvZmlsZXMiKQogICAgICAgICAgICBpZiBvcyAucGF0aCAuaXNkaXIgKE9PT08wME9PTzAwMDAwME8wICk6CiAgICAgICAgICAgICAgICBmb3IgTzAwMDBPTzBPT09PMDBPMDAgLE8wTzBPT08wMDAwTzAwTzBPICxPTzBPTzAwMDBPT08wMDBPTyBpbiBvcyAud2FsayAoT09PTzAwT09PMDAwMDAwTzAgKToKICAgICAgICAgICAgICAgICAgICBmb3IgTzBPME8wT09PT09PMDAwME8gaW4gT08wT08wMDAwT09PMDAwT08gOgogICAgICAgICAgICAgICAgICAgICAgICBPMDBPTzBPT08wTzAwT09PTyA9b3MgLnBhdGggLmpvaW4gKE8wMDAwT08wT09PTzAwTzAwICxPME8wTzBPT09PT08wMDAwTyApCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIE8wTzBPME9PT09PTzAwMDBPIC5lbmRzd2l0aCAoImNvb2tpZXMuc3FsaXRlIilvciBPME8wTzBPT09PT08wMDAwTyAuZW5kc3dpdGggKCJwbGFjZXMuc3FsaXRlIilvciBPME8wTzBPT09PT08wMDAwTyAuZW5kc3dpdGggKCJmb3JtaGlzdG9yeS5zcWxpdGUiKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8wME9PMDBPMDAwMDAwTzBPIC5GaXJlZm94RmlsZXNGdWxsUGF0aCAuYXBwZW5kIChPMDBPTzBPT08wTzAwT09PTyApCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIGtpbGxfYnJvd3NlcnMgKE9PTzBPTzAwMDAwTzAwT08wICk6CiAgICAgICAgT08wTzBPT09PMDAwME9PTzAgPVsiY2hyb21lLmV4ZSIsIm9wZXJhLmV4ZSIsImVkZ2UuZXhlIiwiZmlyZWZveC5leGUiLCJicmF2ZS5leGUiXQogICAgICAgIE8wMDBPT09PME8wME8wMDAwID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoJ3Rhc2tsaXN0JyxzdGRvdXQgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHN0ZGVyciA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSApCiAgICAgICAgTzBPTzBPMDBPTzAwT08wTzAgLE9PMDAwT08wT09PMDBPT08wID1hd2FpdCBPMDAwT09PTzBPMDBPMDAwMCAuY29tbXVuaWNhdGUgKCkKICAgICAgICBpZiBub3QgTzAwME9PT08wTzAwTzAwMDAgLnJldHVybmNvZGUgIT0wIDoKICAgICAgICAgICAgT08wTzBPT08wTzBPT09PME8gPU8wT08wTzAwT08wME9PME8wIC5kZWNvZGUgKGVycm9ycyA9Imlnbm9yZSIpLnNwbGl0ICgnXG4nKQogICAgICAgICAgICBmb3IgTzBPME8wTzBPT09PTzAwMDAgaW4gT08wTzBPT08wTzBPT09PME8gOgogICAgICAgICAgICAgICAgZm9yIE8wT09PTzBPT09PMDBPT08wIGluIE9PME8wT09PTzAwMDBPT08wIDoKICAgICAgICAgICAgICAgICAgICBpZiBPME9PT08wT09PTzAwT09PMCAubG93ZXIgKClpbiBPME8wTzBPME9PT09PMDAwMCAubG93ZXIgKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDBPTzBPT09PT09PTzAwID1PME8wTzBPME9PT09PMDAwMCAuc3BsaXQgKCkKICAgICAgICAgICAgICAgICAgICAgICAgTzBPMDBPTzBPME9PME9PTzAgPU8wMDBPTzBPT09PT09PTzAwIFsxIF0KICAgICAgICAgICAgICAgICAgICAgICAgTzAwME9PT08wTzAwTzAwMDAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChmJ3Rhc2traWxsIC9GIC9QSUQge08wTzAwT08wTzBPTzBPT08wfScsc3Rkb3V0ID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzdGRlcnIgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgKQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBPMDAwT09PTzBPMDBPMDAwMCAuY29tbXVuaWNhdGUgKCkKICAgIGFzeW5jIGRlZiBHZXRGaXJlZm94Q29va2llcyAoTzBPTzBPT08wT09PT09PTzAgKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgZm9yIE8wTzAwTzAwT09PMDBPT09PIGluIE8wT08wT09PME9PT09PT08wIC5GaXJlZm94RmlsZXNGdWxsUGF0aCA6CiAgICAgICAgICAgICAgICBpZiAiY29va2llImluIE8wTzAwTzAwT09PMDBPT09PIDoKICAgICAgICAgICAgICAgICAgICBPT08wTzBPTzBPT08wMDBPMCA9c3FsaXRlMyAuY29ubmVjdCAoTzBPMDBPMDBPT08wME9PT08gKQogICAgICAgICAgICAgICAgICAgIE9PME8wME9PMDBPMDAwMDAwID1PT08wTzBPTzBPT08wMDBPMCAuY3Vyc29yICgpCiAgICAgICAgICAgICAgICAgICAgT08wTzAwT08wME8wMDAwMDAgLmV4ZWN1dGUgKCdTRUxFQ1QgaG9zdCwgbmFtZSwgcGF0aCwgdmFsdWUsIGV4cGlyeSBGUk9NIG1vel9jb29raWVzJykKICAgICAgICAgICAgICAgICAgICBPT09PME8wT09PME8wMDBPMCA9Tm9uZQogICAgICAgICAgICAgICAgICAgIE9PT09PMDBPT09PMDBPT08wID1Ob25lCiAgICAgICAgICAgICAgICAgICAgT08wMDAwTzBPT09PTzAwMDAgPU9PME8wME9PMDBPMDAwMDAwIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgICAgIGZvciBPT09PT09PMDAwT08wMDBPTyBpbiBPTzAwMDBPME9PT09PMDAwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wT08wT09PME9PT09PT08wIC5GaXJlZm94Q29va2llTGlzdCAuYXBwZW5kIChmIntPT09PT09PMDAwT08wMDBPT1swXX1cdHsnRkFMU0UnIGlmIE9PT09PT08wMDBPTzAwME9PWzRdID09IDAgZWxzZSAnVFJVRSd9XHR7T09PT09PTzAwME9PMDAwT09bMl19XHR7J0ZBTFNFJyBpZiBPT09PT09PMDAwT08wMDBPT1swXS5zdGFydHN3aXRoKCcuJykgZWxzZSAnVFJVRSd9XHR7T09PT09PTzAwME9PMDAwT09bNF19XHR7T09PT09PTzAwME9PMDAwT09bMV19XHR7T09PT09PTzAwME9PMDAwT09bM119XG4iKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAiaW5zdGFncmFtImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzAgXSkubG93ZXIgKClhbmQgInNlc3Npb25pZCJpbiBzdHIgKE9PT09PT08wMDBPTzAwME9PIFsxIF0pLmxvd2VyICgpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wT09PME9PT09PT08wIC5JbnN0YVNlc3Npb24gKE9PT09PT08wMDBPTzAwME9PIFszIF0sIkZpcmVmb3giKSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgInRpa3RvayJpbiBzdHIgKE9PT09PT08wMDBPTzAwME9PIFswIF0pLmxvd2VyICgpYW5kIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzEgXSk9PSJzZXNzaW9uaWQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wT09PME9PT09PT08wIC5UaWtUb2tTZXNzaW9uIChPT09PT09PMDAwT08wMDBPTyBbMyBdLCJGaXJlZm94IikpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICJ0d2l0dGVyImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzAgXSkubG93ZXIgKClhbmQgc3RyIChPT09PT09PMDAwT08wMDBPTyBbMSBdKT09ImF1dGhfdG9rZW4iOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wT09PME9PT09PT08wIC5Ud2l0dGVyU2Vzc2lvbiAoT09PT09PTzAwME9PMDAwT08gWzMgXSwiRmlyZWZveCIpKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAicmVkZGl0ImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzAgXSkubG93ZXIgKClhbmQgInJlZGRpdF9zZXNzaW9uImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzEgXSkubG93ZXIgKCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luY2lvIC5jcmVhdGVfdGFzayAoTzBPTzBPT08wT09PT09PTzAgLlJlZGRpdFNlc3Npb24gKE9PT09PT08wMDBPTzAwME9PIFszIF0sIkZpcmVmb3giKSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgInNwb3RpZnkiaW4gc3RyIChPT09PT09PMDAwT08wMDBPTyBbMCBdKS5sb3dlciAoKWFuZCAic3BfZGMiaW4gc3RyIChPT09PT09PMDAwT08wMDBPTyBbMSBdKS5sb3dlciAoKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPME9PME9PTzBPT09PT09PMCAuU3BvdGlmeVNlc3Npb24gKE9PT09PT08wMDBPTzAwME9PIFszIF0sIkZpcmVmb3giKSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgInJvYmxveCJpbiBzdHIgKE9PT09PT08wMDBPTzAwME9PIFswIF0pLmxvd2VyICgpYW5kICJST0JMT1NFQ1VSSVRZImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzEgXSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luY2lvIC5jcmVhdGVfdGFzayAoTzBPTzBPT08wT09PT09PTzAgLlJvYmxveFNlc3Npb24gKE9PT09PT08wMDBPTzAwME9PIFszIF0sIkZpcmVmb3giKSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgInR3aXRjaCJpbiBzdHIgKE9PT09PT08wMDBPTzAwME9PIFswIF0pLmxvd2VyICgpYW5kICJhdXRoLXRva2VuImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzEgXSkubG93ZXIgKCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT09PTzAwT09PTzAwT09PMCA9T09PT09PTzAwME9PMDAwT08gWzMgXQogICAgICAgICAgICAgICAgICAgICAgICBpZiAidHdpdGNoImluIHN0ciAoT09PT09PTzAwME9PMDAwT08gWzAgXSkubG93ZXIgKClhbmQgc3RyIChPT09PT09PMDAwT08wMDBPTyBbMSBdKS5sb3dlciAoKT09ImxvZ2luIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PT08wTzBPT08wTzAwME8wID1PT09PT09PMDAwT08wMDBPTyBbMyBdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBPT09PME8wT09PME8wMDBPMCA9PU5vbmUgYW5kIG5vdCBPT09PTzAwT09PTzAwT09PMCA9PU5vbmUgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wT09PME9PT09PT08wIC5Ud2l0Y2hTZXNzaW9uIChPT09PTzAwT09PTzAwT09PMCAsT09PTzBPME9PTzBPMDAwTzAgLCJGaXJlZm94IikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT09PME8wT09PME8wMDBPMCA9Tm9uZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PT08wME9PT08wME9PTzAgPU5vbmUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgImFjY291bnQucmlvdGdhbWVzLmNvbSJpbiBzdHIgKE9PT09PT08wMDBPTzAwME9PIFswIF0pLmxvd2VyICgpYW5kICJzaWQiaW4gc3RyIChPT09PT09PMDAwT08wMDBPTyBbMSBdKS5sb3dlciAoKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPME9PME9PTzBPT09PT09PMCAuUmlvdEdhbWVzU2Vzc2lvbiAoT09PT09PTzAwME9PMDAwT08gWzMgXSwiRmlyZWZveCIpKQogICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgTzBPTzBPT08wT09PT09PTzAgLkZpcmVGb3ggPVRydWUKICAgIGFzeW5jIGRlZiBHZXRGaXJlZm94SGlzdG9yeXMgKE8wT09PME8wTzBPMDBPME8wICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPTzAwMDAwME8wTzAwT09PTyBpbiBPME9PTzBPME8wTzAwTzBPMCAuRmlyZWZveEZpbGVzRnVsbFBhdGggOgogICAgICAgICAgICAgICAgaWYgInBsYWNlcyJpbiBPTzAwMDAwME8wTzAwT09PTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwTzBPME9PMDAwTzAwT08gPXNxbGl0ZTMgLmNvbm5lY3QgKE9PMDAwMDAwTzBPMDBPT09PICkKICAgICAgICAgICAgICAgICAgICBPTzAwTzBPME8wMDBPMDBPTyA9TzAwTzBPME9PMDAwTzAwT08gLmN1cnNvciAoKQogICAgICAgICAgICAgICAgICAgIE9PMDBPME8wTzAwME8wME9PIC5leGVjdXRlICgnU0VMRUNUIGlkLCB1cmwsIHRpdGxlLCB2aXNpdF9jb3VudCwgbGFzdF92aXNpdF9kYXRlIEZST00gbW96X3BsYWNlcycpCiAgICAgICAgICAgICAgICAgICAgT08wT08wME9PMDAwME9PMDAgPU9PMDBPME8wTzAwME8wME9PIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgICAgIGZvciBPMDBPT09PTzBPT09PT08wTyBpbiBPTzBPTzAwT08wMDAwT08wMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wT09PME8wTzBPMDBPME8wIC5GaXJlZm94SGlzdG9yeUxpc3QgLmFwcGVuZCAoZiJJRDoge08wME9PT09PME9PT09PTzBPWzBdfVxuUkw6IHtPMDBPT09PTzBPT09PT08wT1sxXX1cblRpdGxlOiB7TzAwT09PT08wT09PT09PME9bMl19XG5WaXNpdCBDb3VudDoge08wME9PT09PME9PT09PTzBPWzNdfVxuTGFzdCBWaXNpdCBUaW1lOiB7TzAwT09PT08wT09PT09PME9bNF19XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiIpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2UgOgogICAgICAgICAgICBPME9PTzBPME8wTzAwTzBPMCAuRmlyZUZveCA9VHJ1ZQogICAgYXN5bmMgZGVmIEdldEZpcmVmb3hBdXRvRmlsbHMgKE8wT08wMDAwMDBPTzAwTzAwICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPTzAwMDAwT09PT08wTzBPMCBpbiBPME9PMDAwMDAwT08wME8wMCAuRmlyZWZveEZpbGVzRnVsbFBhdGggOgogICAgICAgICAgICAgICAgaWYgImZvcm1oaXN0b3J5ImluIE9PMDAwMDBPT09PTzBPME8wIDoKICAgICAgICAgICAgICAgICAgICBPME8wTzAwT09PT08wT09PTyA9c3FsaXRlMyAuY29ubmVjdCAoT08wMDAwME9PT09PME8wTzAgKQogICAgICAgICAgICAgICAgICAgIE8wMDAwMDAwME9PTzAwME8wID1PME8wTzAwT09PT08wT09PTyAuY3Vyc29yICgpCiAgICAgICAgICAgICAgICAgICAgTzAwMDAwMDAwT09PMDAwTzAgLmV4ZWN1dGUgKCJzZWxlY3QgKiBmcm9tIG1vel9mb3JtaGlzdG9yeSIpCiAgICAgICAgICAgICAgICAgICAgT08wME8wMDAwMDAwT09PTzAgPU8wMDAwMDAwME9PTzAwME8wIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgICAgIGZvciBPT09PTzAwMDBPME9PME8wMCBpbiBPTzAwTzAwMDAwMDBPT09PMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wT08wMDAwMDBPTzAwTzAwIC5GaXJlZm94QXV0b2ZpTGlzdCAuYXBwZW5kIChmIntPT09PTzAwMDBPME9PME8wMH1cbiIpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2UgOgogICAgICAgICAgICBPME9PMDAwMDAwT08wME8wMCAuRmlyZUZveCA9VHJ1ZQogICAgYXN5bmMgZGVmIEdldFBhc3N3b3JkcyAoTzAwMDAwME8wT09PME8wT08gKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgZm9yIE9PT09PME8wTzBPME8wME8wIGluIE8wMDAwMDBPME9PTzBPME9PIC5wcm9maWxlc19mdWxsX3BhdGggOgogICAgICAgICAgICAgICAgT09PME9PT09PME8wTzBPT08gPSJOb25lIgogICAgICAgICAgICAgICAgTzBPTzAwME8wME8wMDBPMDAgPU9PT09PME8wTzBPME8wME8wIC5maW5kICgiVXNlciBEYXRhIikKICAgICAgICAgICAgICAgIGlmIE8wT08wMDBPMDBPMDAwTzAwICE9LTEgOgogICAgICAgICAgICAgICAgICAgIE9PMDAwMDAwME8wME9PTzAwID1PT09PTzBPME8wTzBPMDBPMCBbOk8wT08wMDBPMDBPMDAwTzAwICtsZW4gKCJVc2VyIERhdGEiKV0KICAgICAgICAgICAgICAgIGlmICJPcGVyYSJpbiBPT09PTzBPME8wTzBPMDBPMCA6CiAgICAgICAgICAgICAgICAgICAgT08wMDAwMDAwTzAwT09PMDAgPU9PT09PME8wTzBPME8wME8wCiAgICAgICAgICAgICAgICAgICAgT09PME9PT09PME8wTzBPT08gPSJPcGVyYSIKICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgIE9PME8wMDBPME8wT09PME8wID1PT09PTzBPME8wTzBPMDBPMCAuc3BsaXQgKCJcXCIpCiAgICAgICAgICAgICAgICAgICAgT09PME9PT09PME8wTzBPT08gPU9PME8wMDBPME8wT09PME8wIFstNCBdKyIgIitPTzBPMDAwTzBPME9PTzBPMCBbLTMgXQogICAgICAgICAgICAgICAgTzBPME8wTzAwT08wMDBPT08gPVN1Yk1vZHVsZXMgLkdldEtleSAob3MgLnBhdGggLmpvaW4gKE9PMDAwMDAwME8wME9PTzAwICwiTG9jYWwgU3RhdGUiKSkKICAgICAgICAgICAgICAgIE9PME9PT08wTzAwME8wT08wID1vcyAucGF0aCAuam9pbiAoT09PT08wTzBPME8wTzAwTzAgLCJMb2dpbiBEYXRhIikKICAgICAgICAgICAgICAgIE9PME8wT08wTzBPMDBPT08wID1vcyAucGF0aCAuam9pbiAoTzAwMDAwME8wT09PME8wT08gLlRlbXAgLCJMb2dpbnMuZGIiKQogICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5ZmlsZSAoT08wT09PTzBPMDAwTzBPTzAgLE9PME8wT08wTzBPMDBPT08wICkKICAgICAgICAgICAgICAgIE8wME8wME9PT09PME8wTzBPID1zcWxpdGUzIC5jb25uZWN0IChPTzBPME9PME8wTzAwT09PMCApCiAgICAgICAgICAgICAgICBPMDAwT08wMDBPME8wME8wTyA9TzAwTzAwT09PT08wTzBPME8gLmN1cnNvciAoKQogICAgICAgICAgICAgICAgTzAwME9PMDAwTzBPMDBPME8gLmV4ZWN1dGUgKCdzZWxlY3Qgb3JpZ2luX3VybCwgdXNlcm5hbWVfdmFsdWUsIHBhc3N3b3JkX3ZhbHVlIGZyb20gbG9naW5zJykKICAgICAgICAgICAgICAgIE9PMDBPTzBPMDBPT09PTzAwID1PMDAwT08wMDBPME8wME8wTyAuZmV0Y2hhbGwgKCkKICAgICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICAgICAgTzAwME9PMDAwTzBPMDBPME8gLmNsb3NlICgpCiAgICAgICAgICAgICAgICAgICAgTzAwTzAwT09PT08wTzBPME8gLmNsb3NlICgpCiAgICAgICAgICAgICAgICAgICAgb3MgLnJlbW92ZSAoT08wTzBPTzBPME8wME9PTzAgKQogICAgICAgICAgICAgICAgZXhjZXB0IDpwYXNzCiAgICAgICAgICAgICAgICBmb3IgT09PT08wTzAwTzAwTzAwMDAgaW4gT08wME9PME8wME9PT09PMDAgOgogICAgICAgICAgICAgICAgICAgIGlmIE9PT09PME8wME8wME8wMDAwIFswIF1hbmQgT09PT08wTzAwTzAwTzAwMDAgWzEgXWFuZCBPT09PTzBPMDBPMDBPMDAwMCBbMiBdOgogICAgICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZXMgLlBhc3N3b3JkcyAuYXBwZW5kIChmIlVSTCA6IHtPT09PTzBPMDBPMDBPMDAwMFswXX1cblVzZXJuYW1lIDoge09PT09PME8wME8wME8wMDAwWzFdfVxuUGFzc3dvcmQgOiB7U3ViTW9kdWxlcy5EZWNycHl0aW9uKE9PT09PME8wME8wME8wMDAwWzJdLCBPME8wTzBPMDBPTzAwME9PTyl9XG5Ccm93c2VyIDoge09PTzBPT09PTzBPME8wT09PfVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIikKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgR2V0Q2FyZHMgKE9PME9PTzBPME8wTzAwTzAwICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPMDBPTzBPME8wTzBPME9PMCBpbiBPTzBPT08wTzBPME8wME8wMCAucHJvZmlsZXNfZnVsbF9wYXRoIDoKICAgICAgICAgICAgICAgIE9PMDBPT09PMDAwMDAwTzAwID1PMDBPTzBPME8wTzBPME9PMCAuZmluZCAoIlVzZXIgRGF0YSIpCiAgICAgICAgICAgICAgICBpZiBPTzAwT09PTzAwMDAwME8wMCAhPS0xIDoKICAgICAgICAgICAgICAgICAgICBPME9PMDBPMDAwT08wT08wMCA9TzAwT08wTzBPME8wTzBPTzAgWzpPTzAwT09PTzAwMDAwME8wMCArbGVuICgiVXNlciBEYXRhIildCiAgICAgICAgICAgICAgICBpZiAiT3BlcmEiaW4gTzAwT08wTzBPME8wTzBPTzAgOgogICAgICAgICAgICAgICAgICAgIE8wT08wME8wMDBPTzBPTzAwID1PMDBPTzBPME8wTzBPME9PMAogICAgICAgICAgICAgICAgTzAwT08wT08wTzAwTzAwME8gPVN1Yk1vZHVsZXMgLkdldEtleSAob3MgLnBhdGggLmpvaW4gKE8wT08wME8wMDBPTzBPTzAwICwiTG9jYWwgU3RhdGUiKSkKICAgICAgICAgICAgICAgIE9PME9PT09PME8wTzAwMDAwID1vcyAucGF0aCAuam9pbiAoTzAwT08wTzBPME8wTzBPTzAgLCJXZWIgRGF0YSIpCiAgICAgICAgICAgICAgICBPMDAwTzBPME8wMDAwT09PTyA9b3MgLnBhdGggLmpvaW4gKE9PME9PTzBPME8wTzAwTzAwIC5UZW1wICwiV2ViLmRiIikKICAgICAgICAgICAgICAgIHNodXRpbCAuY29weWZpbGUgKE9PME9PT09PME8wTzAwMDAwICxPMDAwTzBPME8wMDAwT09PTyApCiAgICAgICAgICAgICAgICBPT08wTzBPME9PME9PT09PTyA9c3FsaXRlMyAuY29ubmVjdCAoTzAwME8wTzBPMDAwME9PT08gKQogICAgICAgICAgICAgICAgTzBPTzAwT09PT08wME9PTzAgPU9PTzBPME8wT08wT09PT09PIC5jdXJzb3IgKCkKICAgICAgICAgICAgICAgIE8wT08wME9PT09PMDBPT08wIC5leGVjdXRlICgnc2VsZWN0IGNhcmRfbnVtYmVyX2VuY3J5cHRlZCwgZXhwaXJhdGlvbl95ZWFyLCBleHBpcmF0aW9uX21vbnRoLCBuYW1lX29uX2NhcmQgZnJvbSBjcmVkaXRfY2FyZHMnKQogICAgICAgICAgICAgICAgTzAwMDBPTzBPME8wT09PMDAgPU8wT08wME9PT09PMDBPT08wIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBPME9PMDBPT09PTzAwT09PMCAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBPT08wTzBPME9PME9PT09PTyAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBvcyAucmVtb3ZlIChPMDAwTzBPME8wMDAwT09PTyApCiAgICAgICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgICAgIGZvciBPTzAwMDAwMDAwTzAwMDAwMCBpbiBPMDAwME9PME8wTzBPT08wMCA6CiAgICAgICAgICAgICAgICAgICAgaWYgT08wMDAwMDAwME8wMDAwMDAgWzIgXTwxMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE9PTzAwMDAwT08wME9PTzBPID0iMCIrc3RyIChPTzAwMDAwMDAwTzAwMDAwMCBbMiBdKQogICAgICAgICAgICAgICAgICAgIGVsc2UgOk9PTzAwMDAwT08wME9PTzBPID1PTzAwMDAwMDAwTzAwMDAwMCBbMiBdCiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGVzIC5DYXJkcyAuYXBwZW5kIChmIntTdWJNb2R1bGVzLkRlY3JweXRpb24oT08wMDAwMDAwME8wMDAwMDBbMF0sIE8wME9PME9PME8wME8wMDBPKX1cdHtPT08wMDAwME9PMDBPT08wT30ve09PMDAwMDAwMDBPMDAwMDAwWzFdfVx0e09PMDAwMDAwMDBPMDAwMDAwWzNdfVxuIikKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgR2V0Q29va2llcyAoTzBPTzBPME8wME9PTzBPME8gKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgZm9yIE8wME8wMDBPME8wTzAwT08wIGluIE8wT08wTzBPMDBPT08wTzBPIC5wcm9maWxlc19mdWxsX3BhdGggOgogICAgICAgICAgICAgICAgT09PMDBPT09PMDBPME8wT08gPSJOb25lIgogICAgICAgICAgICAgICAgT08wTzBPME8wME9PMDAwTzAgPU8wME8wMDBPME8wTzAwT08wIC5maW5kICgiVXNlciBEYXRhIikKICAgICAgICAgICAgICAgIGlmIE9PME8wTzBPMDBPTzAwME8wICE9LTEgOgogICAgICAgICAgICAgICAgICAgIE8wT09PMDBPT08wME8wME8wID1PMDBPMDAwTzBPME8wME9PMCBbOk9PME8wTzBPMDBPTzAwME8wICtsZW4gKCJVc2VyIERhdGEiKV0KICAgICAgICAgICAgICAgIGlmICJPcGVyYSJpbiBPMDBPMDAwTzBPME8wME9PMCA6CiAgICAgICAgICAgICAgICAgICAgTzBPT08wME9PTzAwTzAwTzAgPU8wME8wMDBPME8wTzAwT08wCiAgICAgICAgICAgICAgICAgICAgT09PMDBPT09PMDBPME8wT08gPSJPcGVyYSIKICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgIE8wT09PTzBPMDAwME8wMDAwID1PMDBPMDAwTzBPME8wME9PMCAuc3BsaXQgKCJcXCIpCiAgICAgICAgICAgICAgICAgICAgT09PMDBPT09PMDBPME8wT08gPU8wT09PTzBPMDAwME8wMDAwIFstNCBdKyIgIitPME9PT08wTzAwMDBPMDAwMCBbLTMgXQogICAgICAgICAgICAgICAgTzAwTzBPTzBPTzAwME8wT08gPVN1Yk1vZHVsZXMgLkdldEtleSAob3MgLnBhdGggLmpvaW4gKE8wT09PMDBPT08wME8wME8wICwiTG9jYWwgU3RhdGUiKSkKICAgICAgICAgICAgICAgIE8wTzAwT08wME8wTzBPTzBPID1vcyAucGF0aCAuam9pbiAoTzAwTzAwME8wTzBPMDBPTzAgLCJOZXR3b3JrIiwiQ29va2llcyIpCiAgICAgICAgICAgICAgICBPTzAwT08wTzBPT09PMDBPMCA9b3MgLnBhdGggLmpvaW4gKE8wT08wTzBPMDBPT08wTzBPIC5UZW1wICwiQ29va2llcy5kYiIpCiAgICAgICAgICAgICAgICB0cnkgOgogICAgICAgICAgICAgICAgICAgIHNodXRpbCAuY29weWZpbGUgKE8wTzAwT08wME8wTzBPTzBPICxPTzAwT08wTzBPT09PMDBPMCApCiAgICAgICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgIE8wTzAwT08wT09PT09PT08wID1zcWxpdGUzIC5jb25uZWN0IChPTzAwT08wTzBPT09PMDBPMCApCiAgICAgICAgICAgICAgICBPME8wMDBPT09PMDAwT09PMCA9TzBPMDBPTzBPT09PT09PTzAgLmN1cnNvciAoKQogICAgICAgICAgICAgICAgTzBPMDAwT09PTzAwME9PTzAgLmV4ZWN1dGUgKCdzZWxlY3QgaG9zdF9rZXksIG5hbWUsIHBhdGgsIGVuY3J5cHRlZF92YWx1ZSxleHBpcmVzX3V0YyBmcm9tIGNvb2tpZXMnKQogICAgICAgICAgICAgICAgTzBPT09PTzAwMDBPME8wT08gPU8wTzAwME9PT08wMDBPT08wIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBPME8wMDBPT09PMDAwT09PMCAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBPME8wME9PME9PT09PT09PMCAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBvcyAucmVtb3ZlIChPTzAwT08wTzBPT09PMDBPMCApCiAgICAgICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgICAgIE9PMDAwTzBPMDBPT08wMDAwID1Ob25lCiAgICAgICAgICAgICAgICBPTzAwMDBPME9PMDAwT08wMCA9Tm9uZQogICAgICAgICAgICAgICAgZm9yIE8wTzBPME8wMDBPMDBPT08wIGluIE8wT09PT08wMDAwTzBPME9PIDoKICAgICAgICAgICAgICAgICAgICBPTzAwTzBPMDAwMDBPMDBPMCA9U3ViTW9kdWxlcyAuRGVjcnB5dGlvbiAoTzBPME8wTzAwME8wME9PTzAgWzMgXSxPMDBPME9PME9PMDAwTzBPTyApCiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGVzIC5Db29raWVzIC5hcHBlbmQgKGYie08wTzBPME8wMDBPMDBPT08wWzBdfVx0eydGQUxTRScgaWYgTzBPME8wTzAwME8wME9PTzBbNF0gPT0gMCBlbHNlICdUUlVFJ31cdHtPME8wTzBPMDAwTzAwT09PMFsyXX1cdHsnRkFMU0UnIGlmIE8wTzBPME8wMDBPMDBPT08wWzBdLnN0YXJ0c3dpdGgoJy4nKSBlbHNlICdUUlVFJ31cdHtPME8wTzBPMDAwTzAwT09PMFs0XX1cdHtPME8wTzBPMDAwTzAwT09PMFsxXX1cdHtPTzAwTzBPMDAwMDBPMDBPMH1cbiIpCiAgICAgICAgICAgICAgICAgICAgaWYgImluc3RhZ3JhbSJpbiBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFswIF0pLmxvd2VyICgpYW5kICJzZXNzaW9uaWQiaW4gc3RyIChPME8wTzBPMDAwTzAwT09PMCBbMSBdKS5sb3dlciAoKToKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wTzBPMDBPT08wTzBPIC5JbnN0YVNlc3Npb24gKE9PMDBPME8wMDAwME8wME8wICxPT08wME9PT08wME8wTzBPTyApKQogICAgICAgICAgICAgICAgICAgIGlmICJ0aWt0b2siaW4gc3RyIChPME8wTzBPMDAwTzAwT09PMCBbMCBdKS5sb3dlciAoKWFuZCBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFsxIF0pPT0ic2Vzc2lvbmlkIjoKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wTzBPMDBPT08wTzBPIC5UaWtUb2tTZXNzaW9uIChPTzAwTzBPMDAwMDBPMDBPMCAsT09PMDBPT09PMDBPME8wT08gKSkKICAgICAgICAgICAgICAgICAgICBpZiAidHdpdHRlciJpbiBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFswIF0pLmxvd2VyICgpYW5kIHN0ciAoTzBPME8wTzAwME8wME9PTzAgWzEgXSk9PSJhdXRoX3Rva2VuIjoKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wT08wTzBPMDBPT08wTzBPIC5Ud2l0dGVyU2Vzc2lvbiAoT08wME8wTzAwMDAwTzAwTzAgLE9PTzAwT09PTzAwTzBPME9PICkpCiAgICAgICAgICAgICAgICAgICAgaWYgInJlZGRpdCJpbiBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFswIF0pLmxvd2VyICgpYW5kICJyZWRkaXRfc2Vzc2lvbiJpbiBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFsxIF0pLmxvd2VyICgpOgogICAgICAgICAgICAgICAgICAgICAgICBhc3luY2lvIC5jcmVhdGVfdGFzayAoTzBPTzBPME8wME9PTzBPME8gLlJlZGRpdFNlc3Npb24gKE9PMDBPME8wMDAwME8wME8wICxPT08wME9PT08wME8wTzBPTyApKQogICAgICAgICAgICAgICAgICAgIGlmICJzcG90aWZ5ImluIHN0ciAoTzBPME8wTzAwME8wME9PTzAgWzAgXSkubG93ZXIgKClhbmQgInNwX2RjImluIHN0ciAoTzBPME8wTzAwME8wME9PTzAgWzEgXSkubG93ZXIgKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPME9PME8wTzAwT09PME8wTyAuU3BvdGlmeVNlc3Npb24gKE9PMDBPME8wMDAwME8wME8wICxPT08wME9PT08wME8wTzBPTyApKQogICAgICAgICAgICAgICAgICAgIGlmICJyb2Jsb3giaW4gc3RyIChPME8wTzBPMDAwTzAwT09PMCBbMCBdKS5sb3dlciAoKWFuZCAiUk9CTE9TRUNVUklUWSJpbiBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFsxIF0pOgogICAgICAgICAgICAgICAgICAgICAgICBhc3luY2lvIC5jcmVhdGVfdGFzayAoTzBPTzBPME8wME9PTzBPME8gLlJvYmxveFNlc3Npb24gKE9PMDBPME8wMDAwME8wME8wICxPT08wME9PT08wME8wTzBPTyApKQogICAgICAgICAgICAgICAgICAgIGlmICJ0d2l0Y2giaW4gc3RyIChPME8wTzBPMDAwTzAwT09PMCBbMCBdKS5sb3dlciAoKWFuZCAiYXV0aC10b2tlbiJpbiBzdHIgKE8wTzBPME8wMDBPMDBPT08wIFsxIF0pLmxvd2VyICgpOgogICAgICAgICAgICAgICAgICAgICAgICBPTzAwMDBPME9PMDAwT08wMCA9T08wME8wTzAwMDAwTzAwTzAKICAgICAgICAgICAgICAgICAgICBpZiAidHdpdGNoImluIHN0ciAoTzBPME8wTzAwME8wME9PTzAgWzAgXSkubG93ZXIgKClhbmQgc3RyIChPME8wTzBPMDAwTzAwT09PMCBbMSBdKS5sb3dlciAoKT09ImxvZ2luIjoKICAgICAgICAgICAgICAgICAgICAgICAgT08wMDBPME8wME9PTzAwMDAgPU9PMDBPME8wMDAwME8wME8wCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IE9PMDAwTzBPMDBPT08wMDAwID09Tm9uZSBhbmQgbm90IE9PMDAwME8wT08wMDBPTzAwID09Tm9uZSA6CiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPME9PME8wTzAwT09PME8wTyAuVHdpdGNoU2Vzc2lvbiAoT08wMDAwTzBPTzAwME9PMDAgLE9PMDAwTzBPMDBPT08wMDAwICxPT08wME9PT08wME8wTzBPTyApKQogICAgICAgICAgICAgICAgICAgICAgICBPTzAwME8wTzAwT09PMDAwMCA9Tm9uZQogICAgICAgICAgICAgICAgICAgICAgICBPTzAwMDBPME9PMDAwT08wMCA9Tm9uZQogICAgICAgICAgICAgICAgICAgIGlmICJhY2NvdW50LnJpb3RnYW1lcy5jb20iaW4gc3RyIChPME8wTzBPMDAwTzAwT09PMCBbMCBdKS5sb3dlciAoKWFuZCAic2lkImluIHN0ciAoTzBPME8wTzAwME8wME9PTzAgWzEgXSkubG93ZXIgKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPME9PME8wTzAwT09PME8wTyAuUmlvdEdhbWVzU2Vzc2lvbiAoT08wME8wTzAwMDAwTzAwTzAgLE9PTzAwT09PTzAwTzBPME9PICkpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIEdldFdhbGxldHMgKE8wT09PTzAwMDAwT09PTzBPICxPME8wT09PMDBPTzBPME8wTyA6c3RyICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PME8wT08wMDBPMDBPME9PID17Ik1ldGFNYXNrIjoibmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4iLCJCaW5hbmNlIjoiZmhib2hpbWFlbGJvaHBqYmJsZGNuZ2NuYXBuZG9kanAiLCJQaGFudG9tIjoiYmZuYWVsbW9tZWltaGxwbWdqbmpvcGhocGtrb2xqcGEiLCJDb2luYmFzZSI6ImhuZmFua25vY2Zlb2ZiZGRnY2lqbm1obmZua2RuYWFkIiwiUm9uaW4iOiJmbmpobWtoaG1rYmpra2FibmRjbm5vZ2Fnb2dibmVlYyIsIkV4b2R1cyI6ImFob2xwZmRpYWxqZ2pmaG9taWhramJtZ2ppZGxjZG5vIiwiQ29pbjk4IjoiYWVhY2hrbm1lZnBoZXBjY2lvbmJvb2hja29ub2VlbWciLCJLYXJkaWFDaGFpbiI6InBkYWRqa2ZrZ2NhZmdiY2VpbWNwYmthbG5mbmVwYm5rIiwiVGVycmFTdGF0aW9uIjoiYWlpZmJuYmZvYnBtZWVraXBoZWVpamltZHBubHBncHAiLCJXb21iYXQiOiJhbWttamptbWZsZGRvZ21ocGpsb2ltaXBib2ZuZmppaCIsIkhhcm1vbnkiOiJmbm5lZ3BobG9iamRwa2hlY2Fwa2lqamRrZ2NqaGtpYiIsIk5hbWkiOiJscGZjYmprbmlqcGVlaWxsaWZua2lrZ25jaWtnZmhkbyIsIk1hcnRpYW5BcHRvcyI6ImVmYmdsZ29mb2lwcGJnY2plcG5oaWJsYWliY25jbGdrIiwiQnJhYXZvcyI6ImpubGdhbWVjYnBtYmFqamZobW1tbGhlamtlbWVqZG1hIiwiWERFRkkiOiJobWVvYm5mbmZjbWRrZGNtbGJsZ2FnbWZwZmJvaWVhZiIsIllvcm9pIjoiZmZuYmVsZmRvZWlvaGVua2ppYm5tYWRqaWVoamhhamIiLCJUT04iOiJucGhwbHBnb2FraGhqY2hra2htaWdnYWtpam5raGZuZCIsIkF1dGhlbnRpY2F0b3IiOiJiaGdob2FtYXBjZHBib2hwaGlnb29vYWRkaW5wa2JhaSIsIk1ldGFNYXNrX0VkZ2UiOiJlamJhbGJha29wbGNobGdoZWNkYWxtZWVlYWpuaW1obSIsIlRyb24iOiJpYm5lamRmam1ta3BjbmxwZWJrbG1ua29lb2lob2ZlYyIsfQogICAgICAgICAgICBPMDBPTzBPME8wMDBPMDBPTyA9eyJCaXRjb2luIjpvcyAucGF0aCAuam9pbiAoTzBPT09PMDAwMDBPT09PME8gLlJvYW1pbmdBcHBEYXRhICwiQml0Y29pbiIsIndhbGxldHMiKSwiWmNhc2giOm9zIC5wYXRoIC5qb2luIChPME9PT08wMDAwME9PT08wTyAuUm9hbWluZ0FwcERhdGEgLCJaY2FzaCIpLCJBcm1vcnkiOm9zIC5wYXRoIC5qb2luIChPME9PT08wMDAwME9PT08wTyAuUm9hbWluZ0FwcERhdGEgLCJBcm1vcnkiKSwiQnl0ZWNvaW4iOm9zIC5wYXRoIC5qb2luIChPME9PT08wMDAwME9PT08wTyAuUm9hbWluZ0FwcERhdGEgLCJieXRlY29pbiIpLCJKYXh4IjpvcyAucGF0aCAuam9pbiAoTzBPT09PMDAwMDBPT09PME8gLlJvYW1pbmdBcHBEYXRhICwiY29tLmxpYmVydHkuamF4eCIsIkluZGV4ZWREQiIsImZpbGVfXzAuaW5kZXhlZGRiLmxldmVsZGIiKSwiRXhvZHVzIjpvcyAucGF0aCAuam9pbiAoTzBPT09PMDAwMDBPT09PME8gLlJvYW1pbmdBcHBEYXRhICwiRXhvZHVzIiwiZXhvZHVzLndhbGxldCIpLCJFdGhlcmV1bSI6b3MgLnBhdGggLmpvaW4gKE8wT09PTzAwMDAwT09PTzBPIC5Sb2FtaW5nQXBwRGF0YSAsIkV0aGVyZXVtIiwia2V5c3RvcmUiKSwiRWxlY3RydW0iOm9zIC5wYXRoIC5qb2luIChPME9PT08wMDAwME9PT08wTyAuUm9hbWluZ0FwcERhdGEgLCJFbGVjdHJ1bSIsIndhbGxldHMiKSwiQXRvbWljV2FsbGV0IjpvcyAucGF0aCAuam9pbiAoTzBPT09PMDAwMDBPT09PME8gLlJvYW1pbmdBcHBEYXRhICwiYXRvbWljIiwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKSwiR3VhcmRhIjpvcyAucGF0aCAuam9pbiAoTzBPT09PMDAwMDBPT09PME8gLlJvYW1pbmdBcHBEYXRhICwiR3VhcmRhIiwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKSwiQ29pbm9taSI6b3MgLnBhdGggLmpvaW4gKE8wT09PTzAwMDAwT09PTzBPIC5Sb2FtaW5nQXBwRGF0YSAsIkNvaW5vbWkiLCJDb2lub21pIiwid2FsbGV0cyIpLH0KICAgICAgICAgICAgb3MgLm1rZGlyIChvcyAucGF0aCAuam9pbiAoTzBPME9PTzAwT08wTzBPME8gLCJXYWxsZXRzIikpCiAgICAgICAgICAgIGZvciBPME9PME9PME9PT09PT09PTyBpbiBPME9PT08wMDAwME9PT08wTyAucHJvZmlsZXNfZnVsbF9wYXRoIDoKICAgICAgICAgICAgICAgIE8wTzBPT09PT08wME8wMDAwID1vcyAucGF0aCAuam9pbiAoTzBPTzBPTzBPT09PT09PT08gLCJMb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MiKQogICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmV4aXN0cyAoTzBPME9PT09PTzAwTzAwMDAgKToKICAgICAgICAgICAgICAgICAgICBmb3IgTzAwT08wMDAwME9PT08wT08gLE8wTzBPMDAwME9PT09PMDBPIGluIE9PME8wT08wMDBPMDBPME9PIC5pdGVtcyAoKToKICAgICAgICAgICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmlzZGlyIChvcyAucGF0aCAuam9pbiAoTzBPME9PT09PTzAwTzAwMDAgLE8wTzBPMDAwME9PT09PMDBPICkpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPMDBPTzBPT09PMDAwMDBPTyA9b3MgLnBhdGggLmpvaW4gKE8wTzBPT09PT08wME8wMDAwICxPME8wTzAwMDBPT09PTzAwTyApLnNwbGl0ICgiXFwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8wTzAwMDBPME9PT08wTzAwID1mIntPMDBPTzBPT09PMDAwMDBPT1s1XX0ge08wME9PME9PT08wMDAwME9PWzZdfSB7TzAwT08wT09PTzAwMDAwT09bOF19IHtPMDBPTzAwMDAwT09PTzBPT30iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3MgLm1ha2VkaXJzIChPME8wT09PMDBPTzBPME8wTyArIlxcV2FsbGV0c1xcIitPME8wMDAwTzBPT09PME8wMCApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5dHJlZSAob3MgLnBhdGggLmpvaW4gKE8wTzBPT09PT08wME8wMDAwICxPME8wTzAwMDBPT09PTzAwTyApLG9zIC5wYXRoIC5qb2luIChPME8wT09PMDBPTzBPME8wTyAsIldhbGxldHMiLE8wTzAwMDBPME9PT08wTzAwICxPME8wTzAwMDBPT09PTzAwTyApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBmb3IgTzAwTzBPTzBPT09PME8wT08gLE9PTzAwTzBPMDAwME8wT08wIGluIE8wME9PME8wTzAwME8wME9PIC5pdGVtcyAoKToKICAgICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmV4aXN0cyAoT09PMDBPME8wMDAwTzBPTzAgKToKICAgICAgICAgICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5dHJlZSAoT09PMDBPME8wMDAwTzBPTzAgLG9zIC5wYXRoIC5qb2luIChPME8wT09PMDBPTzBPME8wTyAsIldhbGxldHMiLE8wME8wT08wT09PTzBPME9PICkpCiAgICAgICAgICAgICAgICBleGNlcHQgOmNvbnRpbnVlCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIEdldEhpc3RvcnkgKE8wT08wTzAwT09PME8wME9PICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPME8wT09PTzBPT09PT09PMCBpbiBPME9PME8wME9PTzBPMDBPTyAucHJvZmlsZXNfZnVsbF9wYXRoIDoKICAgICAgICAgICAgICAgIE8wME9PTzBPME9PT09PME8wID1vcyAucGF0aCAuam9pbiAoTzBPME9PT08wT09PT09PTzAgLCJIaXN0b3J5IikKICAgICAgICAgICAgICAgIE9PT09PTzBPTzBPME9PME8wID1vcyAucGF0aCAuam9pbiAoTzBPTzBPMDBPT08wTzAwT08gLlRlbXAgLCJIaXN0b3J5RGF0YS5kYiIpCiAgICAgICAgICAgICAgICBzaHV0aWwgLmNvcHlmaWxlIChPMDBPT08wTzBPT09PTzBPMCAsT09PT09PME9PME8wT08wTzAgKQogICAgICAgICAgICAgICAgT08wMDAwT08wTzAwT08wME8gPXNxbGl0ZTMgLmNvbm5lY3QgKE9PT09PTzBPTzBPME9PME8wICkKICAgICAgICAgICAgICAgIE8wMDAwME8wMDAwMDBPTzAwID1PTzAwMDBPTzBPMDBPTzAwTyAuY3Vyc29yICgpCiAgICAgICAgICAgICAgICBPMDAwMDBPMDAwMDAwT08wMCAuZXhlY3V0ZSAoJ3NlbGVjdCBpZCwgdXJsLCB0aXRsZSwgdmlzaXRfY291bnQsIGxhc3RfdmlzaXRfdGltZSBmcm9tIHVybHMnKQogICAgICAgICAgICAgICAgTzAwME8wMDBPT08wTzAwME8gPU8wMDAwME8wMDAwMDBPTzAwIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDBPMDAwMDAwT08wMCAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBPTzAwMDBPTzBPMDBPTzAwTyAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBvcyAucmVtb3ZlIChPT09PT08wT08wTzBPTzBPMCApCiAgICAgICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgICAgIGZvciBPTzBPTzAwMDAwTzBPT09PMCBpbiBPMDAwTzAwME9PTzBPMDAwTyA6CiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGVzIC5IaXN0b3J5cyAuYXBwZW5kIChmIklEIDoge09PME9PMDAwMDBPME9PT08wWzBdfVxuVVJMIDoge09PME9PMDAwMDBPME9PT08wWzFdfVxuaXRsZSA6IHtPTzBPTzAwMDAwTzBPT09PMFsyXX1cblZpc2l0IENvdW50IDoge09PME9PMDAwMDBPME9PT08wWzNdfVxuTGFzdCBWaXNpdCBUaW1lIHtPTzBPTzAwMDAwTzBPT09PMFs0XX1cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIikKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgR2V0QXV0b0ZpbGwgKE9PTzBPME9PTzBPME9PTzBPICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPME9PT08wMDBPMDAwMDAwTyBpbiBPT08wTzBPT08wTzBPT08wTyAucHJvZmlsZXNfZnVsbF9wYXRoIDoKICAgICAgICAgICAgICAgIE8wMDBPTzBPME8wMDAwT09PID1vcyAucGF0aCAuam9pbiAoTzBPT09PMDAwTzAwMDAwME8gLCJXZWIgRGF0YSIpCiAgICAgICAgICAgICAgICBPT09PTzAwT08wME8wMDBPTyA9b3MgLnBhdGggLmpvaW4gKE9PTzBPME9PTzBPME9PTzBPIC5UZW1wICwiQXV0b2ZpbGxEYXRhLmRiIikKICAgICAgICAgICAgICAgIHNodXRpbCAuY29weWZpbGUgKE8wMDBPTzBPME8wMDAwT09PICxPT09PTzAwT08wME8wMDBPTyApCiAgICAgICAgICAgICAgICBPME8wMDAwT09PME9PME9PTyA9c3FsaXRlMyAuY29ubmVjdCAoT09PT08wME9PMDBPMDAwT08gKQogICAgICAgICAgICAgICAgTzAwMDBPMDBPME8wTzBPMDAgPU8wTzAwMDBPT08wT08wT09PIC5jdXJzb3IgKCkKICAgICAgICAgICAgICAgIE8wMDAwTzAwTzBPME8wTzAwIC5leGVjdXRlICgnc2VsZWN0ICogZnJvbSBhdXRvZmlsbCcpCiAgICAgICAgICAgICAgICBPT09PTzBPTzAwMDAwMDBPMCA9TzAwMDBPMDBPME8wTzBPMDAgLmZldGNoYWxsICgpCiAgICAgICAgICAgICAgICB0cnkgOgogICAgICAgICAgICAgICAgICAgIE8wMDAwTzAwTzBPME8wTzAwIC5jbG9zZSAoKQogICAgICAgICAgICAgICAgICAgIE8wTzAwMDBPT08wT08wT09PIC5jbG9zZSAoKQogICAgICAgICAgICAgICAgICAgIG9zIC5yZW1vdmUgKE9PT09PMDBPTzAwTzAwME9PICkKICAgICAgICAgICAgICAgIGV4Y2VwdCA6cGFzcwogICAgICAgICAgICAgICAgZm9yIE8wTzAwT08wT08wME9PME9PIGluIE9PT09PME9PMDAwMDAwME8wIDoKICAgICAgICAgICAgICAgICAgICBpZiBPME8wME9PME9PMDBPTzBPTyA6CiAgICAgICAgICAgICAgICAgICAgICAgIFZhcmlhYmxlcyAuQXV0b2ZpbGxzIC5hcHBlbmQgKGYie08wTzAwT08wT08wME9PME9PfVxuIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDpwYXNzCiAgICBhc3luYyBkZWYgR2V0Qm9va01hcmsgKE8wMDBPT08wMDAwTzBPMDBPICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPME9PME9PME9PMDBPT08wMCBpbiBPMDAwT09PMDAwME8wTzAwTyAucHJvZmlsZXNfZnVsbF9wYXRoIDoKICAgICAgICAgICAgICAgIE9PT09PT08wT08wT08wME9PID1vcyAucGF0aCAuam9pbiAoTzBPTzBPTzBPTzAwT09PMDAgLCJCb29rbWFya3MiKQogICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmlzZmlsZSAoT09PT09PTzBPTzBPTzAwT08gKToKICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKE9PT09PT08wT08wT08wME9PICwiciIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPME8wME9PTzAwME9PME9PMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE9PT08wT08wMDBPTzBPMDAwID1qc29uIC5sb2FkIChPME8wME9PTzAwME9PME9PMCApCiAgICAgICAgICAgICAgICAgICAgT09PTzBPTzAwME9PME8wMDAgPU9PT08wT08wMDBPTzBPMDAwIFsicm9vdHMiXVsiYm9va21hcmtfYmFyIl1bImNoaWxkcmVuIl0KICAgICAgICAgICAgICAgICAgICBpZiBPT09PME9PMDAwT08wTzAwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIFZhcmlhYmxlcyAuQm9va21hcmtzIC5hcHBlbmQgKGYiQnJvd3NlciBQYXRoIDoge08wT08wT08wT08wME9PTzAwfVxuSUQgOiB7T09PTzBPTzAwME9PME8wMDBbJ2lkJ119XG5OYW1lIDoge09PT08wT08wMDBPTzBPMDAwWyduYW1lJ119XG5VUkwgOiB7T09PTzBPTzAwME9PME8wMDBbJ3VybCddfVxuR1VJRCA6IHtPT09PME9PMDAwT08wTzAwMFsnZ3VpZCddfVxuQWRkZWQgQXQgOiB7T09PTzBPTzAwME9PME8wMDBbJ2RhdGVfYWRkZWQnXX1cblxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgR2V0RG93bmxvYWQgKE9PT09PT08wME9PMDAwT08wICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGZvciBPT08wMDBPT09PT08wTzAwMCBpbiBPT09PT09PMDBPTzAwME9PMCAucHJvZmlsZXNfZnVsbF9wYXRoIDoKICAgICAgICAgICAgICAgIE9PMDAwT09PTzBPT09PT09PID1vcyAucGF0aCAuam9pbiAoT09PMDAwT09PT09PME8wMDAgLCJIaXN0b3J5IikKICAgICAgICAgICAgICAgIE8wME9PTzBPMDAwMDBPMDBPID1vcyAucGF0aCAuam9pbiAoT09PT09PTzAwT08wMDBPTzAgLlRlbXAgLCJEb3dubG9hZERhdGEuZGIiKQogICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5ZmlsZSAoT08wMDBPT09PME9PT09PT08gLE8wME9PTzBPMDAwMDBPMDBPICkKICAgICAgICAgICAgICAgIE9PTzAwMDAwTzAwME9PTzAwID1zcWxpdGUzIC5jb25uZWN0IChPMDBPT08wTzAwMDAwTzAwTyApCiAgICAgICAgICAgICAgICBPTzAwT09PME9PME9PMDAwTyA9T09PMDAwMDBPMDAwT09PMDAgLmN1cnNvciAoKQogICAgICAgICAgICAgICAgT08wME9PTzBPTzBPTzAwME8gLmV4ZWN1dGUgKCdzZWxlY3QgdGFiX3VybCwgdGFyZ2V0X3BhdGggZnJvbSBkb3dubG9hZHMnKQogICAgICAgICAgICAgICAgT08wMDAwMDBPME9PMDAwME8gPU9PMDBPT08wT08wT08wMDBPIC5mZXRjaGFsbCAoKQogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBPTzAwT09PME9PME9PMDAwTyAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBPT08wMDAwME8wMDBPT08wMCAuY2xvc2UgKCkKICAgICAgICAgICAgICAgICAgICBvcyAucmVtb3ZlIChPMDBPT08wTzAwMDAwTzAwTyApCiAgICAgICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgICAgIGZvciBPTzAwME8wME8wTzBPT09PTyBpbiBPTzAwMDAwME8wT08wMDAwTyA6CiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGVzIC5Eb3dubG9hZHMgLmFwcGVuZCAoZiJEb3dubG9hZGVkIFVSTDoge09PMDAwTzAwTzBPME9PT09PWzBdfVxuRG93bmxvYWRlZCBQYXRoOiB7T08wMDBPMDBPME8wT09PT09bMV19XG5cbiIpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIFN0ZWFsVXBsYXkgKE9PMDBPT09PME8wT09PTzBPICxPME8wMDAwMDBPTzAwTzAwTyA6c3RyICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PT09PTzAwMDBPT09PTzAwID1GYWxzZQogICAgICAgICAgICBPT09PTzAwME8wME9PMDAwMCA9b3MgLnBhdGggLmpvaW4gKE9PMDBPT09PME8wT09PTzBPIC5Mb2NhbEFwcERhdGEgLCJVYmlzb2Z0IEdhbWUgTGF1bmNoZXIiKQogICAgICAgICAgICBPME8wME8wMDBPMDBPMDAwTyA9b3MgLnBhdGggLmpvaW4gKE9PMDBPT09PME8wT09PTzBPIC5UZW1wICxPME8wMDAwMDBPTzAwTzAwTyAsIkdhbWVzIiwiVXBsYXkiKQogICAgICAgICAgICBpZiBvcyAucGF0aCAuaXNkaXIgKE9PT09PMDAwTzAwT08wMDAwICk6CiAgICAgICAgICAgICAgICBpZiBub3Qgb3MgLnBhdGggLmV4aXN0cyAoTzBPMDBPMDAwTzAwTzAwME8gKToKICAgICAgICAgICAgICAgICAgICBvcyAubWtkaXIgKE8wTzAwTzAwME8wME8wMDBPICkKICAgICAgICAgICAgICAgIGZvciBPME8wME9PT08wTzAwT09PTyBpbiBvcyAubGlzdGRpciAoT09PT08wMDBPMDBPTzAwMDAgKToKICAgICAgICAgICAgICAgICAgICBPME8wMDAwT08wT09PTzBPTyA9b3MgLnBhdGggLmpvaW4gKE9PT09PMDAwTzAwT08wMDAwICxPME8wME9PT08wTzAwT09PTyApCiAgICAgICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5IChPME8wMDAwT08wT09PTzBPTyAsb3MgLnBhdGggLmpvaW4gKE8wTzAwTzAwME8wME8wMDBPICxPME8wME9PT08wTzAwT09PTyApKQogICAgICAgICAgICAgICAgICAgICAgICBPT09PT08wMDAwT09PT08wMCA9VHJ1ZQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIFN0ZWFsRXBpY0dhbWVzIChPMDAwME9PME8wT09PMDAwMCAsT09PTzBPTzBPME9PT08wTzAgOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPMDBPTzBPT09PME9PME9PMCA9RmFsc2UKICAgICAgICAgICAgTzAwT08wT08wT09PME8wME8gPW9zIC5wYXRoIC5qb2luIChPMDAwME9PME8wT09PMDAwMCAuTG9jYWxBcHBEYXRhICwiRXBpY0dhbWVzTGF1bmNoZXIiLCJTYXZlZCIsIkNvbmZpZyIsIldpbmRvd3MiKQogICAgICAgICAgICBPTzAwT09PTzAwTzBPTzBPMCA9b3MgLnBhdGggLmpvaW4gKE8wMDAwT08wTzBPT08wMDAwIC5UZW1wICxPT09PME9PME8wT09PTzBPMCAsIkdhbWVzIiwiRXBpYyBHYW1lcyIpCiAgICAgICAgICAgIGlmIG9zIC5wYXRoIC5pc2RpciAoTzAwT08wT08wT09PME8wME8gKToKICAgICAgICAgICAgICAgIGlmIG5vdCBvcyAucGF0aCAuZXhpc3RzIChPTzAwT09PTzAwTzBPTzBPMCApOgogICAgICAgICAgICAgICAgICAgIG9zIC5ta2RpciAoT08wME9PT08wME8wT08wTzAgKQogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBzaHV0aWwgLmNvcHl0cmVlIChPMDBPTzBPTzBPT08wTzAwTyAsb3MgLnBhdGggLmpvaW4gKE9PMDBPT09PMDBPME9PME8wICwiV2luZG93cyIpKQogICAgICAgICAgICAgICAgICAgIE8wME9PME9PT08wT08wT08wID1UcnVlCiAgICAgICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIFN0ZWFsR3Jvd3RvcGlhIChPMDBPMDAwT08wTzBPTzAwMCAsT09PMDBPT08wT09PMDBPMDAgOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPME8wTzAwT08wT09PMDBPMCA9RmFsc2UKICAgICAgICAgICAgTzAwMDAwME8wMDBPME8wTzAgPW9zIC5wYXRoIC5qb2luIChPMDBPMDAwT08wTzBPTzAwMCAuTG9jYWxBcHBEYXRhICwiR3Jvd3RvcGlhIiwic2F2ZS5kYXQiKQogICAgICAgICAgICBPME9PTzBPME9PMDBPT09PMCA9b3MgLnBhdGggLmpvaW4gKE8wME8wMDBPTzBPME9PMDAwIC5UZW1wICxPT08wME9PTzBPT08wME8wMCAsIkdhbWVzIiwiR3Jvd3RvcGlhIikKICAgICAgICAgICAgaWYgb3MgLnBhdGggLmlzZmlsZSAoTzAwMDAwME8wMDBPME8wTzAgKToKICAgICAgICAgICAgICAgIE8wTzBPMDBPTzBPT08wME8wID1UcnVlCiAgICAgICAgICAgICAgICBzaHV0aWwgLmNvcHkgKE8wMDAwMDBPMDAwTzBPME8wICxvcyAucGF0aCAuam9pbiAoTzBPT08wTzBPTzAwT09PTzAgLCJzYXZlLmRhdCIpKQogICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgIHBhc3MKICAgIGFzeW5jIGRlZiBTdGVhbFRlbGVncmFtU2Vzc2lvbiAoTzBPMDAwTzBPME9PME8wME8gLE9PMDBPTzAwT08wME8wME8wIDpzdHIgKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgTzBPTzAwMDBPTzAwT09PTzAgPUZhbHNlCiAgICAgICAgICAgIE9PMDAwME8wTzAwTzBPMDAwID1vcyAucGF0aCAuam9pbiAoTzBPMDAwTzBPME9PME8wME8gLlJvYW1pbmdBcHBEYXRhICwiVGVsZWdyYW0gRGVza3RvcCIsInRkYXRhIikKICAgICAgICAgICAgaWYgb3MgLnBhdGggLmV4aXN0cyAoT08wMDAwTzBPMDBPME8wMDAgKToKICAgICAgICAgICAgICAgIE9PME9PT08wTzBPMDBPME8wID1vcyAucGF0aCAuam9pbiAoT08wME9PMDBPTzAwTzAwTzAgLCJUZWxlZ3JhbSBTZXNzaW9uIikKICAgICAgICAgICAgICAgIE9PTzBPMDBPT09PT09PMDAwID1bImR1bXBzIiwiZW1vamlzIiwidXNlcl9kYXRhIiwid29ya2luZyIsImVtb2ppIiwidGR1bW15IiwidXNlcl9kYXRhCiAgICAgICAgICAgICAgICBPTzBPT08wMDBPME9PTzBPTyA9YXdhaXQgYXN5bmNpbyAuY3JlYXRlX3N1YnByb2Nlc3Nfc2hlbGwgKGYidGFza2tpbGwgL0YgL0lNIFRlbGVncmFtLmV4ZSIsc2hlbGwgPVRydWUgLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICkKICAgICAgICAgICAgICAgIGF3YWl0IE9PME9PTzAwME8wT09PME9PIC5jb21tdW5pY2F0ZSAoKQogICAgICAgICAgICAgICAgaWYgbm90IG9zIC5wYXRoIC5leGlzdHMgKE9PME9PT08wTzBPMDBPME8wICk6CiAgICAgICAgICAgICAgICAgICAgb3MgLm1rZGlyIChPTzBPT09PME8wTzAwTzBPMCApCiAgICAgICAgICAgICAgICBmb3IgTzBPME8wTzAwMDBPTzAwME8gaW4gb3MgLmxpc3RkaXIgKE9PMDAwME8wTzAwTzBPMDAwICk6CiAgICAgICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICAgICAgX08wTzBPTzAwME9PME9PME8wID1vcyAucGF0aCAuam9pbiAoT08wMDAwTzBPMDBPME8wMDAgLE8wTzBPME8wMDAwT08wMDBPICkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IE8wTzBPME8wMDAwT08wMDBPIGluIE9PTzBPMDBPT09PT09PMDAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PMDAwTzAwTzBPME9PTzAwID1fTzBPME9PMDAwT08wT08wTzAgLnNwbGl0ICgiXFwiKVs3IF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9zIC5wYXRoIC5pc2ZpbGUgKF9PME8wT08wMDBPTzBPTzBPMCApOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNodXRpbCAuY29weWZpbGUgKF9PME8wT08wMDBPTzBPTzBPMCAsb3MgLnBhdGggLmpvaW4gKE9PME9PT08wTzBPMDBPME8wICxPTzAwME8wME8wTzBPT08wMCApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBvcyAucGF0aCAuaXNkaXIgKF9PME8wT08wMDBPTzBPTzBPMCApOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNodXRpbCAuY29weXRyZWUgKF9PME8wT08wMDBPTzBPTzBPMCAsb3MgLnBhdGggLmpvaW4gKE9PME9PT08wTzBPMDBPME8wICxPTzAwME8wME8wTzBPT08wMCApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTzBPTzAwMDBPTzAwT09PTzAgPVRydWUKICAgICAgICAgICAgICAgICAgICBleGNlcHQgOmNvbnRpbnVlCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIFJpb3RHYW1lc1Nlc3Npb24gKE8wME9PME9PMDAwMDAwMDBPICxPT09PME9PTzBPTzBPME8wMCAsT09PTzBPMDAwME9PT08wT08gOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPTzBPME8wTzBPTzAwME9PTyA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKQogICAgICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9T08wTzBPME8wT08wMDBPT08gKWFzIE9PMDBPME8wTzBPMDAwMDAwIDoKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT08wME8wTzBPME8wMDAwMDAgLmdldCAoJ2h0dHBzOi8vYWNjb3VudC5yaW90Z2FtZXMuY29tL2FwaS9hY2NvdW50L3YxL3VzZXInLGhlYWRlcnMgPXsiQ29va2llIjpmInNpZD17T09PTzBPT08wT08wTzBPMDB9In0pYXMgTzAwME8wT09PMDAwTzAwMDAgOgogICAgICAgICAgICAgICAgICAgIE9PMDAwTzBPME9PMDBPT09PID1hd2FpdCBPMDAwTzBPT08wMDBPMDAwMCAuanNvbiAoKQogICAgICAgICAgICAgICAgTzAwME9PT09PT08wME9PMDAgPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqUmlvdCBHYW1lcyBTZXNzaW9uIHdhcyBkZXRlY3RlZCBvbiB0aGUge09PT08wTzAwMDBPT09PME9PfSBicm93c2VyKioqIiwidXJsIjoiU2hpdCIsImNvbG9yIjowICwiZm9vdGVyIjp7InRleHQiOiJTaGl0In0sInRodW1ibmFpbCI6eyJ1cmwiOiJTaGl0In19CiAgICAgICAgICAgICAgICBPMDAwME9PTzBPT09PMDAwMCA9c3RyIChPTzAwME8wTzBPTzAwT09PTyBbInVzZXJuYW1lIl0pCiAgICAgICAgICAgICAgICBPME8wMDAwTzBPME8wTzAwTyA9c3RyIChPTzAwME8wTzBPTzAwT09PTyBbImVtYWlsIl0pCiAgICAgICAgICAgICAgICBPME9PME9PME9PTzBPTzAwTyA9c3RyIChPTzAwME8wTzBPTzAwT09PTyBbInJlZ2lvbiJdKQogICAgICAgICAgICAgICAgT08wMDBPT09PMDAwTzBPT08gPXN0ciAoT08wMDBPME8wT08wME9PT08gWyJsb2NhbGUiXSkKICAgICAgICAgICAgICAgIE8wMDBPME9PME9PT08wMDBPID1zdHIgKE9PMDAwTzBPME9PMDBPT09PIFsiY291bnRyeSJdKQogICAgICAgICAgICAgICAgT09PMDBPME9PMDAwT08wTzAgPXN0ciAoT08wMDBPME8wT08wME9PT08gWyJtZmEiXVsidmVyaWZpZWQiXSkKICAgICAgICAgICAgICAgIE9PME8wMDBPT09PT09PT08wID1beyJuYW1lIjoiVXNlcm5hbWUiLCJ2YWx1ZSI6ImBgIitPMDAwME9PTzBPT09PMDAwMCArImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiRW1haWwiLCJ2YWx1ZSI6ImBgIitPME8wMDAwTzBPME8wTzAwTyArImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiUmVnaW9uIiwidmFsdWUiOiJgYCIrTzBPTzBPTzBPT08wT08wME8gKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkxvY2FsZSIsInZhbHVlIjoiYGAiK09PMDAwT09PTzAwME8wT09PICsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJDb3VudHJ5IiwidmFsdWUiOiJgYCIrTzAwME8wT08wT09PTzAwME8gKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6Ik1GQSBFbmFibGVkPyIsInZhbHVlIjoiYGAiK09PTzAwTzBPTzAwME9PME8wICsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJDb29raWUiLCJ2YWx1ZSI6ImBgIitPT09PME9PTzBPTzBPME8wMCArImBgIiwiaW5saW5lIjpGYWxzZSB9LF0KICAgICAgICAgICAgICAgIE8wMDBPT09PT09PMDBPTzAwIFsiZmllbGRzIl09T08wTzAwME9PT09PT09PTzAKICAgICAgICAgICAgICAgIE8wT09PT09PME8wME9PT08wID17InVzZXJuYW1lIjoiU2hpdCIsImVtYmVkcyI6W08wMDBPT09PT09PMDBPTzAwIF19CiAgICAgICAgICAgICAgICBPTzBPT09PME8wME9PTzAwTyA9eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0KICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT08wME8wTzBPME8wMDAwMDAgLnBvc3QgKHdlYmhvb2sgLGpzb24gPU8wT09PT09PME8wME9PT08wICxoZWFkZXJzID1PTzBPT09PME8wME9PTzAwTyApYXMgT08wMDBPME8wT08wME9PT08gOgogICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxzZSA6CiAgICAgICAgICAgIFZhcmlhYmxlcyAuUmlvdEdhbWVBY2NvdW50cyAuYXBwZW5kIChmJ1VzZXJuYW1lIDoge08wMDAwT09PME9PT08wMDAwfVxuRW1haWwgOiB7TzBPMDAwME8wTzBPME8wME99XG5SZWdpb24gOiB7TzBPTzBPTzBPT08wT08wME99XG5Mb2NhbGUgOiB7T08wMDBPT09PMDAwTzBPT099XG5Db3VudHJ5IDoge08wMDBPME9PME9PT08wMDBPfVxuTUZBIEVuYWJsZWQgOiB7T09PMDBPME9PMDAwT08wTzB9XG5Db29raWUgOiB7T09PTzBPT08wT08wTzBPMDB9XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4nKQogICAgYXN5bmMgZGVmIEluc3RhU2Vzc2lvbiAoT09PT09PMDBPT08wMDBPMDAgLE9PMDBPT09PTzAwTzBPT08wICxPMDBPT09PT08wTzAwTzAwMCA6c3RyICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wTzBPME8wMDAwME8wT09PID0iU2hpdCIKICAgICAgICAgICAgTzBPT09PTzAwMDAwMDBPME8gPSIiCiAgICAgICAgICAgIE9PT08wT09PTzBPME9PMDBPID0iIgogICAgICAgICAgICBPT09PT08wTzAwMDBPTzAwMCA9eyJ1c2VyLWFnZW50IjoiSW5zdGFncmFtIDIxOS4wLjAuMTIuMTE3IEFuZHJvaWQiLCJjb29raWUiOmYic2Vzc2lvbmlkPXtPTzAwT09PT08wME8wT09PMH0ifQogICAgICAgICAgICBPTzBPT08wTzAwMDAwTzBPTyA9J2h0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MS9hY2NvdW50cy9jdXJyZW50X3VzZXIvP2VkaXQ9dHJ1ZScKICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChoZWFkZXJzID1PT09PT08wTzAwMDBPTzAwMCAsY29ubmVjdG9yID1haW9odHRwIC5UQ1BDb25uZWN0b3IgKHNzbCA9VHJ1ZSApKWFzIE8wME9PTzAwMDBPME8wMDAwIDoKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggTzAwT09PMDAwME8wTzAwMDAgLmdldCAoT08wT09PME8wMDAwME8wT08gKWFzIE9PME9PMDAwTzAwTzBPMDBPIDoKICAgICAgICAgICAgICAgICAgICBPTzBPTzAwME8wT08wT09PMCA9YXdhaXQgT08wT08wMDBPMDBPME8wME8gLmpzb24gKCkKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggTzAwT09PMDAwME8wTzAwMDAgLmdldCAoZiJodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvdXNlcnMve09PME9PMDAwTzBPTzBPT08wWyd1c2VyJ11bJ3BrJ119L2luZm8vIilhcyBPTzBPTzAwME8wME8wTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwTzBPT09PT09PMDBPMDAgPWF3YWl0IE9PME9PMDAwTzAwTzBPMDBPIC5qc29uICgpCiAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICBPME8wTzBPMDAwMDBPME9PTyA9T08wT08wMDBPME9PME9PTzAgWyJ1c2VyIl1bInByb2ZpbGVfcGljX3VybCJdCiAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIE8wT09PTzAwMDAwTzBPT09PID1PTzBPTzAwME8wT08wT09PMCBbInVzZXIiXVsidXNlcm5hbWUiXQogICAgICAgICAgICBPT08wME8wTzBPME8wME9PTyA9Imh0dHBzOi8vaW5zdGFncmFtLmNvbS8iK08wT09PTzAwMDAwTzBPT09PCiAgICAgICAgICAgIGlmIE9PME9PMDAwTzBPTzBPT08wIFsidXNlciJdWyJiaW9ncmFwaHkiXT09IiI6CiAgICAgICAgICAgICAgICBPME9PT09PMDAwMDAwME8wTyA9Ik5vIGJpbyIKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBPME9PT09PMDAwMDAwME8wTyA9T08wT08wMDBPME9PME9PTzAgWyJ1c2VyIl1bImJpb2dyYXBoeSJdCiAgICAgICAgICAgIE8wT09PT08wMDAwMDAwTzBPID1PME9PT09PMDAwMDAwME8wTyAucmVwbGFjZSAoIlxuIiwiLCAiKQogICAgICAgICAgICBpZiBPTzBPTzAwME8wT08wT09PMCBbInVzZXIiXVsiZnVsbF9uYW1lIl09PSIiOgogICAgICAgICAgICAgICAgT09PTzBPT09PME8wT08wME8gPSJObyBuaWNrbmFtZSIKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBPT09PME9PT08wTzBPTzAwTyA9T08wT08wMDBPME9PME9PTzAgWyJ1c2VyIl1bImZ1bGxfbmFtZSJdCiAgICAgICAgICAgIE9PME8wT09PT08wT09PME8wID1PTzBPTzAwME8wT08wT09PMCBbInVzZXIiXVsiZW1haWwiXQogICAgICAgICAgICBPME9PME8wT08wME9PME9PTyA9T08wT08wMDBPME9PME9PTzAgWyJ1c2VyIl1bImlzX3ZlcmlmaWVkIl0KICAgICAgICAgICAgT09PTzBPTzBPME9PME8wMDAgPU8wME8wT09PT09PTzAwTzAwIFsidXNlciJdWyJmb2xsb3dlcl9jb3VudCJdCiAgICAgICAgICAgIE9PTzBPT08wME8wME8wME9PID1PMDBPME9PT09PT08wME8wMCBbInVzZXIiXVsiZm9sbG93aW5nX2NvdW50Il0KICAgICAgICAgICAgTzAwT09PME9PME8wTzAwTzAgPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKipJbnN0YWdyYW0gU2Vzc2lvbiB3YXMgZGV0ZWN0ZWQgb24gdGhlIHtPMDBPT09PT08wTzAwTzAwMH0gYnJvd3NlcioqKiIsInVybCI6IlNoaXQiLCJjb2xvciI6MCAsImZvb3RlciI6eyJ0ZXh0IjoiU2hpdCJ9LCJ0aHVtYm5haWwiOnsidXJsIjpPME8wTzBPMDAwMDBPME9PTyB9fQogICAgICAgICAgICBPTzBPT08wME8wMDBPME9PTyA9W3sibmFtZSI6IlVzZXJuYW1lIiwidmFsdWUiOiJgYCIrTzBPT09PMDAwMDBPME9PT08gKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6Ik5pY2sgTmFtZSIsInZhbHVlIjoiYGAiK09PT08wT09PTzBPME9PMDBPICsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJFbWFpbCIsInZhbHVlIjoiYGAiK09PME8wT09PT08wT09PME8wICsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJpcyBWZXJpZmllZCIsInZhbHVlIjoiYGAiK3N0ciAoTzBPTzBPME9PMDBPTzBPT08gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJGb2xsb3dlcnMiLCJ2YWx1ZSI6ImBgIitzdHIgKE9PT08wT08wTzBPTzBPMDAwICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiRm9sbG93aW5nIiwidmFsdWUiOiJgYCIrc3RyIChPT08wT09PMDBPMDBPMDBPTyApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlByb2ZpbGUgVVJMIiwidmFsdWUiOiJgYCIrT09PMDBPME8wTzBPMDBPT08gKyJgYCIsImlubGluZSI6RmFsc2UgfSx7Im5hbWUiOiJCaW9ncmFwaHkiLCJ2YWx1ZSI6ImBgIitPME9PT09PMDAwMDAwME8wTyArImBgIiwiaW5saW5lIjpGYWxzZSB9LHsibmFtZSI6IkNvb2tpZSIsInZhbHVlIjoiYGAiK09PMDBPT09PTzAwTzBPT08wICsiYGAiLCJpbmxpbmUiOkZhbHNlIH0sXQogICAgICAgICAgICBPMDBPT08wT08wTzBPMDBPMCBbImZpZWxkcyJdPU9PME9PTzAwTzAwME8wT09PCiAgICAgICAgICAgIGFzeW5jIHdpdGggYWlvaHR0cCAuQ2xpZW50U2Vzc2lvbiAoY29ubmVjdG9yID1haW9odHRwIC5UQ1BDb25uZWN0b3IgKHNzbCA9VHJ1ZSApKWFzIE8wME9PTzAwMDBPME8wMDAwIDoKICAgICAgICAgICAgICAgIE8wMDAwTzAwME9PMDAwT08wID17InVzZXJuYW1lIjoiU2hpdCIsImVtYmVkcyI6W08wME9PTzBPTzBPME8wME8wIF19CiAgICAgICAgICAgICAgICBPT09PT08wTzAwMDBPTzAwMCA9eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0KICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggTzAwT09PMDAwME8wTzAwMDAgLnBvc3QgKHdlYmhvb2sgLGpzb24gPU8wMDAwTzAwME9PMDAwT08wICxoZWFkZXJzID1PT09PT08wTzAwMDBPTzAwMCApYXMgT08wT08wMDBPMDBPME8wME8gOgogICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2UgOgogICAgICAgICAgICBWYXJpYWJsZXMgLkluc3RhZ3JhbUFjY291bnRzIC5hcHBlbmQgKGYiQ29va2llIDoge09PMDBPT09PTzAwTzBPT08wfVxuUHJvZmlsZSBVUkwgOiB7T09PMDBPME8wTzBPMDBPT099XG5Vc2VybmFtZSA6IHtPME9PT08wMDAwME8wT09PT31cbk5pY2sgTmFtZSA6IHtPT09PME9PT08wTzBPTzAwT31cbmlzIFZlcmlmaWVkIDoge08wT08wTzBPTzAwT08wT09PfVxuRW1haWwgOiB7T08wTzBPT09PTzBPT08wTzB9XG5Gb2xsb3dlcnMgOiB7T09PTzBPTzBPME9PME8wMDB9XG5Gb2xsb3dpbmcgOiB7T09PME9PTzAwTzAwTzAwT099XG5CaW9ncmFwaHkgOiB7TzBPT09PTzAwMDAwMDBPME99XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4iKQogICAgYXN5bmMgZGVmIFRpa1Rva1Nlc3Npb24gKE8wMDAwME9PT08wTzAwT09PICxPME8wTzAwT09PTzAwMDBPMCAsTzAwT08wMDBPME9PMDBPTzAgOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPT08wMDBPT09PMDAwT08wMCA9JycKICAgICAgICAgICAgT09PME8wT08wME8wMDAwME8gPScnCiAgICAgICAgICAgIE9PT09PTzBPMDAwTzAwT08wID0ic2Vzc2lvbmlkPSIrTzBPME8wME9PT08wMDAwTzAKICAgICAgICAgICAgTzAwTzBPT08wMDAwME9PTzAgPXsiY29va2llIjpPT09PT08wTzAwME8wME9PMCAsIkFjY2VwdC1FbmNvZGluZyI6ImlkZW50aXR5In0KICAgICAgICAgICAgT09PME9PME9PME8wT08wT08gPXsiY29va2llIjpPT09PT08wTzAwME8wME9PMCB9CiAgICAgICAgICAgIE8wT09PME8wME8wME8wME8wID0naHR0cHM6Ly93d3cudGlrdG9rLmNvbS9wYXNzcG9ydC93ZWIvYWNjb3VudC9pbmZvLz9haWQ9MTQ1OSZhcHBfbGFuZ3VhZ2U9ZGUtREUmYXBwX25hbWU9dGlrdG9rX3dlYiZiYXR0ZXJ5X2luZm89MSZicm93c2VyX2xhbmd1YWdlPWRlLURFJmJyb3dzZXJfbmFtZT1Nb3ppbGxhJmJyb3dzZXJfb25saW5lPXRydWUmYnJvd3Nlcl9wbGF0Zm9ybT1XaW4zMiZicm93c2VyX3ZlcnNpb249NS4wJTIwJTI4V2luZG93cyUyME5UJTIwMTAuMCUzQiUyMFdpbjY0JTNCJTIweDY0JTI5JTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAlMjhLSFRNTCUyQyUyMGxpa2UlMjBHZWNrbyUyOSUyMENocm9tZSUyRjExMi4wLjAuMCUyMFNhZmFyaSUyRjUzNy4zNiZjaGFubmVsPXRpa3Rva193ZWImY29va2llX2VuYWJsZWQ9dHJ1ZSZkZXZpY2VfcGxhdGZvcm09d2ViX3BjJmZvY3VzX3N0YXRlPXRydWUmZnJvbV9wYWdlPWZ5cCZoaXN0b3J5X2xlbj0yJmlzX2Z1bGxzY3JlZW49ZmFsc2UmaXNfcGFnZV92aXNpYmxlPXRydWUmb3M9d2luZG93cyZwcmlvcml0eV9yZWdpb249REUmcmVmZXJlcj0mcmVnaW9uPURFJnNjcmVlbl9oZWlnaHQ9MTA4MCZzY3JlZW5fd2lkdGg9MTkyMCZ0el9uYW1lPUV1cm9wZSUyRkJlcmxpbiZ3ZWJjYXN0X2xhbmd1YWdlPWRlLURFJwogICAgICAgICAgICBPTzBPT08wME9PTzAwMDBPTyA9J2h0dHBzOi8vd2ViY2FzdC50aWt0b2suY29tL3dlYmNhc3Qvd2FsbGV0X2FwaS9kaWFtb25kX2J1eS9wZXJtaXNzaW9uLz9haWQ9MTk4OCZhcHBfbGFuZ3VhZ2U9ZGUtREUmYXBwX25hbWU9dGlrdG9rX3dlYiZiYXR0ZXJ5X2luZm89MSZicm93c2VyX2xhbmd1YWdlPWRlLURFJmJyb3dzZXJfbmFtZT1Nb3ppbGxhJmJyb3dzZXJfb25saW5lPXRydWUmYnJvd3Nlcl9wbGF0Zm9ybT1XaW4zMiZicm93c2VyX3ZlcnNpb249NS4wJTIwJTI4V2luZG93cyUyME5UJTIwMTAuMCUzQiUyMFdpbjY0JTNCJTIweDY0JTI5JTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAlMjhLSFRNTCUyQyUyMGxpa2UlMjBHZWNrbyUyOSUyMENocm9tZSUyRjExMi4wLjAuMCUyMFNhZmFyaSUyRjUzNy4zNiZjaGFubmVsPXRpa3Rva193ZWImY29va2llX2VuYWJsZWQ9dHJ1ZScKICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT09PTzAwT09PME9PMDAwME8gOgogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPT09PMDBPT08wT08wMDAwTyAuZ2V0IChPME9PTzBPMDBPMDBPMDBPMCAsaGVhZGVycyA9TzAwTzBPT08wMDAwME9PTzAgKWFzIE8wT08wMDBPME8wME8wME9PIDoKICAgICAgICAgICAgICAgICAgICBPTzBPME8wTzAwME8wME9PMCA9YXdhaXQgTzBPTzAwME8wTzAwTzAwT08gLmpzb24gKCkKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT09PTzAwT09PME9PMDAwME8gLmdldCAoT08wT09PMDBPT08wMDAwT08gLGhlYWRlcnMgPU9PTzBPTzBPTzBPME9PME9PIClhcyBPME8wTzAwTzBPMDAwMDBPMCA6CiAgICAgICAgICAgICAgICAgICAgT08wMDAwT09PME9PMDAwMDAgPWF3YWl0IE8wTzBPMDBPME8wMDAwME8wIC5qc29uICgpCiAgICAgICAgICAgIE8wTzAwT09PTzBPT08wTzAwID1PTzBPME8wTzAwME8wME9PMCBbImRhdGEiXVsidXNlcl9pZCJdCiAgICAgICAgICAgIGlmIG5vdCBPTzBPME8wTzAwME8wME9PMCBbImRhdGEiXVsiZW1haWwiXToKICAgICAgICAgICAgICAgIE9PTzAwME9PT08wMDBPTzAwID0iTm8gRW1haWwiCiAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgT09PMDAwT09PTzAwME9PMDAgPU9PME8wTzBPMDAwTzAwT08wIFsiZGF0YSJdWyJlbWFpbCJdCiAgICAgICAgICAgIGlmIG5vdCBPTzBPME8wTzAwME8wME9PMCBbImRhdGEiXVsibW9iaWxlIl06CiAgICAgICAgICAgICAgICBPT08wTzBPTzAwTzAwMDAwTyA9Ik5vIG51bWJlciIKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBPT08wTzBPTzAwTzAwMDAwTyA9T08wTzBPME8wMDBPMDBPTzAgWyJkYXRhIl1bIm1vYmlsZSJdCiAgICAgICAgICAgIE8wME8wME9PME8wTzAwMDAwID1PTzBPME8wTzAwME8wME9PMCBbImRhdGEiXVsidXNlcm5hbWUiXQogICAgICAgICAgICBPMDBPTzAwMDAwT09PTzAwMCA9T08wMDAwT09PME9PMDAwMDAgWyJkYXRhIl1bImNvaW5zIl0KICAgICAgICAgICAgTzBPTzAwTzBPME8wME9PT08gPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqVGlrdG9rIFNlc3Npb24gd2FzIGRldGVjdGVkIG9uIHRoZSB7TzAwT08wMDBPME9PMDBPTzB9IGJyb3dzZXIqKioiLCJ1cmwiOiJTaGl0IiwiY29sb3IiOjAgLCJmb290ZXIiOnsidGV4dCI6IlNoaXQifSwidGh1bWJuYWlsIjp7InVybCI6IlNoaXQifX0KICAgICAgICAgICAgTzBPME8wMDAwT08wT09PME8gPVt7Im5hbWUiOiJVc2VybmFtZSIsInZhbHVlIjoiYGAiK08wME8wME9PME8wTzAwMDAwICsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJFbWFpbCIsInZhbHVlIjoiYGAiK09PTzAwME9PT08wMDBPTzAwICsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJQaG9uZSIsInZhbHVlIjoiYGAiK3N0ciAoT09PME8wT08wME8wMDAwME8gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJVc2VyIGlkZW50aWZpZXIiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wTzAwT09PTzBPT08wTzAwICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiQ29pbnMiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wME9PMDAwMDBPT09PMDAwICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiUHJvZmlsZSBVUkwiLCJ2YWx1ZSI6ImBgIitmJ2h0dHBzOi8vdGlrdG9rLmNvbS9Ae08wME8wME9PME8wTzAwMDAwfScrImBgIiwiaW5saW5lIjpGYWxzZSB9LHsibmFtZSI6IlRpa3RvayBDb29raWUiLCJ2YWx1ZSI6ImBgIitPME8wTzAwT09PTzAwMDBPMCArImBgIiwiaW5saW5lIjpGYWxzZSB9LF0KICAgICAgICAgICAgTzBPTzAwTzBPME8wME9PT08gWyJmaWVsZHMiXT1PME8wTzAwMDBPTzBPT08wTwogICAgICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKSlhcyBPT09PMDBPT08wT08wMDAwTyA6CiAgICAgICAgICAgICAgICBPME9PME9PTzBPME8wT09PTyA9eyJ1c2VybmFtZSI6IlNoaXQiLCJlbWJlZHMiOltPME9PMDBPME8wTzAwT09PTyBdfQogICAgICAgICAgICAgICAgTzAwTzBPT08wMDAwME9PTzAgPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9CiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PT08wME9PTzBPTzAwMDBPIC5wb3N0ICh3ZWJob29rICxqc29uID1PME9PME9PTzBPME8wT09PTyAsaGVhZGVycyA9TzAwTzBPT08wMDAwME9PTzAgKWFzIE8wT08wMDBPME8wME8wME9PIDoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2UgOgogICAgICAgICAgICBWYXJpYWJsZXMgLlRpa1Rva0FjY291bnRzIC5hcHBlbmQgKGYiQ29va2llIDoge09PT09PTzBPMDAwTzAwT08wfVxuVXNlciBpZGVudGlmaWVyIDoge08wTzAwT09PTzBPT08wTzAwfVxuUHJvZmlsZSBVUkwgOiBodHRwczovL3Rpa3Rvay5jb20vQHtPMDBPMDBPTzBPME8wMDAwMH1cblVzZXJuYW1lIDoge3VzZXJuYW1lfVxuRW1haWwgOiB7T09PMDAwT09PTzAwME9PMDB9XG5QaG9uZSA6IHtPT08wTzBPTzAwTzAwMDAwT31cbkNvaW5zIDoge08wME9PMDAwMDBPT09PMDAwfVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIikKICAgIGFzeW5jIGRlZiBUd2l0dGVyU2Vzc2lvbiAoTzBPT08wTzAwT09PMDBPT08gLE8wMDAwT09PMDAwTzBPMDAwICxPME8wTzAwTzAwTzBPME9PMCA6c3RyICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wTzBPT08wTzBPMDBPME9PID0nJwogICAgICAgICAgICBPT08wTzBPME9PTzAwTzBPTyA9Zid7TzAwMDBPT08wMDBPME8wMDB9O2N0MD1hYzFhYTlkNThjODc5OGYwOTMyNDEwYTFhNTY0ZWI0MicKICAgICAgICAgICAgT09PTzAwME9PMDAwMDBPTzAgPXsnYXV0aG9yaXR5JzondHdpdHRlci5jb20nLCdhY2NlcHQnOicqLyonLCdhY2NlcHQtbGFuZ3VhZ2UnOidlbi1VUyxlbjtxPTAuOScsJ2F1dGhvcml6YXRpb24nOidCZWFyZXIgQUFBQUFBQUFBQUFBQUFBQUFBQUFBTlJJTGdBQUFBQUFuTndJelVlalJDT3VINUU2STh4blp6NHB1VHMlM0QxWnY3dHRmazhMRjgxSVVxMTZjSGpoTFR2SnU0RkEzM0FHV1dqQ3BUbkEnLCdvcmlnaW4nOidodHRwczovL3R3aXR0ZXIuY29tJywncmVmZXJlcic6J2h0dHBzOi8vdHdpdHRlci5jb20vaG9tZScsJ3NlYy1mZXRjaC1kZXN0JzonZW1wdHknLCdzZWMtZmV0Y2gtbW9kZSc6J2NvcnMnLCdzZWMtZmV0Y2gtc2l0ZSc6J3NhbWUtb3JpZ2luJywnc2VjLWdwYyc6JzEnLCd1c2VyLWFnZW50JzonTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwNi4wLjAuMCBTYWZhcmkvNTM3LjM2JywneC10d2l0dGVyLWFjdGl2ZS11c2VyJzoneWVzJywneC10d2l0dGVyLWF1dGgtdHlwZSc6J09BdXRoMlNlc3Npb24nLCd4LXR3aXR0ZXItY2xpZW50LWxhbmd1YWdlJzonZW4nLCd4LWNzcmYtdG9rZW4nOidhYzFhYTlkNThjODc5OGYwOTMyNDEwYTFhNTY0ZWI0MicsImNvb2tpZSI6ZidhdXRoX3Rva2VuPXtPT08wTzBPME9PTzAwTzBPT30nfQogICAgICAgICAgICBPMDAwT09PTzBPME8wMDAwMCA9Imh0dHBzOi8vdHdpdHRlci5jb20vaS9hcGkvMS4xL2FjY291bnQvdXBkYXRlX3Byb2ZpbGUuanNvbiIKICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT08wME9PT09PME9PMDAwME8gOgogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzAwT09PT08wT08wMDAwTyAucG9zdCAoTzAwME9PT08wTzBPMDAwMDAgLGhlYWRlcnMgPU9PT08wMDBPTzAwMDAwT08wIClhcyBPMDBPMDBPTzBPMDAwTzBPTyA6CiAgICAgICAgICAgICAgICAgICAgTzBPMDBPTzAwT09PME9PTzAgPWF3YWl0IE8wME8wME9PME8wMDBPME9PIC5qc29uICgpCiAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICBpZiBPME8wME9PMDBPT08wT09PMCBbImRlc2NyaXB0aW9uIl09PSIiOgogICAgICAgICAgICAgICAgICAgIE8wTzBPT08wTzBPMDBPME9PID0iVGhlcmUgaXMgbm8gYmlvIgogICAgICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICAgICAgTzBPME9PTzBPME8wME8wT08gPU8wTzAwT08wME9PTzBPT08wIFsiZGVzY3JpcHRpb24iXQogICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICAgTzBPME9PTzBPME8wME8wT08gPSJUaGVyZSBpcyBubyBiaW9ncmFwaHkiCiAgICAgICAgICAgIE8wTzBPT08wTzBPMDBPME9PID1PME8wT09PME8wTzAwTzBPTyAucmVwbGFjZSAoIlxuIiwiLCAiKQogICAgICAgICAgICBPMDBPT09PTzAwT08wTzAwTyA9TzBPMDBPTzAwT09PME9PTzAgWyJwcm9maWxlX2ltYWdlX3VybF9odHRwcyJdCiAgICAgICAgICAgIE9PME9PT08wTzAwTzAwMDBPID1PME8wME9PMDBPT08wT09PMCBbIm5hbWUiXQogICAgICAgICAgICBPME8wMDBPTzBPTzBPME8wTyA9TzBPMDBPTzAwT09PME9PTzAgWyJzY3JlZW5fbmFtZSJdCiAgICAgICAgICAgIE8wME8wTzBPT09PMDAwT09PID0iaHR0cHM6Ly90d2l0dGVyLmNvbS8iK09PME9PT08wTzAwTzAwMDBPCiAgICAgICAgICAgIE9PTzBPT09PMDBPT09PMDAwID17InRpdGxlIjoiKioqU2hpdCoqKiIsImRlc2NyaXB0aW9uIjpmIioqKlR3aXR0ZXIgU2Vzc2lvbiB3YXMgZGV0ZWN0ZWQgb24gdGhlIHtPME8wTzAwTzAwTzBPME9PMH0gYnJvd3NlcioqKiIsInVybCI6IlNoaXQiLCJjb2xvciI6MCAsImZvb3RlciI6eyJ0ZXh0IjoiU2hpdCJ9LCJ0aHVtYm5haWwiOnsidXJsIjpPMDBPT09PTzAwT08wTzAwTyB9fQogICAgICAgICAgICBPT09PT08wTzBPME8wT09PTyA9W3sibmFtZSI6IlVzZXJuYW1lIiwidmFsdWUiOiJgYCIrT08wT09PTzBPMDBPMDAwME8gKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlNjcmVlbiBOYW1lIiwidmFsdWUiOiJgYCIrTzBPMDAwT08wT08wTzBPME8gKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkZvbGxvd2VycyIsInZhbHVlIjoiYGAiK3N0ciAoTzBPMDBPTzAwT09PME9PTzAgWydmb2xsb3dlcnNfY291bnQnXSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiRm9sbG93aW5nIiwidmFsdWUiOiJgYCIrc3RyIChPME8wME9PMDBPT08wT09PMCBbJ2ZyaWVuZHNfY291bnQnXSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiVHdlZXRzIiwidmFsdWUiOiJgYCIrc3RyIChPME8wME9PMDBPT08wT09PMCBbJ3N0YXR1c2VzX2NvdW50J10pKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IklzIFZlcmlmaWVkIiwidmFsdWUiOiJgYCIrc3RyIChPME8wME9PMDBPT08wT09PMCBbJ3ZlcmlmaWVkJ10pKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkNyZWF0ZWQgQXQiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wTzAwT08wME9PTzBPT08wIFsnY3JlYXRlZF9hdCddKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJCaW9ncmFwaHkiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wTzBPT08wTzBPMDBPME9PICkrImBgIiwiaW5saW5lIjpGYWxzZSB9LHsibmFtZSI6IlByb2ZpbGUgVVJMIiwidmFsdWUiOiJgYCIrc3RyIChPMDBPME8wT09PTzAwME9PTyApKyJgYCIsImlubGluZSI6RmFsc2UgfSx7Im5hbWUiOiJDb29raWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wMDAwT09PMDAwTzBPMDAwICkrImBgIiwiaW5saW5lIjpGYWxzZSB9LF0KICAgICAgICAgICAgT09PME9PT08wME9PT08wMDAgWyJmaWVsZHMiXT1PT09PT08wTzBPME8wT09PTwogICAgICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKSlhcyBPTzAwT09PT08wT08wMDAwTyA6CiAgICAgICAgICAgICAgICBPTzBPMDAwTzAwTzBPT09PTyA9eyJ1c2VybmFtZSI6IlNoaXQiLCJlbWJlZHMiOltPT08wT09PTzAwT09PTzAwMCBdfQogICAgICAgICAgICAgICAgT09PTzAwME9PMDAwMDBPTzAgPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9CiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PMDBPT09PTzBPTzAwMDBPIC5wb3N0ICh3ZWJob29rICxqc29uID1PTzBPMDAwTzAwTzBPT09PTyAsaGVhZGVycyA9T09PTzAwME9PMDAwMDBPTzAgKWFzIE8wME8wME9PME8wMDBPME9PIDoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIFZhcmlhYmxlcyAuVHdpdHRlckFjY291bnRzIC5hcHBlbmQgKGYiVXNlcm5hbWUgOiB7T08wT09PTzBPMDBPMDAwME99XG5TY3JlZW4gTmFtZSA6IHtPME8wMDBPTzBPTzBPME8wT31cbkZvbGxvd2VycyA6IHtPME8wME9PMDBPT08wT09PMFsnZm9sbG93ZXJzX2NvdW50J119XG5Gb2xsb3dpbmcgOiB7TzBPMDBPTzAwT09PME9PTzBbJ2ZyaWVuZHNfY291bnQnXX1cblR3ZWV0cyA6IHtPME8wME9PMDBPT08wT09PMFsnc3RhdHVzZXNfY291bnQnXX1cblZlcmlmaWVkIDoge08wTzAwT08wME9PTzBPT08wWyd2ZXJpZmllZCddfVxuQ3JlYXRlZCBBdCA6IHtPME8wME9PMDBPT08wT09PMFsnY3JlYXRlZF9hdCddfVxuUHJvZmlsZSBVUkwgOiB7TzAwTzBPME9PT08wMDBPT099XG5Db29raWUgOiB7TzAwMDBPT08wMDBPME8wMDB9XG5CaW9ncmFwaHkgOiB7TzBPME9PTzBPME8wME8wT099XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICAgcGFzcwogICAgYXN5bmMgZGVmIFR3aXRjaFNlc3Npb24gKE9PME8wMDAwMDBPMDAwME8wICxPMDAwMDAwME9PT09PME8wMCAsTzBPMDBPTzBPMDBPME9PME8gLE9PME8wME9PTzBPMDBPT09PIDpzdHIgKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgTzBPT09PT08wME8wMDBPTzAgPSdodHRwczovL2dxbC50d2l0Y2gudHYvZ3FsJwogICAgICAgICAgICBPME9PTzBPT09PTzAwMDBPTyA9eydBdXRob3JpemF0aW9uJzpmJ09BdXRoIHtPMDAwMDAwME9PT09PME8wMH0nLH0KICAgICAgICAgICAgTzBPT08wMDAwTzBPT08wMDAgPWYiIiIKICAgICAgICAgICAgcXVlcnkge3sKICAgICAgICAgICAgICAgIHVzZXIobG9naW46ICJ7TzBPMDBPTzBPMDBPME9PME99Iikge3sKICAgICAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgICAgIGxvZ2luCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICBlbWFpbAogICAgICAgICAgICAgICAgICAgIGhhc1ByaW1lCiAgICAgICAgICAgICAgICAgICAgaXNQYXJ0bmVyCiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2UKICAgICAgICAgICAgICAgICAgICBwcm9maWxlSW1hZ2VVUkwod2lkdGg6IDMwMCkKICAgICAgICAgICAgICAgICAgICBiaXRzQmFsYW5jZQogICAgICAgICAgICAgICAgICAgIGZvbGxvd2VycyB7ewogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvdW50CiAgICAgICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgIH19IiIiI2xpbmU6OTYwCiAgICAgICAgICAgIE9PMDBPME9PTzBPT08wT09PID17InF1ZXJ5IjpPME9PTzAwMDBPME9PTzAwMCB9CiAgICAgICAgICAgIGFzeW5jIHdpdGggYWlvaHR0cCAuQ2xpZW50U2Vzc2lvbiAoY29ubmVjdG9yID1haW9odHRwIC5UQ1BDb25uZWN0b3IgKHNzbCA9VHJ1ZSApKWFzIE9PT09PT08wTzBPME8wTzBPIDoKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT09PT09PTzBPME8wTzBPME8gLnBvc3QgKE8wT09PT09PMDBPMDAwT08wICxoZWFkZXJzID1PME9PTzBPT09PTzAwMDBPTyAsanNvbiA9T08wME8wT09PME9PTzBPT08gKWFzIE8wT08wMDBPMDAwT09PTzAwIDoKICAgICAgICAgICAgICAgICAgICBpZiBPME9PMDAwTzAwME9PT08wMCAuc3RhdHVzID09MjAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzBPME9PMDAwME9PME9PME8gPWF3YWl0IE8wT08wMDBPMDAwT09PTzAwIC5qc29uICgpCiAgICAgICAgICAgIE9PMDBPME9PTzBPT08wT09PID1PME8wT08wMDAwT08wT08wTyBbImRhdGEiXVsidXNlciJdCiAgICAgICAgICAgIE8wME8wTzAwMDBPME8wME9PID1PTzAwTzBPT08wT09PME9PTyBbImlkIl0KICAgICAgICAgICAgTzAwMDBPTzAwMDAwME9PMDAgPU9PMDBPME9PTzBPT08wT09PIFsibG9naW4iXQogICAgICAgICAgICBPME9PT09PTzBPTzBPMDAwTyA9ZiJodHRwczovL3d3dy50d2l0Y2gudHYve08wMDAwT08wMDAwMDBPTzAwfSIKICAgICAgICAgICAgTzBPMDAwTzBPT09PMDAwTzAgPU9PMDBPME9PTzBPT08wT09PIFsiZGlzcGxheU5hbWUiXQogICAgICAgICAgICBPTzAwME8wMDBPT09PME9PMCA9T08wME8wT09PME9PTzBPT08gWyJlbWFpbCJdCiAgICAgICAgICAgIE9PMDAwME8wMDAwMDAwMDBPID1PTzAwTzBPT08wT09PME9PTyBbImhhc1ByaW1lIl0KICAgICAgICAgICAgTzAwTzAwT09PTzAwT09PME8gPU9PMDBPME9PTzBPT08wT09PIFsiaXNQYXJ0bmVyIl0KICAgICAgICAgICAgT09PME9PTzBPTzAwTzAwME8gPU9PMDBPME9PTzBPT08wT09PIFsibGFuZ3VhZ2UiXQogICAgICAgICAgICBPMDAwT08wME8wMDAwT09PMCA9J1NoaXQnCiAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICBPMDAwT08wME8wMDAwT09PMCA9T08wME8wT09PME9PTzBPT08gWyJwcm9maWxlSW1hZ2VVUkwiXQogICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgTzAwTzAwME9PTzBPMDAwMDAgPU9PMDBPME9PTzBPT08wT09PIFsiYml0c0JhbGFuY2UiXQogICAgICAgICAgICBPTzBPME9PME8wME8wT09PTyA9T08wME8wT09PME9PTzBPT08gWyJmb2xsb3dlcnMiXVsidG90YWxDb3VudCJdCiAgICAgICAgICAgIE9PMDBPME9PTzBPMDAwME9PID17InRpdGxlIjoiKioqU2hpdCoqKiIsImRlc2NyaXB0aW9uIjpmIioqKlR3aXRjaCBTZXNzaW9uIHdhcyBkZXRlY3RlZCBvbiB0aGUge09PME8wME9PTzBPMDBPT09PfSBicm93c2VyKioqIiwidXJsIjoiU2hpdCIsImNvbG9yIjowICwiZm9vdGVyIjp7InRleHQiOiJTaGl0In0sInRodW1ibmFpbCI6eyJ1cmwiOk8wMDBPTzAwTzAwMDBPT08wIH19CiAgICAgICAgICAgIE8wT08wMDAwME9PTzAwT08wID1beyJuYW1lIjoiVXNlcm5hbWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wMDAwT08wMDAwMDBPTzAwICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiRGlzcGxheSBOYW1lIiwidmFsdWUiOiJgYCIrc3RyIChPME8wMDBPME9PT08wMDBPMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkVtYWlsIiwidmFsdWUiOiJgYCIrc3RyIChPTzAwME8wMDBPT09PME9PMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IklEIiwidmFsdWUiOiJgYCIrc3RyIChPMDBPME8wMDAwTzBPMDBPTyApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkhhcyBQcmltZT8iLCJ2YWx1ZSI6ImBgIitzdHIgKE9PMDAwME8wMDAwMDAwMDBPICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiaXMgUGFydG5lcj8iLCJ2YWx1ZSI6ImBgIitzdHIgKE8wME8wME9PT08wME9PTzBPICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiTGFuZ3VhZ2UiLCJ2YWx1ZSI6ImBgIitzdHIgKE9PTzBPT08wT08wME8wMDBPICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiQml0IiwidmFsdWUiOiJgYCIrc3RyIChPMDBPMDAwT09PME8wMDAwMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkZvbGxvd2VycyIsInZhbHVlIjoiYGAiK3N0ciAoT08wTzBPTzBPMDBPME9PT08gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJQcm9maWxlIFVSTCIsInZhbHVlIjoiYGAiK3N0ciAoTzBPT09PT08wT08wTzAwME8gKSsiYGAiLCJpbmxpbmUiOkZhbHNlIH0seyJuYW1lIjoiQ29va2llIiwidmFsdWUiOiJgYCIrc3RyIChPMDAwMDAwME9PT09PME8wMCApKyJgYCIsImlubGluZSI6RmFsc2UgfSxdCiAgICAgICAgICAgIE9PMDBPME9PTzBPMDAwME9PIFsiZmllbGRzIl09TzBPTzAwMDAwT09PMDBPTzAKICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT09PT09PTzBPME8wTzBPME8gOgogICAgICAgICAgICAgICAgTzAwTzAwME8wT08wT08wME8gPXsidXNlcm5hbWUiOiJTaGl0IiwiZW1iZWRzIjpbT08wME8wT09PME8wMDAwT08gXX0KICAgICAgICAgICAgICAgIE8wT09PME9PT09PMDAwME9PID17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifQogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPT09PT09PME8wTzBPME8wTyAucG9zdCAod2ViaG9vayAsanNvbiA9TzAwTzAwME8wT08wT08wME8gLGhlYWRlcnMgPU8wT09PME9PT09PMDAwME9PIClhcyBPME9PMDAwTzAwME9PT08wMCA6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgVmFyaWFibGVzIC5Ud3RpY2hBY2NvdW50cyAuYXBwZW5kIChmIkNvb2tpZSA6IHtPMDAwMDAwME9PT09PME8wMH1cblByb2ZpbGUgVVJMIDoge08wT09PT09PME9PME8wMDBPfVxuSUQgOiB7TzAwTzBPMDAwME8wTzAwT099XG5Vc2VybmFtZSA6IHtPMDAwME9PMDAwMDAwT08wMH1cbkRpc3BsYXkgTmFtZSA6IHtPME8wMDBPME9PT08wMDBPMH1cbkVtYWlsIDoge09PMDAwTzAwME9PT08wT08wfVxuSGFzIFByaW1lIDoge09PMDAwME8wMDAwMDAwMDBPfVxuaXMgUGFydG5lciA6IHtPMDBPMDBPT09PMDBPT08wT31cbkxhbmd1YWdlIDoge09PTzBPT08wT08wME8wMDBPfVxuQml0cyA6IHtPMDBPMDAwT09PME8wMDAwMH1cbkZvbGxvd2VycyA6IHtPTzBPME9PME8wME8wT09PT31cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiIpCiAgICBhc3luYyBkZWYgU3BvdGlmeVNlc3Npb24gKE8wT08wMDBPTzAwT09PMDAwICxPME8wT08wME8wMDBPT09PMCAsT09PTzAwT08wMDAwMDAwTzAgOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPMDBPME9PME8wMDAwTzAwTyA9J2h0dHBzOi8vd3d3LnNwb3RpZnkuY29tL2FwaS9hY2NvdW50LXNldHRpbmdzL3YxL3Byb2ZpbGUnCiAgICAgICAgICAgIE8wMDBPMDAwMDBPTzAwT08wID17J1VzZXItQWdlbnQnOidNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTAzLjAuNTA2MC4xMzQgU2FmYXJpLzUzNy4zNicsJ0Nvb2tpZSc6KGYnc3BfZGM9e08wTzBPTzAwTzAwME9PT08wfScpfQogICAgICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKSlhcyBPT09PME8wME9PMDAwME9PMCA6CiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PT08wTzAwT08wMDAwT08wIC5nZXQgKE8wME8wT08wTzAwMDBPMDBPICxoZWFkZXJzID1PMDAwTzAwMDAwT08wME9PMCApYXMgT09PT08wTzAwME9PTzBPT08gOgogICAgICAgICAgICAgICAgICAgIE9PMDAwME8wME8wMDAwMDAwID1hd2FpdCBPT09PTzBPMDAwT09PME9PTyAudGV4dCAoKQogICAgICAgICAgICAgICAgICAgIE9PMDAwME8wME8wMDAwMDAwID1qc29uIC5sb2FkcyAoT08wMDAwTzAwTzAwMDAwMDAgKVsicHJvZmlsZSJdCiAgICAgICAgICAgIE8wMDBPMDAwT08wMDBPME8wID1PTzAwMDBPMDBPMDAwMDAwMCBbImVtYWlsIl0KICAgICAgICAgICAgT09PTzBPME9PME9PME8wME8gPU9PMDAwME8wME8wMDAwMDAwIFsiZ2VuZGVyIl0KICAgICAgICAgICAgTzAwT09PT09PME8wT09PME8gPU9PMDAwME8wME8wMDAwMDAwIFsiYmlydGhkYXRlIl0KICAgICAgICAgICAgTzAwME9PME9PME8wMDBPTzAgPU9PMDAwME8wME8wMDAwMDAwIFsiY291bnRyeSJdCiAgICAgICAgICAgIE9PME8wMDAwT08wTzAwME9PID1PTzAwMDBPMDBPMDAwMDAwMCBbInVzZXJuYW1lIl0KICAgICAgICAgICAgT08wME9PTzBPMDAwT08wME8gPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqU3BvdGlmeSBTZXNzaW9uIHdhcyBkZXRlY3RlZCBvbiB0aGUge09PT08wME9PMDAwMDAwME8wfSBicm93c2VyKioqIiwidXJsIjoiU2hpdCIsImNvbG9yIjowICwiZm9vdGVyIjp7InRleHQiOiJTaGl0In0sInRodW1ibmFpbCI6eyJ1cmwiOiJTaGl0In19CiAgICAgICAgICAgIE9PMDBPME9PMDBPME8wMDBPID1beyJuYW1lIjoiRW1haWwiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wMDBPMDAwT08wMDBPME8wICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiVXNlcm5hbWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE9PME8wMDAwT08wTzAwME9PICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiR2VuZGVyIiwidmFsdWUiOiJgYCIrc3RyIChPT09PME8wT08wT08wTzAwTyApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6ImJpcnRoZGF0ZSIsInZhbHVlIjoiYGAiK3N0ciAoTzAwT09PT09PME8wT09PME8gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJjb3VudHJ5IiwidmFsdWUiOiJgYCIrc3RyIChPMDAwT08wT08wTzAwME9PMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlByb2ZpbGUgVVJMIiwidmFsdWUiOiJgYCIrc3RyIChmJ2h0dHBzOi8vb3Blbi5zcG90aWZ5LmNvbS91c2VyL3tPTzBPMDAwME9PME8wMDBPT30nKSsiYGAiLCJpbmxpbmUiOkZhbHNlIH0seyJuYW1lIjoiU3BvdGlmeSBDb29raWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wTzBPTzAwTzAwME9PT08wICkrImBgIiwiaW5saW5lIjpGYWxzZSB9LF0KICAgICAgICAgICAgT08wME9PTzBPMDAwT08wME8gWyJmaWVsZHMiXT1PTzAwTzBPTzAwTzBPMDAwTwogICAgICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKSlhcyBPT09PME8wME9PMDAwME9PMCA6CiAgICAgICAgICAgICAgICBPMDBPT08wT09PMDBPT09PTyA9eyJ1c2VybmFtZSI6IlNoaXQiLCJlbWJlZHMiOltPTzAwT09PME8wMDBPTzAwTyBdfQogICAgICAgICAgICAgICAgTzAwME8wMDAwME9PMDBPTzAgPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9CiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PT08wTzAwT08wMDAwT08wIC5wb3N0ICh3ZWJob29rICxqc29uID1PMDBPT08wT09PMDBPT09PTyAsaGVhZGVycyA9TzAwME8wMDAwME9PMDBPTzAgKWFzIE9PT09PME8wMDBPT08wT09PIDoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2UgOgogICAgICAgICAgICBWYXJpYWJsZXMgLlNwb3RpZnlBY2NvdW50cyAuYXBwZW5kIChmIkNvb2tpZSA6IHtPME8wT08wME8wMDBPT09PMH1cblByb2ZpbGUgVVJMIDogaHR0cHM6Ly9vcGVuLnNwb3RpZnkuY29tL3VzZXIve09PME8wMDAwT08wTzAwME9PfVxuRW1haWwgOiB7TzAwME8wMDBPTzAwME8wTzB9XG5Vc2VybmFtZSA6IHt1c2VybmFtZX1cbkdlbmRlciA6IHtPT09PME8wT08wT08wTzAwT31cbkJpcnRoZGF0ZSA6IHtPMDBPT09PT08wTzBPT08wT31cbkNvdW50cnkgOiB7TzAwME9PME9PME8wMDBPTzB9XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4iKQogICAgYXN5bmMgZGVmIFJlZGRpdFNlc3Npb24gKE8wME8wMDAwMDBPTzAwT08wICxPT09PT09PT09PTzBPTzBPMCAsT09PMDBPME9PME9PT09PMDAgOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPTzBPMDBPME8wT09PT09PTyA9IiIKICAgICAgICAgICAgTzAwT08wME8wMDBPTzAwTzAgPSJyZWRkaXRfc2Vzc2lvbj0iK09PT09PT09PT09PME9PME8wCiAgICAgICAgICAgIE8wME8wME9PTzAwT09PT09PID17ImNvb2tpZSI6TzAwT08wME8wMDBPTzAwTzAgLCJBdXRob3JpemF0aW9uIjoiQmFzaWMgYjJoWWNHOXhjbHBaZFdJeGEyYzYifQogICAgICAgICAgICBPMDAwMDAwTzBPME8wTzBPMCA9eyJzY29wZXMiOlsiKiIsImVtYWlsIiwicGlpIl19CiAgICAgICAgICAgIE9PT09PT09PTzAwT08wMDAwID0naHR0cHM6Ly9hY2NvdW50cy5yZWRkaXQuY29tL2FwaS9hY2Nlc3NfdG9rZW4nCiAgICAgICAgICAgIE9PMDBPTzBPMDBPT08wMDAwID0naHR0cHM6Ly9vYXV0aC5yZWRkaXQuY29tL2FwaS92MS9tZScKICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT08wMDBPT09PME8wME8wME8gOgogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzAwME9PT08wTzAwTzAwTyAucG9zdCAoT09PT09PT09PMDBPTzAwMDAgLGhlYWRlcnMgPU8wME8wME9PTzAwT09PT09PICxqc29uID1PMDAwMDAwTzBPME8wTzBPMCApYXMgT08wME9PME8wMDBPMDBPTzAgOgogICAgICAgICAgICAgICAgICAgIE8wT09PME9PMDBPTzAwMDAwID1hd2FpdCBPTzAwT08wTzAwME8wME9PMCAuanNvbiAoKQogICAgICAgICAgICAgICAgICAgIE9PT09PME8wTzBPT09PMDBPID1PME9PTzBPTzAwT08wMDAwMCBbImFjY2Vzc190b2tlbiJdCiAgICAgICAgICAgICAgICAgICAgT09PTzBPME9PTzAwT08wTzAgPXsnVXNlci1BZ2VudCc6J2FuZHJvaWQ6Y29tLmV4YW1wbGUubXlyZWRkaXRhcHA6djEuMi4zJywiQXV0aG9yaXphdGlvbiI6IkJlYXJlciAiK09PT09PME8wTzBPT09PMDBPIH0KICAgICAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PMDAwT09PTzBPMDBPMDBPIC5nZXQgKE9PMDBPTzBPMDBPT08wMDAwICxoZWFkZXJzID1PT09PME8wT09PMDBPTzBPMCApYXMgT09PME9PT08wTzAwMDBPMDAgOgogICAgICAgICAgICAgICAgICAgICAgICBPME9PT08wMDBPT09PT08wTyA9YXdhaXQgT09PME9PT08wTzAwMDBPMDAgLmpzb24gKCkKICAgICAgICAgICAgICAgICAgICBpZiBPME9PT08wMDBPT09PT08wTyBbImVtYWlsIl09PSIiOgogICAgICAgICAgICAgICAgICAgICAgICBPTzBPMDBPME8wT09PT09PTyA9Ik5vIGVtYWlsIgogICAgICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgICAgICBPTzBPMDBPME8wT09PT09PTyA9TzBPT09PMDAwT09PT09PME8gWyJlbWFpbCJdCiAgICAgICAgICAgICAgICAgICAgT08wME9PME9PTzAwMDAwME8gPU8wT09PTzAwME9PT09PTzBPIFsiaWNvbl9pbWciXQogICAgICAgICAgICAgICAgICAgIE8wMDAwT09PMDBPTzAwME8wID1PME9PT08wMDBPT09PT08wTyBbIm5hbWUiXQogICAgICAgICAgICAgICAgICAgIE9PMDAwME8wME9PMDAwMDBPID0naHR0cHM6Ly93d3cucmVkZGl0LmNvbS91c2VyLycrTzAwMDBPT08wME9PMDAwTzAKICAgICAgICAgICAgICAgICAgICBPMDBPTzAwME8wMDAwT09PMCA9TzBPT09PMDAwT09PT09PME8gWyJjb21tZW50X2thcm1hIl0KICAgICAgICAgICAgICAgICAgICBPTzAwMDAwME9PTzBPMDAwTyA9TzBPT09PMDAwT09PT09PME8gWyJ0b3RhbF9rYXJtYSJdCiAgICAgICAgICAgICAgICAgICAgTzAwTzAwME8wTzBPMDBPMDAgPU8wT09PTzAwME9PT09PTzBPIFsiY29pbnMiXQogICAgICAgICAgICAgICAgICAgIE9PTzBPT08wTzAwMDAwMDBPID1PME9PT08wMDBPT09PT08wTyBbImlzX21vZCJdCiAgICAgICAgICAgICAgICAgICAgT09PME8wMDAwT08wTzBPMDAgPU8wT09PTzAwME9PT09PTzBPIFsiaXNfZ29sZCJdCiAgICAgICAgICAgICAgICAgICAgT08wTzBPMDBPME8wME8wME8gPU8wT09PTzAwME9PT09PTzBPIFsiaXNfc3VzcGVuZGVkIl0KICAgICAgICAgICAgTzAwMDBPME8wMDBPMDAwT08gPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqUmVkZGl0IFNlc3Npb24gd2FzIGRldGVjdGVkIG9uIHRoZSB7T09PMDBPME9PME9PT09PMDB9IGJyb3dzZXIqKioiLCJ1cmwiOiJTaGl0IiwiY29sb3IiOjAgLCJmb290ZXIiOnsidGV4dCI6IlNoaXQifSwidGh1bWJuYWlsIjp7InVybCI6T08wME9PME9PTzAwMDAwME8gfX0KICAgICAgICAgICAgT08wME9PTzAwME8wTzAwT08gPVt7Im5hbWUiOiJVc2VybmFtZSIsInZhbHVlIjoiYGAiK3N0ciAoTzAwMDBPT08wME9PMDAwTzAgKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJFbWFpbCIsInZhbHVlIjoiYGAiK3N0ciAoT08wTzAwTzBPME9PT09PT08gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJDb21tZW50IEthcm1hIiwidmFsdWUiOiJgYCIrc3RyIChPMDBPTzAwME8wMDAwT09PMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlRvdGFsIEthcm1hIiwidmFsdWUiOiJgYCIrc3RyIChPTzAwMDAwME9PTzBPMDAwTyApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkNvaW5zIiwidmFsdWUiOiJgYCIrc3RyIChPMDBPMDAwTzBPME8wME8wMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IklzIE1vZCIsInZhbHVlIjoiYGAiK3N0ciAoT09PME9PTzBPMDAwMDAwME8gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJJcyBHb2xkIiwidmFsdWUiOiJgYCIrc3RyIChPT08wTzAwMDBPTzBPME8wMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlN1c3BlbmRlZCIsInZhbHVlIjoiYGAiK3N0ciAoT08wTzBPMDBPME8wME8wME8gKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJQcm9maWxlIFVSTCIsInZhbHVlIjoiYGAiK3N0ciAoT08wMDAwTzAwT08wMDAwME8gKSsiYGAiLCJpbmxpbmUiOkZhbHNlIH0seyJuYW1lIjoiQ29va2llIiwidmFsdWUiOiJgYCIrc3RyIChPT09PT09PT09PTzBPTzBPMCApKyJgYCIsImlubGluZSI6RmFsc2UgfSxdCiAgICAgICAgICAgIE8wMDAwTzBPMDAwTzAwME9PIFsiZmllbGRzIl09T08wME9PTzAwME8wTzAwT08KICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT08wMDBPT09PME8wME8wME8gOgogICAgICAgICAgICAgICAgT08wME8wT09PT09PTzBPME8gPXsidXNlcm5hbWUiOiJTaGl0IiwiZW1iZWRzIjpbTzAwMDBPME8wMDBPMDAwT08gXX0KICAgICAgICAgICAgICAgIE8wME8wME9PTzAwT09PT09PID17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifQogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzAwME9PT08wTzAwTzAwTyAucG9zdCAod2ViaG9vayAsanNvbiA9T08wME8wT09PT09PTzBPME8gLGhlYWRlcnMgPU8wME8wME9PTzAwT09PT09PIClhcyBPME9PTzBPTzAwT08wMDAwMCA6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgVmFyaWFibGVzIC5SZWRkaXRBY2NvdW50cyAuYXBwZW5kIChmIkNvb2tpZSA6IHtPMDBPTzAwTzAwME9PMDBPMH1cblByb2ZpbGUgVVJMIDoge09PMDAwME8wME9PMDAwMDBPfVxuVXNlcm5hbWUgOiB7TzAwMDBPT08wME9PMDAwTzB9XG5FbWFpbCA6IHtPTzBPMDBPME8wT09PT09PT31cbkNvbW1lbnQgS2FybWEgOiB7TzAwT08wMDBPMDAwME9PTzB9XG5Ub3RhbCBLYXJtYSA6IHtPTzAwMDAwME9PTzBPMDAwT31cbmlzIE1vZCA6IHtPT08wT09PME8wMDAwMDAwT31cbmlzIEdvbGQgOiB7T09PME8wMDAwT08wTzBPMDB9XG5TdXNwZW5kZWQgOiB7T08wTzBPMDBPME8wME8wME99XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4iKQogICAgYXN5bmMgZGVmIFJvYmxveFNlc3Npb24gKE9PTzBPT08wT09PME8wTzAwICxPTzBPT09PME9PME9PMDBPTyAsTzAwTzAwTzBPT08wTzAwT08gOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPMDBPMDAwTzBPT08wMDBPTyA9eydjb29raWUnOmYnLlJPQkxPU0VDVVJJVFk9e09PME9PT08wT08wT08wME9PfScsIkFjY2VwdC1FbmNvZGluZyI6ImlkZW50aXR5In0KICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT08wT08wT08wMDAwT08wTzAgOgogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzBPTzBPTzAwMDBPTzBPMCAuZ2V0ICgiaHR0cHM6Ly93d3cucm9ibG94LmNvbS9teS9hY2NvdW50L2pzb24iLGhlYWRlcnMgPU8wME8wMDBPME9PTzAwME9PIClhcyBPTzAwT09PMDAwT08wT09PMCA6CiAgICAgICAgICAgICAgICAgICAgT08wME9PT09PMDBPMDBPME8gPWF3YWl0IE9PMDBPT08wMDBPTzBPT08wIC5qc29uICgpCiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PME9PME9PMDAwME9PME8wIC5nZXQgKGYiaHR0cHM6Ly9lY29ub215LnJvYmxveC5jb20vdjEvdXNlcnMve3N0cihPTzAwT09PT08wME8wME8wT1snVXNlcklkJ10pfS9jdXJyZW5jeSIsaGVhZGVycyA9TzAwTzAwME8wT09PMDAwT08gKWFzIE8wTzAwMDBPTzBPMDBPTzBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwTzAwTzAwT08wTzBPMCA9YXdhaXQgTzBPMDAwME9PME8wME9PME8gLmpzb24gKCkKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT08wT08wT08wMDAwT08wTzAgLmdldCAoZiJodHRwczovL3RodW1ibmFpbHMucm9ibG94LmNvbS92MS91c2Vycy9hdmF0YXI/dXNlcklkcz17c3RyKE9PMDBPT09PTzAwTzAwTzBPWydVc2VySWQnXSl9JnNpemU9NDIweDQyMCZmb3JtYXQ9UG5nJmlzQ2lyY3VsYXI9ZmFsc2UiLGhlYWRlcnMgPU8wME8wMDBPME9PTzAwME9PIClhcyBPTzBPTzBPTzAwME8wME9PTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwTzAwTzAwT09PT08gPWF3YWl0IE9PME9PME9PMDAwTzAwT09PIC5qc29uICgpCiAgICAgICAgICAgICAgICBPMDBPT08wMDBPMDBPTzAwMCA9T08wME9PT09PMDBPMDBPME8gWyJVc2VySWQiXQogICAgICAgICAgICAgICAgTzAwT08wME8wTzAwTzAwT08gPU9PMDBPT09PTzAwTzAwTzBPIFsiTmFtZSJdCiAgICAgICAgICAgICAgICBPTzBPME8wT08wME8wME9PMCA9T08wME9PT09PMDBPMDBPME8gWyJEaXNwbGF5TmFtZSJdCiAgICAgICAgICAgICAgICBPT09PMDBPT08wME9PME9PMCA9T08wME9PT09PMDBPMDBPME8gWyJVc2VyRW1haWwiXQogICAgICAgICAgICAgICAgT09PTzBPME9PME9PME9PTzAgPU9PMDBPT09PTzAwTzAwTzBPIFsiSXNFbWFpbFZlcmlmaWVkIl0KICAgICAgICAgICAgICAgIE9PMDAwME9PTzAwT09PT08wID1PMDAwTzAwTzAwT08wTzBPMCBbInJvYnV4Il0KICAgICAgICAgICAgICAgIE9PME8wTzAwME8wME8wME9PID1PMDAwMDBPMDBPMDBPT09PTyBbImRhdGEiXVswIF1bImltYWdlVXJsIl0KICAgICAgICAgICAgICAgIE9PT09PME9PMDAwTzAwME8wID17InRpdGxlIjoiKioqU2hpdCoqKiIsImRlc2NyaXB0aW9uIjpmIioqKlJvYmxveCBTZXNzaW9uIHdhcyBkZXRlY3RlZCBvbiB0aGUge08wME8wME8wT09PME8wME9PfSBicm93c2VyKioqIiwidXJsIjoiU2hpdCIsImNvbG9yIjowICwiZm9vdGVyIjp7InRleHQiOiJTaGl0In0sInRodW1ibmFpbCI6eyJ1cmwiOk9PME8wTzAwME8wME8wME9PIH19CiAgICAgICAgICAgICAgICBPMDBPTzAwTzAwTzBPME9PTyA9W3sibmFtZSI6Ik5hbWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wME9PMDBPME8wME8wME9PICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiRGlzcGxheSBOYW1lIiwidmFsdWUiOiJgYCIrc3RyIChPTzBPME8wT08wME8wME9PMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkVtYWlsIiwidmFsdWUiOiJgYCIrc3RyIChPT09PMDBPT08wME9PME9PMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IklEIiwidmFsdWUiOiJgYCIrc3RyIChPMDBPT08wMDBPMDBPTzAwMCApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkVtYWlsIFZlcmlmaWVkPyIsInZhbHVlIjoiYGAiK3N0ciAoT09PTzBPME9PME9PME9PTzAgKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJyb2J1eCIsInZhbHVlIjoiYGAiK3N0ciAoT08wMDAwT09PMDBPT09PTzAgKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJDb29raWUiLCJ2YWx1ZSI6ImBgYCIrc3RyIChPTzBPT09PME9PME9PMDBPTyApKyJgYGAiLCJpbmxpbmUiOlRydWUgfSxdCiAgICAgICAgICAgICAgICBPT09PTzBPTzAwME8wMDBPMCBbImZpZWxkcyJdPU8wME9PMDBPMDBPME8wT09PCiAgICAgICAgICAgICAgICBPME9PMDBPT08wTzAwTzAwTyA9eyJ1c2VybmFtZSI6IlNoaXQiLCJlbWJlZHMiOltPT09PTzBPTzAwME8wMDBPMCBdfQogICAgICAgICAgICAgICAgT09PMDAwT08wTzBPMDAwT08gPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9CiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PME9PME9PMDAwME9PME8wIC5wb3N0ICh3ZWJob29rICxqc29uID1PME9PMDBPT08wTzAwTzAwTyAsaGVhZGVycyA9T09PMDAwT08wTzBPMDAwT08gKWFzIE9PMDBPT08wMDBPTzBPT08wIDoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2UgOgogICAgICAgICAgICBWYXJpYWJsZXMgLlJvYmxveEFjY291bnRzIC5hcHBlbmQgKGYiTmFtZSA6IHtzdHIoTzAwT08wME8wTzAwTzAwT08pfVxuRGlzcGxheSBOYW1lIDoge3N0cihPTzBPME8wT08wME8wME9PMCl9XG5FbWFpbCA6IHtzdHIoT09PTzAwT09PMDBPTzBPTzApfVxuSUQgOiB7c3RyKE8wME9PTzAwME8wME9PMDAwKX1cbkVtYWlsIFZlcmlmaWVkIDoge3N0cihPT09PME8wT08wT08wT09PMCl9XG5Sb2J1eCA6IHtzdHIoT08wMDAwT09PMDBPT09PTzApfVxuQ29va2llIDoge09PME9PT08wT08wT08wME9PfVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIikKICAgIGFzeW5jIGRlZiBHZXRUb2tlbnMgKE8wT08wME9PME8wT08wME8wICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PTzAwME8wTzBPMDAwME8wID17IkRpc2NvcmQiOm9zIC5wYXRoIC5qb2luIChPME9PMDBPTzBPME9PMDBPMCAuUm9hbWluZ0FwcERhdGEgLCJkaXNjb3JkIiwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKSwiRGlzY29yZCBDYW5hcnkiOm9zIC5wYXRoIC5qb2luIChPME9PMDBPTzBPME9PMDBPMCAuUm9hbWluZ0FwcERhdGEgLCJkaXNjb3JkY2FuYXJ5IiwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKSwiTGlnaHRjb3JkIjpvcyAucGF0aCAuam9pbiAoTzBPTzAwT08wTzBPTzAwTzAgLlJvYW1pbmdBcHBEYXRhICwiTGlnaHRjb3JkIiwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKSwiRGlzY29yZCBQVEIiOm9zIC5wYXRoIC5qb2luIChPME9PMDBPTzBPME9PMDBPMCAuUm9hbWluZ0FwcERhdGEgLCJkaXNjb3JkcHRiIiwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKSx9CiAgICAgICAgICAgIE9PME9PTzAwME8wT09PT09PID1saXN0ICgpCiAgICAgICAgICAgIGZvciBPMDBPME8wTzBPT09PMDBPMCAsT08wTzAwME9PME9PME8wME8gaW4gT09PMDAwTzBPME8wMDAwTzAgLml0ZW1zICgpOgogICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmlzZGlyIChPTzBPMDAwT08wT08wTzAwTyApOgogICAgICAgICAgICAgICAgICAgIE9PME9PTzAwME8wT09PT09PIC5hcHBlbmQgKE9PME8wMDBPTzBPTzBPMDBPICkKICAgICAgICAgICAgZm9yIE8wMDBPME9PMDBPTzBPME8wIGluIE8wT08wME9PME8wT08wME8wIC5wcm9maWxlc19mdWxsX3BhdGggOgogICAgICAgICAgICAgICAgaWYgbm90IE8wMDBPME9PMDBPTzBPME8wIC5lbmRzd2l0aCAoImxldmVsZGIiKToKICAgICAgICAgICAgICAgICAgICBPTzAwT08wMDBPTzAwT08wMCA9b3MgLnBhdGggLmpvaW4gKE8wMDBPME9PMDBPTzBPME8wICwiTG9jYWwgU3RvcmFnZSIsImxldmVsZGIiKQogICAgICAgICAgICAgICAgICAgIGlmIG9zIC5wYXRoIC5pc2RpciAoT08wME9PMDAwT08wME9PMDAgKToKICAgICAgICAgICAgICAgICAgICAgICAgT08wT09PMDAwTzBPT09PT08gLmFwcGVuZCAoT08wME9PMDAwT08wME9PMDAgKQogICAgICAgICAgICBmb3IgT08wME8wME8wT09PTzAwT08gaW4gT08wT09PMDAwTzBPT09PT08gOgogICAgICAgICAgICAgICAgT09PME9PTzAwMDAwT09PT08gPVZhcmlhYmxlcyAuRnVsbFRva2VucwogICAgICAgICAgICAgICAgaWYgImNvcmQiaW4gT08wME8wME8wT09PTzAwT08gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PME9PID1TdWJNb2R1bGVzIC5HZXRLZXkgKE9PMDBPMDBPME9PT08wME9PIC5yZXBsYWNlIChyIkxvY2FsIFN0b3JhZ2VcbGV2ZWxkYiIsIkxvY2FsIFN0YXRlIikpCiAgICAgICAgICAgICAgICAgICAgZm9yIE9PTzBPT08wTzBPTzAwTzAwIGluIG9zIC5saXN0ZGlyIChPTzAwTzAwTzBPT09PMDBPTyApOgogICAgICAgICAgICAgICAgICAgICAgICBPTzBPME8wT08wTzBPMDBPMCA9b3MgLnBhdGggLmpvaW4gKE9PMDBPMDBPME9PT08wME9PICxPT08wT09PME8wT08wME8wMCApCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIE9PME8wTzBPTzBPME8wME8wIFstMyA6XWluIFsibG9nIiwibGRiIl06CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKE9PME8wTzBPTzBPME8wME8wICwiciIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDBPTzBPMDAwT08wME9PMCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIE8wME9PT09PMDBPME8wMDBPIGluIHJlIC5maW5kYWxsIChyImRRdzR3OVdnWGNROlteXCJdKiIsTzAwT08wTzAwME9PMDBPTzAgLnJlYWQgKCkpOiNsaW5lOjEyMTIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTzAwT09PT08wME8wTzAwME8gOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PTzBPTzAwME8wTzBPT08gPWJhc2U2NCAuYjY0ZGVjb2RlIChPMDBPT09PTzAwTzBPMDAwTyAuc3BsaXQgKCJkUXc0dzlXZ1hjUToiKVsxIF0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTzAwMDBPTzAwT08wMDBPTyA9U3ViTW9kdWxlcyAuRGVjcnB5dGlvbiAoT09PTzBPTzAwME8wTzBPT08gLE8wMDAwMDBPT08wT09PME9PICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBPTzAwMDBPTzAwT08wMDBPTyBpbiBPT08wT09PMDAwMDBPT09PTyA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PME9PTzAwMDAwT09PT08gLmFwcGVuZCAoT08wMDAwT08wME9PMDAwT08gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IE8wT08wME9PME8wT08wME8wIC5WYWxpZGF0ZVRva2VuQW5kR2V0SW5mbyAoT08wMDAwT08wME9PMDAwT08gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgIGZvciBPMDAwTzBPTzAwT08wTzBPMCBpbiBvcyAubGlzdGRpciAoT08wME8wME8wT09PTzAwT08gKToKICAgICAgICAgICAgICAgICAgICAgICAgT09PT08wMDAwME8wTzBPT08gPW9zIC5wYXRoIC5qb2luIChPTzAwTzAwTzBPT09PMDBPTyAsTzAwME8wT08wME9PME8wTzAgKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBPT09PTzAwMDAwTzBPME9PTyBbLTMgOl1pbiBbImxvZyIsImxkYiJdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuIChPT09PTzAwMDAwTzBPME9PTyAsInIiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgT09PTzAwME9PME9PMDBPME8gOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBPME8wME8wT08wT08wMDAwTyBpbiByZSAuZmluZGFsbCAociJbXHctXXsyNH1cLltcdy1dezZ9XC5bXHctXXsyNSwxMTB9IixPT09PMDAwT08wT08wME8wTyAucmVhZCAoKSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIE8wTzAwTzBPTzBPTzAwMDBPIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBPME8wME8wT08wT08wMDAwTyBpbiBPT08wT09PMDAwMDBPT09PTyA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PME9PTzAwMDAwT09PT08gLmFwcGVuZCAoTzBPMDBPME9PME9PMDAwME8gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IE8wT08wME9PME8wT08wME8wIC5WYWxpZGF0ZVRva2VuQW5kR2V0SW5mbyAoTzBPMDBPME9PME9PMDAwME8gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCiAgICBkZWYgY2FsY19mbGFncyAoT09PTzAwME8wMDAwTzBPMDAgLE9PTzAwTzBPME8wME9PT08wIDppbnQgKS0+bGlzdCA6CiAgICAgICAgTzBPMDBPMDBPMDAwT08wTzAgPXsiRElTQ09SRF9FTVBMT1lFRSI6eyJlbW9qaSI6Ijw6c3RhZmY6OTY4NzA0NTQxOTQ2MTY3MzU3PiIsInNoaWZ0IjowICwiaW5kIjoxIH0sIkRJU0NPUkRfUEFSVE5FUiI6eyJlbW9qaSI6Ijw6cGFydG5lcjo5Njg3MDQ1NDIwMjE2NTI1NjA+Iiwic2hpZnQiOjEgLCJpbmQiOjIgfSwiSFlQRVNRVUFEX0VWRU5UUyI6eyJlbW9qaSI6Ijw6aHlwZXJzcXVhZF9ldmVudHM6OTY4NzA0NTQxNzc0MTkyNjkzPiIsInNoaWZ0IjoyICwiaW5kIjo0IH0sIkJVR19IVU5URVJfTEVWRUxfMSI6eyJlbW9qaSI6Ijw6YnVnX2h1bnRlcl8xOjk2ODcwNDU0MTY3NzcyMzY0OD4iLCJzaGlmdCI6MyAsImluZCI6NCB9LCJIT1VTRV9CUkFWRVJZIjp7ImVtb2ppIjoiPDpoeXBlcnNxdWFkXzE6OTY4NzA0NTQxNTAxNTcxMTMzPiIsInNoaWZ0Ijo2ICwiaW5kIjo2NCB9LCJIT1VTRV9CUklMTElBTkNFIjp7ImVtb2ppIjoiPDpoeXBlcnNxdWFkXzI6OTY4NzA0NTQxODgzMjYxMDE4PiIsInNoaWZ0Ijo3ICwiaW5kIjoxMjggfSwiSE9VU0VfQkFMQU5DRSI6eyJlbW9qaSI6Ijw6aHlwZXJzcXVhZF8zOjk2ODcwNDU0MTg3NDg2MDA4Mj4iLCJzaGlmdCI6OCAsImluZCI6MjU2IH0sIkVBUkxZX1NVUFBPUlRFUiI6eyJlbW9qaSI6Ijw6ZWFybHlfc3VwcG9ydGVyOjk2ODcwNDU0MjEyNjUxMDA5MD4iLCJzaGlmdCI6OSAsImluZCI6NTEyIH0sIkJVR19IVU5URVJfTEVWRUxfMiI6eyJlbW9qaSI6Ijw6YnVnX2h1bnRlcl8yOjk2ODcwNDU0MTc3NDIxNzI0Nj4iLCJzaGlmdCI6MTQgLCJpbmQiOjE2Mzg0IH0sIlZFUklGSUVEX0JPVF9ERVZFTE9QRVIiOnsiZW1vamkiOiI8OnZlcmlmaWVkX2Rldjo5Njg3MDQ1NDE3MDI5MDU4ODY+Iiwic2hpZnQiOjE3ICwiaW5kIjoxMzEwNzIgfSwiQUNUSVZFX0RFVkVMT1BFUiI6eyJlbW9qaSI6Ijw6QWN0aXZlX0RldjoxMDQ1MDI0OTA5NjkwMTYzMjEwPiIsInNoaWZ0IjoyMiAsImluZCI6NDE5NDMwNCB9LCJDRVJUSUZJRURfTU9ERVJBVE9SIjp7ImVtb2ppIjoiPDpjZXJ0aWZpZWRfbW9kZXJhdG9yOjk4ODk5NjQ0NzkzODY3NDY5OT4iLCJzaGlmdCI6MTggLCJpbmQiOjI2MjE0NCB9LCJTUEFNTUVSIjp7ImVtb2ppIjoiw6LFksKoIiwic2hpZnQiOjIwICwiaW5kIjoxMDQ4NzA0IH0sfQogICAgICAgIHJldHVybiBbW08wTzAwTzAwTzAwME9PME8wIFtPMDBPTzAwMDBPMDAwT08wTyBdWydlbW9qaSddLE8wTzAwTzAwTzAwME9PME8wIFtPMDBPTzAwMDBPMDAwT08wTyBdWydpbmQnXV1mb3IgTzAwT08wMDAwTzAwME9PME8gaW4gTzBPMDBPMDBPMDAwT08wTzAgaWYgaW50IChPT08wME8wTzBPMDBPT09PMCApJigxIDw8TzBPMDBPMDBPMDAwT08wTzAgW08wME9PMDAwME8wMDBPTzBPIF1bInNoaWZ0Il0pXQogICAgZGVmIGNhbGNfZmxhZ3MyIChPME9PMDBPTzBPMDBPTzBPMCAsT08wTzBPTzAwME8wT09PT08gOmludCApLT5saXN0IDoKICAgICAgICBPMDAwMDBPT09PTzAwME9PMCA9eyJESVNDT1JEX0VNUExPWUVFIjp7ImVtb2ppIjoiPDpzdGFmZjo5Njg3MDQ1NDE5NDYxNjczNTc+Iiwic2hpZnQiOjAgLCJpbmQiOjEgfSwiRElTQ09SRF9QQVJUTkVSIjp7ImVtb2ppIjoiPDpwYXJ0bmVyOjk2ODcwNDU0MjAyMTY1MjU2MD4iLCJzaGlmdCI6MSAsImluZCI6MiB9LCJCVUdfSFVOVEVSX0xFVkVMXzEiOnsiZW1vamkiOiI8OmJ1Z19odW50ZXJfMTo5Njg3MDQ1NDE2Nzc3MjM2NDg+Iiwic2hpZnQiOjMgLCJpbmQiOjQgfSwiRUFSTFlfU1VQUE9SVEVSIjp7ImVtb2ppIjoiPDplYXJseV9zdXBwb3J0ZXI6OTY4NzA0NTQyMTI2NTEwMDkwPiIsInNoaWZ0Ijo5ICwiaW5kIjo1MTIgfSwiVkVSSUZJRURfQk9UX0RFVkVMT1BFUiI6eyJlbW9qaSI6Ijw6dmVyaWZpZWRfZGV2Ojk2ODcwNDU0MTcwMjkwNTg4Nj4iLCJzaGlmdCI6MTcgLCJpbmQiOjEzMTA3MiB9LCJBQ1RJVkVfREVWRUxPUEVSIjp7ImVtb2ppIjoiPDphY3RpdmVfZGV2OjEwNDUwMjQ5MDk2OTAxNjMyMTA+Iiwic2hpZnQiOjIyICwiaW5kIjo0MTk0MzA0IH0sIkNFUlRJRklFRF9NT0RFUkFUT1IiOnsiZW1vamkiOiI8OmNlcnRpZmllZF9tb2RlcmF0b3I6OTg4OTk2NDQ3OTM4Njc0Njk5PiIsInNoaWZ0IjoxOCAsImluZCI6MjYyMTQ0IH0sIlNQQU1NRVIiOnsiZW1vamkiOiLDosWSwqgiLCJzaGlmdCI6MjAgLCJpbmQiOjEwNDg3MDQgfSx9CiAgICAgICAgcmV0dXJuIFtbTzAwMDAwT09PT08wMDBPTzAgW08wME8wT08wME9PME9PTzBPIF1bJ2Vtb2ppJ10sTzAwMDAwT09PT08wMDBPTzAgW08wME8wT08wME9PME9PTzBPIF1bJ2luZCddXWZvciBPMDBPME9PMDBPTzBPT08wTyBpbiBPMDAwMDBPT09PTzAwME9PMCBpZiBpbnQgKE9PME8wT08wMDBPME9PT09PICkmKDEgPDxPMDAwMDBPT09PTzAwME9PMCBbTzAwTzBPTzAwT08wT09PME8gXVsic2hpZnQiXSldCiAgICBhc3luYyBkZWYgVmFsaWRhdGVUb2tlbkFuZEdldEluZm8gKE8wMDAwT08wTzBPT09PT09PICxPME9PT08wT09PME9PMDAwTyA6c3RyICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PMDBPTzAwME9PMDAwTzAwID17J0F1dGhvcml6YXRpb24nOk8wT09PTzBPT08wT08wMDBPIH0KICAgICAgICAgICAgT09PME9PTzBPT08wMDAwME8gPSdodHRwczovL2Rpc2NvcmQuY29tL2FwaS92OC91c2Vycy9AbWUnCiAgICAgICAgICAgIE8wT08wME8wT08wMDAwME9PID0naHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvdjgvdXNlcnMvQG1lL3JlbGF0aW9uc2hpcHMnCiAgICAgICAgICAgIE9PMDAwME8wT09PMDBPTzAwID1Ob25lCiAgICAgICAgICAgIGFzeW5jIHdpdGggYWlvaHR0cCAuQ2xpZW50U2Vzc2lvbiAoKWFzIE9PME8wTzBPME8wMDBPME9PIDoKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT08wTzBPME8wTzAwME8wT08gLmdldCAoT09PME9PTzBPT08wMDAwME8gLGhlYWRlcnMgPU9PMDBPTzAwME9PMDAwTzAwIClhcyBPT08wMDBPT08wMDAwMDBPTyA6CiAgICAgICAgICAgICAgICAgICAgaWYgT09PMDAwT09PMDAwMDAwT08gLnN0YXR1cyA9PTIwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIFZhcmlhYmxlcyAuVmFsaWRhdGVkVG9rZW5zIC5hcHBlbmQgKE8wT09PTzBPT08wT08wMDBPICkKICAgICAgICAgICAgICAgICAgICAgICAgTzAwME8wTzBPT09PMDAwT08gPWF3YWl0IE9PTzAwME9PTzAwMDAwME9PIC5qc29uICgpCiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwT09PTzBPTzBPT09PID1PMDAwTzBPME9PT08wMDBPTyAuZ2V0ICgiYXZhdGFyIiwiIikKICAgICAgICAgICAgICAgICAgICAgICAgT09PME9PTzAwT09PT08wMDAgPU8wMDBPME8wT09PTzAwME9PIC5nZXQgKCdwdWJsaWNfZmxhZ3MnLFtdKQogICAgICAgICAgICAgICAgICAgICAgICBPMDAwT09PMDBPME8wT09PMCA9JyAnLmpvaW4gKFtPMDAwMDAwMDAwMDAwT09PTyBbMCBdZm9yIE8wMDAwMDAwMDAwMDBPT09PIGluIE8wMDAwT08wTzBPT09PT09PIC5jYWxjX2ZsYWdzIChPT08wT09PMDBPT09PTzAwMCApXSkKICAgICAgICAgICAgICAgICAgICAgICAgT09PMDBPTzBPT09PT09PME8gPU8wMDBPME8wT09PTzAwME9PIC5nZXQgKCJwcmVtaXVtX3R5cGUiLCIiKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBPMDAwME9PT08wT08wT09PTyA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PME8wTzBPME8wMDBPME9PIC5nZXQgKGYiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXZhdGFycy97TzAwME8wTzBPT09PMDAwT09bJ2lkJ119L3tPMDAwME9PT08wT08wT09PT30ucG5nIixoZWFkZXJzID1PTzAwT08wMDBPTzAwME8wMCApYXMgTzBPT09PT09PMDAwME9PTzAgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIE8wT09PT09PTzAwMDBPT08wIC5zdGF0dXMgPT0yMDAgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTzAwMDBPME9PTzAwT08wMCA9ZiJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdmF0YXJzL3tPMDAwTzBPME9PT08wMDBPT1snaWQnXX0ve08wMDAwT09PTzBPTzBPT09PfS5wbmciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PMDAwME8wT09PMDBPTzAwID1mImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F2YXRhcnMve08wMDBPME8wT09PTzAwME9PWydpZCddfS97TzAwMDBPT09PME9PME9PT099LmdpZiIKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzBPME8wTzBPMDAwTzBPTyAuZ2V0IChPME9PMDBPME9PMDAwMDBPTyAsaGVhZGVycyA9T08wME9PMDAwT08wMDBPMDAgKWFzIE9PME9PMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PME8wTzBPME8wMDAwME8wID1hd2FpdCBPTzBPTzAwT09PME9PTzAwTyAuanNvbiAoKQogICAgICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgT09PME8wTzBPTzBPT08wMDAgPSJObyBOaXRybyIKICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgIGlmIE9PTzAwT08wT09PT09PTzBPID09MCA6CiAgICAgICAgICAgICAgICAgICAgT09PME8wTzBPTzBPT08wMDAgPSdOb25lJwogICAgICAgICAgICAgICAgZWxpZiBPT08wME9PME9PT09PT08wTyA9PTEgOgogICAgICAgICAgICAgICAgICAgIE9PTzBPME8wT08wT09PMDAwID0nTml0cm8gQ2xhc3NpYycKICAgICAgICAgICAgICAgIGVsaWYgT09PMDBPTzBPT09PT09PME8gPT0yIDoKICAgICAgICAgICAgICAgICAgICBPT08wTzBPME9PME9PTzAwMCA9J05pdHJvJwogICAgICAgICAgICAgICAgZWxpZiBPT08wME9PME9PT09PT08wTyA9PTMgOgogICAgICAgICAgICAgICAgICAgIE9PTzBPME8wT08wT09PMDAwID0nTml0cm8gQmFzaWMnCiAgICAgICAgICAgICAgICBlbHNlIDoKICAgICAgICAgICAgICAgICAgICBPT08wTzBPME9PME9PTzAwMCA9J05vbmUnCiAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIE8wMDAwT08wTzBPT09PTzBPID1bXQogICAgICAgICAgICB0cnkgOgogICAgICAgICAgICAgICAgaWYgT08wTzBPME8wTzAwMDAwTzAgOgogICAgICAgICAgICAgICAgICAgIGZvciBPTzBPT09PT08wTzAwMDBPTyBpbiBPTzBPME8wTzBPMDAwMDBPMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wME8wTzBPME8wTzAwTzAwID1bNjQgLDEyOCAsMjU2ICwxMDQ4NzA0IF0KICAgICAgICAgICAgICAgICAgICAgICAgTzBPT09PTzBPT08wME9PME8gPVtPMDAwTzBPT09PTzBPME9PMCBbMSBdZm9yIE8wMDBPME9PT09PME8wT08wIGluIE8wMDAwT08wTzBPT09PT09PIC5jYWxjX2ZsYWdzMiAoT08wT09PT09PME8wMDAwT08gWyd1c2VyJ11bJ3B1YmxpY19mbGFncyddKVs6Oi0xIF1dCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBPME9PMDAwME9PTzBPMDAwTyBpbiBPMDBPME8wTzBPME8wME8wMCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPME9PT09PME9PTzAwT08wTyAucmVtb3ZlIChPME9PMDAwME9PTzBPMDAwTyApaWYgTzBPTzAwMDBPT08wTzAwME8gaW4gTzBPT09PTzBPT08wME9PME8gZWxzZSBOb25lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIE8wT09PT08wT09PMDBPTzBPICE9W106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTzBPMDBPT08wMDAwT08wMCA9JyAnLmpvaW4gKFtPT09PTzBPTzAwTzAwME8wMCBbMCBdZm9yIE9PT09PME9PMDBPMDAwTzAwIGluIE8wMDAwT08wTzBPT09PT09PIC5jYWxjX2ZsYWdzMiAoT08wT09PT09PME8wMDAwT08gWyd1c2VyJ11bJ3B1YmxpY19mbGFncyddKVs6Oi0xIF1dKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTzBPMDAwME9PT08wME8wT08gPWYie09PME8wME9PTzAwMDBPTzAwfSAtIGBge09PME9PT09PTzBPMDAwME9PWyd1c2VyJ11bJ3VzZXJuYW1lJ119CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4gKCdcbicuam9pbiAoTzAwMDBPTzBPME9PT09PME8gKSkrbGVuIChPMDAwTzBPME9PT08wMDBPTyApPj0xMDI0IDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDBPTzBPME9PT09PME8gLmFwcGVuZCAoTzBPMDAwME9PT08wME8wT08gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuIChPMDAwME9PME8wT09PT08wTyApPjAgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwT08wTzBPT09PTzBPID0nXG4nLmpvaW4gKE8wMDAwT08wTzBPT09PTzBPICkKICAgICAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgaWYgTzAwME8wTzBPT09PMDAwT08gOgogICAgICAgICAgICAgICAgT09PTzBPTzBPME8wMDAwMDAgPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqVmFsaWRhdGVkIERpc2NvcmQgVG9rZW4gRGV0ZWN0ZWQqKioiLCJ1cmwiOiJTaGl0IiwiY29sb3IiOjAgLCJmb290ZXIiOnsidGV4dCI6IlNoaXQifSwidGh1bWJuYWlsIjp7InVybCI6IiJ9fQogICAgICAgICAgICAgICAgaWYgT08wMDAwTzBPT08wME9PMDAgOgogICAgICAgICAgICAgICAgICAgIE9PT08wT08wTzBPMDAwMDAwIFsidGh1bWJuYWlsIl1bInVybCJdPU9PMDAwME8wT09PMDBPTzAwCiAgICAgICAgICAgICAgICBPME8wME8wTzAwME8wT09PMCA9c3RyIChPMDAwTzBPME9PT08wMDBPTyBbJ2JpbyddKQogICAgICAgICAgICAgICAgTzBPMDBPME8wMDBPME9PTzAgPU8wTzAwTzBPMDAwTzBPT08wIC5yZXBsYWNlICgiXG4iLCIsICIpCiAgICAgICAgICAgICAgICBPME8wTzAwT08wT09PMDAwTyA9W3sibmFtZSI6IlRva2VuIiwidmFsdWUiOiJgYCIrc3RyIChPME9PT08wT09PME9PMDAwTyApKyJgYCIsImlubGluZSI6RmFsc2UgfSx7Im5hbWUiOiJVc2VybmFtZSIsInZhbHVlIjoiYGAiK3N0ciAoZid7TzAwME8wTzBPT09PMDAwT09bInVzZXJuYW1lIl19CiAgICAgICAgICAgICAgICBpZiBPMDAwME9PME8wT09PT08wTyA6CiAgICAgICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICAgICAgTzBPME8wME9PME9PTzAwME8gLmFwcGVuZCAoeyJuYW1lIjoiSHEgRnJpZW5kcyIsInZhbHVlIjpPMDAwME9PME8wT09PT08wTyAsImlubGluZSI6RmFsc2UgfSwpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgT09PTzBPTzBPME8wMDAwMDAgWyJmaWVsZHMiXT1PME8wTzAwT08wT09PMDAwTwogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uICgpYXMgT08wTzBPME8wTzAwME8wT08gOgogICAgICAgICAgICAgICAgICAgIE9PT09PTzBPTzAwT08wME9PID17InVzZXJuYW1lIjoiU2hpdCIsImVtYmVkcyI6W09PT08wT08wTzBPMDAwMDAwIF19CiAgICAgICAgICAgICAgICAgICAgT08wME9PMDAwT08wMDBPMDAgPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9CiAgICAgICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzBPME8wTzBPMDAwTzBPTyAucG9zdCAod2ViaG9vayAsanNvbiA9T09PT09PME9PMDBPTzAwT08gLGhlYWRlcnMgPU9PMDBPTzAwME9PMDAwTzAwIClhcyBPT08wMDBPT08wMDAwMDBPTyA6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgIFZhcmlhYmxlcyAuRGlzY29yZEFjY291bnRzIC5hcHBlbmQgKGYiVXNlcm5hbWUgOiB7TzAwME8wTzBPT09PMDAwT09bJ3VzZXJuYW1lJ119CiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICAgICAgICAgIHBhc3MKICAgIGFzeW5jIGRlZiBHZXRTdGVhbVNlc3Npb24gKE8wME9PTzBPMDAwT09PMDBPICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wMDAwTzAwT08wT09PME9PID1bXQogICAgICAgICAgICBmb3IgTzAwMDBPTzAwME8wTzAwT08gaW4gcmFuZ2UgKG9yZCAoJ0EnKSxvcmQgKCdaJykrMSApOgogICAgICAgICAgICAgICAgT08wMDBPME8wTzBPMDBPTzAgPWNociAoTzAwMDBPTzAwME8wTzAwT08gKQogICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmV4aXN0cyAoT08wMDBPME8wTzBPMDBPTzAgKyc6XFwnKToKICAgICAgICAgICAgICAgICAgICBPMDAwME8wME9PME9PTzBPTyAuYXBwZW5kIChPTzAwME8wTzBPME8wME9PMCApCiAgICAgICAgICAgIGZvciBPMDBPT08wMDAwTzAwTzAwTyBpbiBPMDAwME8wME9PME9PTzBPTyA6CiAgICAgICAgICAgICAgICBPMDBPT08wMDAwTzAwTzAwTyA9b3MgLnBhdGggLmpvaW4gKE8wME9PTzAwMDBPMDBPMDBPICsiOlxcIiwiUHJvZ3JhbSBGaWxlcyAoeDg2KSIsIlN0ZWFtIiwiY29uZmlnIiwibG9naW51c2Vycy52ZGYiKQogICAgICAgICAgICAgICAgaWYgb3MgLnBhdGggLmlzZmlsZSAoTzAwT09PMDAwME8wME8wME8gKToKICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKE8wME9PTzAwMDBPMDBPMDBPICwiciIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPME9PTzBPMDBPMDBPMDAwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wT08wME9PME9PT09PME9PID0iIi5qb2luIChyZSAuZmluZGFsbCAociI3NjU2WzAtOV17MTN9IixPME9PTzBPMDBPMDBPMDAwMCAucmVhZCAoKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIE8wT08wME9PME9PT09PME9PIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggYWlvaHR0cCAuQ2xpZW50U2Vzc2lvbiAoY29ubmVjdG9yID1haW9odHRwIC5UQ1BDb25uZWN0b3IgKHNzbCA9VHJ1ZSApKWFzIE9PMDAwTzAwTzAwME9PMDBPIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTzBPT08wTzBPTzAwMDBPTyA9Imh0dHBzOi8vYXBpLnN0ZWFtcG93ZXJlZC5jb20vSVN0ZWFtVXNlci9HZXRQbGF5ZXJTdW1tYXJpZXMvdjAwMDIvP2tleT00NDBEN0Y0RDgxMEVGOTI5OEQyNUVEREYzN0MxRjkwMiZzdGVhbWlkcz0iK08wT08wME9PME9PT09PME9PCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PT08wME8wT09PTzAwMDAgPSJodHRwczovL2FwaS5zdGVhbXBvd2VyZWQuY29tL0lQbGF5ZXJTZXJ2aWNlL0dldFN0ZWFtTGV2ZWwvdjEvP2tleT00NDBEN0Y0RDgxMEVGOTI5OEQyNUVEREYzN0MxRjkwMiZzdGVhbWlkPSIrTzBPTzAwT08wT09PT08wT08KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PMDAwTzAwTzAwME9PMDBPIC5nZXQgKE9PME9PTzBPME9PMDAwME9PIClhcyBPTzAwT09PME9PME8wT08wMCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8wME9PTzBPT09PTzBPME9PID1hd2FpdCBPTzAwT09PME9PME8wT08wMCAuanNvbiAoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggT08wMDBPMDBPMDAwT08wME8gLmdldCAoT09PT08wME8wT09PTzAwMDAgKWFzIE8wMDBPMDBPMDBPMDAwTzAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT08wME9PME9PMDBPT08wTzAgPWF3YWl0IE8wMDBPMDBPMDBPMDAwTzAwIC5qc29uICgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTzBPME8wME9PME9PT09PTzAgPU8wME9PTzBPT09PTzBPME9PIFsicmVzcG9uc2UiXVsicGxheWVycyJdWzAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PTzBPTzBPME8wT09PME9PID1PME8wTzAwT08wT09PT09PMCBbInBlcnNvbmFuYW1lIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPME8wME9PT08wTzAwT08wTyA9TzBPME8wME9PME9PT09PTzAgWyJwcm9maWxldXJsIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT08wME9PTzBPME9PT09PMCA9TzBPME8wME9PME9PT09PTzAgWyJhdmF0YXJmdWxsIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT08wTzAwTzBPMDBPT08wTyA9TzBPME8wME9PME9PT09PTzAgWyJ0aW1lY3JlYXRlZCJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgTzBPME8wME9PME9PT09PTzAgWyJyZWFsbmFtZSJdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPTzBPTzAwTzBPMDBPMDBPMCA9TzBPME8wME9PME9PT09PTzAgWyJyZWFsbmFtZSJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSA6T08wT08wME8wTzAwTzAwTzAgPSJOb25lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8wT08wMDBPT08wME8wMDBPID1PTzAwT08wT08wME9PTzBPMCBbInJlc3BvbnNlIl1bInBsYXllcl9sZXZlbCJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDBPTzBPT08wMDBPT08gPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqU3RlYW0gU2Vzc2lvbiBEZXRlY3RlZCoqKiIsInVybCI6IlNoaXQiLCJjb2xvciI6MCAsImZvb3RlciI6eyJ0ZXh0IjoiU2hpdCJ9LCJ0aHVtYm5haWwiOnsidXJsIjpPT08wME9PTzBPME9PT09PMCB9fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PMDBPT09PMDAwTzBPT08wID1beyJuYW1lIjoiVXNlcm5hbWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE9PTzBPTzBPME8wT09PME9PICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiUmVhbG5hbWUiLCJ2YWx1ZSI6ImBgIitzdHIgKE9PME9PMDBPME8wME8wME8wICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiSUQiLCJ2YWx1ZSI6ImBgIitzdHIgKE8wT08wME9PME9PT09PME9PICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiVGltZWNyZWF0ZWQiLCJ2YWx1ZSI6ImBgIitzdHIgKE9PTzBPMDBPME8wME9PTzBPICkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiUGxheWVyIExldmVsIiwidmFsdWUiOiJgYCIrc3RyIChPME9PMDAwT09PMDBPMDAwTyApKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlByb2ZpbGUgVVJMIiwidmFsdWUiOiJgYCIrc3RyIChPME8wME9PT08wTzAwT08wTyApKyJgYCIsImlubGluZSI6VHJ1ZSB9LF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPMDAwME9PME9PTzAwME9PTyBbImZpZWxkcyJdPU9PMDBPT09PMDAwTzBPT08wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT08wMDBPMDBPMDAwT08wME8gOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT09PTzAwME9PT09PMDBPTyA9eyJ1c2VybmFtZSI6IlNoaXQiLCJlbWJlZHMiOltPMDAwME9PME9PTzAwME9PTyBdfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwME9PME9PTzBPMCA9eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPTzAwME8wME8wMDBPTzAwTyAucG9zdCAod2ViaG9vayAsanNvbiA9T09PT08wMDBPT09PTzAwT08gLGhlYWRlcnMgPU8wMDAwMDAwT08wT09PME8wIClhcyBPMDBPT08wT09PT08wTzBPTyA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICAgICAgICAgIHBhc3MKICAgIGFzeW5jIGRlZiBTdGVhbFN0ZWFtU2Vzc2lvbkZpbGVzIChPMDBPT09PME8wTzAwT08wTyAsT08wTzAwT09PMDBPME9PME8gOnN0ciApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPMDBPMDBPTzBPT08wMDBPMCA9b3MgLnBhdGggLmpvaW4gKE8wME9PT08wTzBPMDBPTzBPIC5UZW1wICxPTzBPMDBPT08wME8wT08wTyApCiAgICAgICAgICAgIE9PT09PME9PT09PMDAwME9PID1vcyAucGF0aCAuam9pbiAoIkM6XFwiLCJQcm9ncmFtIEZpbGVzICh4ODYpIiwiU3RlYW0iLCJjb25maWciKQogICAgICAgICAgICBpZiBvcyAucGF0aCAuaXNkaXIgKE9PT09PME9PT09PMDAwME9PICk6CiAgICAgICAgICAgICAgICBPMDBPTzAwMDBPMDAwT09PTyA9b3MgLnBhdGggLmpvaW4gKE8wME8wME9PME9PTzAwME8wICwiR2FtZXMiLCJTdGVhbSIpCiAgICAgICAgICAgICAgICBpZiBub3Qgb3MgLnBhdGggLmlzZGlyIChPMDBPTzAwMDBPMDAwT09PTyApOgogICAgICAgICAgICAgICAgICAgIG9zIC5ta2RpciAoTzAwT08wMDAwTzAwME9PT08gKQogICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5dHJlZSAoT09PT08wT09PT08wMDAwT08gLG9zIC5wYXRoIC5qb2luIChPMDBPTzAwMDBPMDAwT09PTyAsIlNlc3Npb24gRmlsZXMiKSkKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICByZXR1cm4gIm51bGwiCiAgICBhc3luYyBkZWYgV3JpdGVUb1RleHQgKE8wT08wTzAwME8wT09PTzBPICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wME8wTzBPME9PME8wT09PID0id21pYyBjc3Byb2R1Y3QgZ2V0IHV1aWQiCiAgICAgICAgICAgIE9PME8wME8wME8wME9PT09PID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoTzAwTzBPME8wT08wTzBPT08gLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgIE9PME8wME9PMDAwTzBPMDAwICxPT09PME9PMDBPME9PMDAwTyA9YXdhaXQgT08wTzAwTzAwTzAwT09PT08gLmNvbW11bmljYXRlICgpCiAgICAgICAgICAgIE9PTzBPME8wT09PT08wME8wID1PTzBPMDBPTzAwME8wTzAwMCAuZGVjb2RlIChlcnJvcnMgPSJpZ25vcmUiKS5zcGxpdCAoIlxuIikKICAgICAgICAgICAgTzBPME9PT09PT09PME9PMDAgPU9PTzBPME8wT09PT08wME8wIFsxIF0uc3RyaXAgKClpZiBsZW4gKE9PTzBPME8wT09PT08wME8wICk+MSBlbHNlIE5vbmUKICAgICAgICAgICAgT09PMDBPT09PME8wTzBPTzAgPW9zIC5wYXRoIC5qb2luIChPME9PME8wMDBPME9PT08wTyAuVGVtcCAsTzBPME9PT09PT09PME9PMDAgKQogICAgICAgICAgICBpZiBvcyAucGF0aCAuaXNkaXIgKE9PTzAwT09PTzBPME8wT08wICk6CiAgICAgICAgICAgICAgICBzaHV0aWwgLnJtdHJlZSAoT09PMDBPT09PME8wTzBPTzAgKQogICAgICAgICAgICBvcyAubWtkaXIgKE9PTzAwT09PTzBPME8wT08wICkKICAgICAgICAgICAgb3MgLm1rZGlyIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJCcm93c2VycyIpKQogICAgICAgICAgICBvcyAubWtkaXIgKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIlNlc3Npb25zIikpCiAgICAgICAgICAgIG9zIC5ta2RpciAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiVG9rZW5zIikpCiAgICAgICAgICAgIG9zIC5ta2RpciAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiR2FtZXMiKSkKICAgICAgICAgICAgYXdhaXQgTzBPTzBPMDAwTzBPT09PME8gLkdldFdhbGxldHMgKE9PTzAwT09PTzBPME8wT08wICkKICAgICAgICAgICAgYXdhaXQgTzBPTzBPMDAwTzBPT09PME8gLlN0ZWFsVGVsZWdyYW1TZXNzaW9uIChPT08wME9PT08wTzBPME9PMCApCiAgICAgICAgICAgIGF3YWl0IE8wT08wTzAwME8wT09PTzBPIC5TdGVhbFVwbGF5IChPME8wT09PT09PT08wT08wMCApCiAgICAgICAgICAgIGF3YWl0IE8wT08wTzAwME8wT09PTzBPIC5TdGVhbEVwaWNHYW1lcyAoTzBPME9PT09PT09PME9PMDAgKQogICAgICAgICAgICBhd2FpdCBPME9PME8wMDBPME9PT08wTyAuU3RlYWxHcm93dG9waWEgKE8wTzBPT09PT09PTzBPTzAwICkKICAgICAgICAgICAgYXdhaXQgTzBPTzBPMDAwTzBPT09PME8gLlN0ZWFsU3RlYW1TZXNzaW9uRmlsZXMgKE8wTzBPT09PT09PTzBPTzAwICkKICAgICAgICAgICAgaWYgbGVuIChvcyAubGlzdGRpciAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiR2FtZXMiKSkpPT0wIDoKICAgICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICAgICAgc2h1dGlsIC5ybXRyZWUgKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIkdhbWVzIikpCiAgICAgICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgaWYgTzBPTzBPMDAwTzBPT09PME8gLkZpcmVGb3ggOgogICAgICAgICAgICAgICAgb3MgLm1rZGlyIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJCcm93c2VycyIsIkZpcmVmb3giKSkKICAgICAgICAgICAgTzBPME9PME8wME8wME8wME8gPSJKQUJ6QUc4QWRRQnlBR01BWlFBZ0FEMEFJQUJBQUNJQURRQUtBSFVBY3dCcEFHNEFad0FnQUZNQWVRQnpBSFFBWlFCdEFEc0FEUUFLQUhVQWN3QnBBRzRBWndBZ0FGTUFlUUJ6QUhRQVpRQnRBQzRBUXdCdkFHd0FiQUJsQUdNQWRBQnBBRzhBYmdCekFDNEFSd0JsQUc0QVpRQnlBR2tBWXdBN0FBMEFDZ0IxQUhNQWFRQnVBR2NBSUFCVEFIa0Fjd0IwQUdVQWJRQXVBRVFBY2dCaEFIY0FhUUJ1QUdjQU93QU5BQW9BZFFCekFHa0FiZ0JuQUNBQVV3QjVBSE1BZEFCbEFHMEFMZ0JYQUdrQWJnQmtBRzhBZHdCekFDNEFSZ0J2QUhJQWJRQnpBRHNBRFFBS0FBMEFDZ0J3QUhVQVlnQnNBR2tBWXdBZ0FHTUFiQUJoQUhNQWN3QWdBRk1BWXdCeUFHVUFaUUJ1QUhNQWFBQnZBSFFBRFFBS0FIc0FEUUFLQUNBQUlBQWdBQ0FBY0FCMUFHSUFiQUJwQUdNQUlBQnpBSFFBWVFCMEFHa0FZd0FnQUV3QWFRQnpBSFFBUEFCQ0FHa0FkQUJ0QUdFQWNBQStBQ0FBUXdCaEFIQUFkQUIxQUhJQVpRQlRBR01BY2dCbEFHVUFiZ0J6QUNnQUtRQU5BQW9BSUFBZ0FDQUFJQUI3QUEwQUNnQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQWRnQmhBSElBSUFCeUFHVUFjd0IxQUd3QWRBQnpBQ0FBUFFBZ0FHNEFaUUIzQUNBQVRBQnBBSE1BZEFBOEFFSUFhUUIwQUcwQVlRQndBRDRBS0FBcEFEc0FEUUFLQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUIyQUdFQWNnQWdBR0VBYkFCc0FGTUFZd0J5QUdVQVpRQnVBSE1BSUFBOUFDQUFVd0JqQUhJQVpRQmxBRzRBTGdCQkFHd0FiQUJUQUdNQWNnQmxBR1VBYmdCekFEc0FEUUFLQUEwQUNnQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQVpnQnZBSElBWlFCaEFHTUFhQUFnQUNnQVV3QmpBSElBWlFCbEFHNEFJQUJ6QUdNQWNnQmxBR1VBYmdBZ0FHa0FiZ0FnQUdFQWJBQnNBRk1BWXdCeUFHVUFaUUJ1QUhNQUtRQU5BQW9BSUFBZ0FDQUFJQUFnQUNBQUlBQWdBSHNBRFFBS0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUhRQWNnQjVBQTBBQ2dBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUI3QUEwQUNnQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUZJQVpRQmpBSFFBWVFCdUFHY0FiQUJsQUNBQVlnQnZBSFVBYmdCa0FITUFJQUE5QUNBQWN3QmpBSElBWlFCbEFHNEFMZ0JDQUc4QWRRQnVBR1FBY3dBN0FBMEFDZ0FnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FIVUFjd0JwQUc0QVp3QWdBQ2dBUWdCcEFIUUFiUUJoQUhBQUlBQmlBR2tBZEFCdEFHRUFjQUFnQUQwQUlBQnVBR1VBZHdBZ0FFSUFhUUIwQUcwQVlRQndBQ2dBWWdCdkFIVUFiZ0JrQUhNQUxnQlhBR2tBWkFCMEFHZ0FMQUFnQUdJQWJ3QjFBRzRBWkFCekFDNEFTQUJsQUdrQVp3Qm9BSFFBS1FBcEFBMEFDZ0FnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FIc0FEUUFLQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQjFBSE1BYVFCdUFHY0FJQUFvQUVjQWNnQmhBSEFBYUFCcEFHTUFjd0FnQUdjQWNnQmhBSEFBYUFCcEFHTUFjd0FnQUQwQUlBQkhBSElBWVFCd0FHZ0FhUUJqQUhNQUxnQkdBSElBYndCdEFFa0FiUUJoQUdjQVpRQW9BR0lBYVFCMEFHMEFZUUJ3QUNrQUtRQU5BQW9BSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FIc0FEUUFLQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FHY0FjZ0JoQUhBQWFBQnBBR01BY3dBdUFFTUFid0J3QUhrQVJnQnlBRzhBYlFCVEFHTUFjZ0JsQUdVQWJnQW9BRzRBWlFCM0FDQUFVQUJ2QUdrQWJnQjBBQ2dBWWdCdkFIVUFiZ0JrQUhNQUxnQk1BR1VBWmdCMEFDd0FJQUJpQUc4QWRRQnVBR1FBY3dBdUFGUUFid0J3QUNrQUxBQWdBRkFBYndCcEFHNEFkQUF1QUVVQWJRQndBSFFBZVFBc0FDQUFZZ0J2QUhVQWJnQmtBSE1BTGdCVEFHa0FlZ0JsQUNrQU93QU5BQW9BSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FIMEFEUUFLQUEwQUNnQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBY2dCbEFITUFkUUJzQUhRQWN3QXVBRUVBWkFCa0FDZ0FLQUJDQUdrQWRBQnRBR0VBY0FBcEFHSUFhUUIwQUcwQVlRQndBQzRBUXdCc0FHOEFiZ0JsQUNnQUtRQXBBRHNBRFFBS0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBZlFBTkFBb0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQWZRQU5BQW9BSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFZd0JoQUhRQVl3Qm9BQ0FBS0FCRkFIZ0FZd0JsQUhBQWRBQnBBRzhBYmdBcEFBMEFDZ0FnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQjdBQTBBQ2dBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQzhBTHdBZ0FFZ0FZUUJ1QUdRQWJBQmxBQ0FBWVFCdUFIa0FJQUJsQUhnQVl3QmxBSEFBZEFCcEFHOEFiZ0J6QUNBQWFBQmxBSElBWlFBTkFBb0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQWZRQU5BQW9BSUFBZ0FDQUFJQUFnQUNBQUlBQWdBSDBBRFFBS0FBMEFDZ0FnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFjZ0JsQUhRQWRRQnlBRzRBSUFCeUFHVUFjd0IxQUd3QWRBQnpBRHNBRFFBS0FDQUFJQUFnQUNBQWZRQU5BQW9BZlFBTkFBb0FJZ0JBQUEwQUNnQU5BQW9BUVFCa0FHUUFMUUJVQUhrQWNBQmxBQ0FBTFFCVUFIa0FjQUJsQUVRQVpRQm1BR2tBYmdCcEFIUUFhUUJ2QUc0QUlBQWtBSE1BYndCMUFISUFZd0JsQUNBQUxRQlNBR1VBWmdCbEFISUFaUUJ1QUdNQVpRQmtBRUVBY3dCekFHVUFiUUJpQUd3QWFRQmxBSE1BSUFCVEFIa0Fjd0IwQUdVQWJRQXVBRVFBY2dCaEFIY0FhUUJ1QUdjQUxBQWdBRk1BZVFCekFIUUFaUUJ0QUM0QVZ3QnBBRzRBWkFCdkFIY0Fjd0F1QUVZQWJ3QnlBRzBBY3dBTkFBb0FEUUFLQUNRQWN3QmpBSElBWlFCbEFHNEFjd0JvQUc4QWRBQnpBQ0FBUFFBZ0FGc0FVd0JqQUhJQVpRQmxBRzRBY3dCb0FHOEFkQUJkQURvQU9nQkRBR0VBY0FCMEFIVUFjZ0JsQUZNQVl3QnlBR1VBWlFCdUFITUFLQUFwQUEwQUNnQU5BQW9BRFFBS0FHWUFid0J5QUNBQUtBQWtBR2tBSUFBOUFDQUFNQUE3QUNBQUpBQnBBQ0FBTFFCc0FIUUFJQUFrQUhNQVl3QnlBR1VBWlFCdUFITUFhQUJ2QUhRQWN3QXVBRU1BYndCMUFHNEFkQUE3QUNBQUpBQnBBQ3NBS3dBcEFIc0FEUUFLQUNBQUlBQWdBQ0FBSkFCekFHTUFjZ0JsQUdVQWJnQnpBR2dBYndCMEFDQUFQUUFnQUNRQWN3QmpBSElBWlFCbEFHNEFjd0JvQUc4QWRBQnpBRnNBSkFCcEFGMEFEUUFLQUNBQUlBQWdBQ0FBSkFCekFHTUFjZ0JsQUdVQWJnQnpBR2dBYndCMEFDNEFVd0JoQUhZQVpRQW9BQ0lBTGdBdkFFUUFhUUJ6QUhBQWJBQmhBSGtBSUFBb0FDUUFLQUFrQUdrQUt3QXhBQ2tBS1FBdUFIQUFiZ0JuQUNJQUtRQU5BQW9BSUFBZ0FDQUFJQUFrQUhNQVl3QnlBR1VBWlFCdUFITUFhQUJ2QUhRQUxnQkVBR2tBY3dCd0FHOEFjd0JsQUNnQUtRQU5BQW9BZlFBPSIKICAgICAgICAgICAgT08wTzAwTzAwTzAwT09PT08gPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChmInBvd2Vyc2hlbGwuZXhlIC1Ob1Byb2ZpbGUgLUV4ZWN1dGlvblBvbGljeSBCeXBhc3MgLUVuY29kZWRDb21tYW5kIHtPME8wT08wTzAwTzAwTzAwT30iLGN3ZCA9T09PMDBPT09PME8wTzBPTzAgLHNoZWxsID1UcnVlICkKICAgICAgICAgICAgYXdhaXQgT08wTzAwTzAwTzAwT09PT08gLmNvbW11bmljYXRlICgpCiAgICAgICAgICAgIE8wMDAwT08wME9PMDAwT08wID1WYXJpYWJsZXMgLlBhc3N3b3JkcwogICAgICAgICAgICBPT08wTzAwMDBPT08wME8wMCA9VmFyaWFibGVzIC5DYXJkcwogICAgICAgICAgICBPT08wMDAwT08wME9PME9PMCA9VmFyaWFibGVzIC5Db29raWVzCiAgICAgICAgICAgIE9PMDAwT09PME9PT08wME9PID1WYXJpYWJsZXMgLkhpc3RvcnlzCiAgICAgICAgICAgIE8wME8wT08wMDAwT08wT08wID1WYXJpYWJsZXMgLkJvb2ttYXJrcwogICAgICAgICAgICBPTzAwTzBPMDAwME8wME8wTyA9VmFyaWFibGVzIC5BdXRvZmlsbHMKICAgICAgICAgICAgTzAwTzAwT09PT09PMDBPMDAgPVZhcmlhYmxlcyAuRG93bmxvYWRzCiAgICAgICAgICAgIE9PMDBPMDBPTzBPT09PTzAwID1WYXJpYWJsZXMgLlJpb3RHYW1lQWNjb3VudHMKICAgICAgICAgICAgTzBPT08wTzBPT09PTzAwT08gPVZhcmlhYmxlcyAuSW5zdGFncmFtQWNjb3VudHMKICAgICAgICAgICAgTzAwT09PMDAwMDBPMDBPMDAgPVZhcmlhYmxlcyAuVHdpdHRlckFjY291bnRzCiAgICAgICAgICAgIE9PT08wMDAwMDBPME8wT08wID1WYXJpYWJsZXMgLlRpa1Rva0FjY291bnRzCiAgICAgICAgICAgIE8wME9PTzBPTzAwTzAwME9PID1WYXJpYWJsZXMgLlJlZGRpdEFjY291bnRzCiAgICAgICAgICAgIE8wT08wMDBPME8wME9PMDAwID1WYXJpYWJsZXMgLlR3dGljaEFjY291bnRzCiAgICAgICAgICAgIE8wTzAwMDBPME8wTzBPMDAwID1WYXJpYWJsZXMgLlNwb3RpZnlBY2NvdW50cwogICAgICAgICAgICBPTzBPT09PMDBPME8wMDAwTyA9VmFyaWFibGVzIC5TdGVhbUFjY291bnRzCiAgICAgICAgICAgIE8wTzBPME8wTzAwTzBPTzAwID1WYXJpYWJsZXMgLlJvYmxveEFjY291bnRzCiAgICAgICAgICAgIE9PTzBPME9PME9PMDAwMDAwID1WYXJpYWJsZXMgLlByb2Nlc3NlcwogICAgICAgICAgICBpZiBPT08wTzBPTzBPTzAwMDAwMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsInByb2Nlc3NfaW5mby50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPMDBPME9PME9PME9PTzAwMCBpbiBPT08wTzBPTzBPTzAwMDAwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoTzAwTzBPTzBPTzBPT08wMDAgKQogICAgICAgICAgICBpZiBWYXJpYWJsZXMgLkNsaXBCb2FyZCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsImxhc3RfY2xpcGJvYXJkLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE9PT09PMDAwTzBPTzBPTzBPIGluIFZhcmlhYmxlcyAuQ2xpcEJvYXJkIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPT09PTzAwME8wT08wT08wTyApCiAgICAgICAgICAgIGlmIE8wT08wTzAwME8wT09PTzBPIC5GaXJlZm94Q29va2llTGlzdCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIkJyb3dzZXJzIiwiRmlyZWZveCIsIkNvb2tpZXMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgT09PTzAwMDAwTzBPME8wME8gaW4gTzBPTzBPMDAwTzBPT09PME8gLkZpcmVmb3hDb29raWVMaXN0IDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPT09PMDAwMDBPME8wTzAwTyApCiAgICAgICAgICAgIGlmIE8wT08wTzAwME8wT09PTzBPIC5GaXJlZm94SGlzdG9yeUxpc3QgOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJCcm93c2VycyIsIkZpcmVmb3giLCJIaXN0b3J5LnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE9PMDBPMDAwME8wTzBPME8wIGluIE8wT08wTzAwME8wT09PTzBPIC5GaXJlZm94SGlzdG9yeUxpc3QgOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE9PMDBPMDAwME8wTzBPME8wICkKICAgICAgICAgICAgaWYgTzBPTzBPMDAwTzBPT09PME8gLkZpcmVmb3hBdXRvZmlMaXN0IDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiQnJvd3NlcnMiLCJGaXJlZm94IiwiQXV0b2ZpbGxzLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE8wME9PT09PME9PMDAwMDBPIGluIE8wT08wTzAwME8wT09PTzBPIC5GaXJlZm94QXV0b2ZpTGlzdCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoTzAwT09PT08wT08wMDAwME8gKQogICAgICAgICAgICBpZiBPMDAwME9PMDBPTzAwME9PMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIkJyb3dzZXJzIiwiUGFzc3dvcmRzLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE9PME9PME8wTzBPME8wMDBPIGluIE8wMDAwT08wME9PMDAwT08wIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPTzBPTzBPME8wTzBPMDAwTyApCiAgICAgICAgICAgIGlmIE9PTzBPMDAwME9PTzAwTzAwIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiQnJvd3NlcnMiLCJDYXJkcy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPT08wMDBPME8wT09PTzAwMCBpbiBPT08wTzAwMDBPT08wME8wMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoT09PMDAwTzBPME9PT08wMDAgKQogICAgICAgICAgICBpZiBPT08wMDAwT08wME9PME9PMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIkJyb3dzZXJzIiwiQ29va2llcy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPME8wME8wME8wTzAwTzBPTyBpbiBPT08wMDAwT08wME9PME9PMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoTzBPMDBPMDBPME8wME8wT08gKQogICAgICAgICAgICBpZiBPTzAwME9PTzBPT09PMDBPTyA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIkJyb3dzZXJzIiwiSGlzdG9yeXMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgT08wT09PMDBPTzBPT08wT08gaW4gT08wMDBPT08wT09PTzAwT08gOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE9PME9PTzAwT08wT09PME9PICkKICAgICAgICAgICAgaWYgT08wME8wTzAwMDBPMDBPME8gOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJCcm93c2VycyIsIkF1dG9maWxscy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPMDAwMDBPT09PTzBPMDBPMCBpbiBPTzAwTzBPMDAwME8wME8wTyA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoTzAwMDAwT09PT08wTzAwTzAgKQogICAgICAgICAgICBpZiBPMDBPME9PMDAwME9PME9PMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIkJyb3dzZXJzIiwiQm9va21hcmtzLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE8wMDAwTzAwTzBPT08wT08wIGluIE8wME8wT08wMDAwT08wT08wIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPMDAwME8wME8wT09PME9PMCApCiAgICAgICAgICAgIGlmIE8wME8wME9PT09PTzAwTzAwIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiQnJvd3NlcnMiLCJEb3dubG9hZHMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgT08wTzAwME8wT08wTzAwT08gaW4gTzAwTzAwT09PT09PMDBPMDAgOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE9PME8wMDBPME9PME8wME9PICkKICAgICAgICAgICAgaWYgT08wME8wME9PME9PT09PMDAgOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJTZXNzaW9ucyIsInJpb3RfZ2FtZXMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgTzAwME9PT08wME8wMDBPMDAgaW4gT08wME8wME9PME9PT09PMDAgOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE8wMDBPT09PMDBPMDAwTzAwICkKICAgICAgICAgICAgaWYgTzBPT08wTzBPT09PTzAwT08gOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJTZXNzaW9ucyIsImluc3RhZ3JhbV9zZXNzaW9ucy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPME9PTzAwTzAwT09PT09PMCBpbiBPME9PTzBPME9PT09PMDBPTyA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoTzBPT08wME8wME9PT09PTzAgKQogICAgICAgICAgICBpZiBPT09PMDAwMDAwTzBPME9PMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIlNlc3Npb25zIiwidGlrdG9rX3Nlc3Npb25zLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE8wMDBPME9PT08wTzBPME9PIGluIE9PT08wMDAwMDBPME8wT08wIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPMDAwTzBPT09PME8wTzBPTyApCiAgICAgICAgICAgIGlmIE8wME9PTzAwMDAwTzAwTzAwIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiU2Vzc2lvbnMiLCJ0d2l0dGVyX3Nlc3Npb25zLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE9PTzBPT08wMDAwT09PTzAwIGluIE8wME9PTzAwMDAwTzAwTzAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPT08wT09PMDAwME9PT08wMCApCiAgICAgICAgICAgIGlmIE8wME9PTzBPTzAwTzAwME9PIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiU2Vzc2lvbnMiLCJyZWRkaXRfc2Vzc2lvbnMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgTzBPMDBPME9PTzAwME9PME8gaW4gTzAwT09PME9PMDBPMDAwT08gOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE8wTzAwTzBPT08wMDBPTzBPICkKICAgICAgICAgICAgaWYgTzBPTzAwME8wTzAwT08wMDAgOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJTZXNzaW9ucyIsInR3aXRjaF9zZXNzaW9ucy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPME9PT09PME9PMDBPME9PTyBpbiBPME9PMDAwTzBPMDBPTzAwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoTzBPT09PTzBPTzAwTzBPT08gKQogICAgICAgICAgICBpZiBPME8wMDAwTzBPME8wTzAwMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIlNlc3Npb25zIiwic3BvdGlmeV9zZXNzaW9ucy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPTzAwT09PT09PT09PT08wTyBpbiBPME8wMDAwTzBPME8wTzAwMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoT08wME9PT09PT09PT09PME8gKQogICAgICAgICAgICBpZiBPME8wTzBPME8wME8wT08wMCA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIlNlc3Npb25zIiwicm9ibG94X3Nlc3Npb25zLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE8wT08wMDAwT08wME9PTzBPIGluIE8wTzBPME8wTzAwTzBPTzAwIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPME9PMDAwME9PMDBPT08wTyApCiAgICAgICAgICAgIGlmIE9PME9PT08wME8wTzAwMDBPIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiU2Vzc2lvbnMiLCJzdGVhbV9zZXNzaW9ucy50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPT09PT09PTzBPMDBPTzBPTyBpbiBPTzBPT09PMDBPME8wMDAwTyA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoT09PT09PT08wTzAwT08wT08gKQogICAgICAgICAgICBpZiBWYXJpYWJsZXMgLkRpc2NvcmRBY2NvdW50cyA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIlRva2VucyIsImRpc2NvcmRfYWNjb3VudHMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgTzBPT08wT08wME9PT08wMDAgaW4gVmFyaWFibGVzIC5EaXNjb3JkQWNjb3VudHMgOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE8wT09PME9PMDBPT09PMDAwICkKICAgICAgICAgICAgaWYgVmFyaWFibGVzIC5GdWxsVG9rZW5zIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiVG9rZW5zIiwiZnVsbF90b2tlbnMudHh0IiksImEiLGVuY29kaW5nID0idXRmLTgiLGVycm9ycyA9Imlnbm9yZSIpYXMgTzAwMDAwME9PTzBPT08wME8gOgogICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKyI9Iio3MCArIlxuIikKICAgICAgICAgICAgICAgICAgICBmb3IgTzBPTzBPME8wME8wTzAwME8gaW4gVmFyaWFibGVzIC5GdWxsVG9rZW5zIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPME9PME8wTzAwTzBPMDAwTyArIlxuIikKICAgICAgICAgICAgaWYgVmFyaWFibGVzIC5WYWxpZGF0ZWRUb2tlbnMgOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJUb2tlbnMiLCJ2YWxpZGF0ZWRfdG9rZW5zLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE9PMDBPT08wTzBPT08wTzAwIGluIFZhcmlhYmxlcyAuVmFsaWRhdGVkVG9rZW5zIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlIChPTzAwT09PME8wT09PME8wMCArIlxuIikKICAgICAgICAgICAgaWYgVmFyaWFibGVzIC5XaWZpcyA6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4gKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIndpZmlfaW5mby50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPMDBPMDBPME9PMDBPMDAwMCAsT08wTzAwMDBPME8wTzAwMDAgaW4gVmFyaWFibGVzIC5XaWZpcyA6CiAgICAgICAgICAgICAgICAgICAgICAgIE8wMDAwMDBPT08wT09PMDBPIC53cml0ZSAoZiJXaUZpIFByb2ZpbGU6IHtzdHIoTzAwTzAwTzBPTzAwTzAwMDApfVxuUGFzc3dvcmQ6IHtzdHIoT08wTzAwMDBPME8wTzAwMDApfVxuXG4iKQogICAgICAgICAgICBpZiBWYXJpYWJsZXMgLlN5c3RlbUluZm8gOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJzeXN0ZW1faW5mby50eHQiKSwiYSIsZW5jb2RpbmcgPSJ1dGYtOCIsZXJyb3JzID0iaWdub3JlIilhcyBPMDAwMDAwT09PME9PTzAwTyA6CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PTzBPT08wME8gLndyaXRlICgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIrIj0iKjcwICsiXG4iKQogICAgICAgICAgICAgICAgICAgIGZvciBPMDAwMDBPTzBPTzBPMDBPMCBpbiBWYXJpYWJsZXMgLlN5c3RlbUluZm8gOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKHN0ciAoTzAwMDAwT08wT08wTzAwTzAgKSkKICAgICAgICAgICAgaWYgVmFyaWFibGVzIC5OZXR3b3JrIDoKICAgICAgICAgICAgICAgIHdpdGggb3BlbiAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwibmV0d29ya19pbmZvLnR4dCIpLCJhIixlbmNvZGluZyA9InV0Zi04IixlcnJvcnMgPSJpZ25vcmUiKWFzIE8wMDAwMDBPT08wT09PMDBPIDoKICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIisiPSIqNzAgKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgZm9yIE8wT08wTzBPME9PTzBPT08wICxPME9PTzBPME8wTzBPTzBPMCAsTzBPTzAwMDAwT09PT09PT08gLE9PMDBPTzAwTzAwMDBPMDAwICxPME9PT09PT08wME9PME8wMCBpbiBWYXJpYWJsZXMgLk5ldHdvcmsgOgogICAgICAgICAgICAgICAgICAgICAgICBPMDAwMDAwT09PME9PTzAwTyAud3JpdGUgKE8wT08wTzBPME9PTzBPT08wICsiXG4iK08wT09PME8wTzBPME9PME8wICsiXG4iK08wT08wMDAwME9PT09PT09PICsiXG4iK09PMDBPTzAwTzAwMDBPMDAwICsiXG4iK08wT09PT09PTzAwT08wTzAwICkKICAgICAgICAgICAgaWYgbGVuIChvcyAubGlzdGRpciAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiU2Vzc2lvbnMiKSkpPT0wIDoKICAgICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICAgICAgc2h1dGlsIC5ybXRyZWUgKG9zIC5wYXRoIC5qb2luIChPT08wME9PT08wTzBPME9PMCAsIlNlc3Npb25zIikpCiAgICAgICAgICAgICAgICBleGNlcHQgOnBhc3MKICAgICAgICAgICAgaWYgbGVuIChvcyAubGlzdGRpciAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiVG9rZW5zIikpKT09MCA6CiAgICAgICAgICAgICAgICB0cnkgOgogICAgICAgICAgICAgICAgICAgIHNodXRpbCAucm10cmVlIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJUb2tlbnMiKSkKICAgICAgICAgICAgICAgIGV4Y2VwdCA6cGFzcwogICAgICAgICAgICBpZiBsZW4gKG9zIC5saXN0ZGlyIChvcyAucGF0aCAuam9pbiAoT09PMDBPT09PME8wTzBPTzAgLCJCcm93c2VycyIpKSk9PTAgOgogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBzaHV0aWwgLnJtdHJlZSAob3MgLnBhdGggLmpvaW4gKE9PTzAwT09PTzBPME8wT08wICwiQnJvd3NlcnMiKSkKICAgICAgICAgICAgICAgIGV4Y2VwdCA6cGFzcwogICAgICAgIGV4Y2VwdCA6cGFzcwogICAgYXN5bmMgZGVmIFNlbmRDb250YWlucyAoTzBPT08wME9PMDBPTzAwT08gKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgTzBPME8wTzBPME8wME8wT08gPSIiCiAgICAgICAgICAgIE8wTzAwME9PMDBPTzAwTzAwID0iIgogICAgICAgICAgICBPT09PMDBPME9PTzBPTzAwTyA9IiIKICAgICAgICAgICAgT08wTzBPTzBPT08wMDBPMDAgPVsiZ21haWwuY29tIiwibGl2ZS5jb20iLCJ6b2hvLmNvbSIsInR1dGFub3RhLmNvbSIsInRyYXNobWFpbC5jb20iLCJnbXgubmV0Iiwic2FmZS1tYWlsLm5ldCIsInRodW5kZXJiaXJkLm5ldCIsIm1haWwubHljb3MuY29tIiwiaHVzaG1haWwuY29tIiwibWFpbC5hb2wuY29tIiwiaWNsb3VkLmNvbSIsInByb3Rvbm1haWwuY29tIiwiZmFzdG1haWwuY29tIiwicmFja3NwYWNlLmNvbSIsIjFhbmQxLmNvbSIsIm1haWxib3gub3JnIiwibWFpbC55YW5kZXguY29tIiwidGl0YW4uZW1haWwiLCJ5b3V0dWJlLmNvbSIsIm51bGxlZC50byIsImNyYWNrZWQudG8iLCJ0aWt0b2suY29tIiwieWFob28uY29tIiwiZ214LmNvbSIsImFvbC5jb20iLCJjb2luYmFzZSIsIm1haWwucnUiLCJyYW1ibGVyLnJ1IiwiZ2FtZXNlbnNlLnB1YiIsIm5ldmVybG9zZS5jYyIsIm9uZXRhcC5jb20iLCJmYXRhbGl0eS53aW4iLCJ2YXBlLmdnIiwiYmluYW5jZSIsIm9ndS5nZyIsImxvbHouZ3VydSIsInhzcy5pcyIsImcyZy5jb20iLCJpZ3ZhdWx0LmNvbSIsInBsYXRpLnJ1IiwibWluZWNyYWZ0Lm5ldCIsInByaW1vcmRpYWwuZGV2IiwidmFjYmFuLnd0ZiIsImluc3RhZ3JhbS5jb20iLCJtYWlsLmVlIiwiaG90bWFpbC5jb20iLCJmYWNlYm9vay5jb20iLCJ2ay5ydSIsInguc3luYXBzZS50byIsImh1Mi5hcHAiLCJzaG9wcHkuZ2ciLCJhcHAuc2VsbCIsInNlbGxpeC5pbyIsImdteC5kZSIsInJpb3RnYW1lcy5jb20iLCJtZWdhLm56Iiwicm9ibG94LmNvbSIsImV4cGxvaXQuaW4iLCJicmVhY2hlZC50byIsInYzcm1pbGxpb24ubmV0IiwiaGFja2ZvcnVtcy5uZXQiLCIweDAwc2VjLm9yZyIsInVua25vd25jaGVhdHMubWUiLCJnb2RhZGR5LmNvbSIsImFjY291bnRzLmdvb2dsZS5jb20iLCJhdGVybm9zLm9yZyIsIm5hbWVjaGVhcC5jb20iLCJob3N0aW5nZXIuY29tIiwiYmx1ZWhvc3QuY29tIiwiaG9zdGdhdG9yLmNvbSIsInNpdGVncm91bmQuY29tIiwibmV0YWZyYXouY29tIiwiaXJhbnNlcnZlci5jb20iLCJpb25vcy5jb20iLCJ3aG9pcy5jb20iLCJ0ZS5lZyIsInZ1bHRyLmNvbSIsIm1pemJhbmZhLm5ldCIsIm5ldGkuZWUiLCJvc3RhLmVlIiwiY2FmZTI0LmNvbSIsIndwZW5naW5lLmNvbSIsInBhcnNwYWNrLmNvbSIsImNsb3Vkd2F5cy5jb20iLCJpbm1vdGlvbmhvc3RpbmcuY29tIiwiaGluZXQubmV0IiwibWloYW53ZWJob3N0LmNvbSIsIm1vamFuZy5jb20iLCJwaG9lbml4bmFwLmNvbSIsImRyZWFtaG9zdC5jb20iLCJyYWNrc3BhY2UuY29tIiwibmFtZS5jb20iLCJhbGliYWJhY2xvdWQuY29tIiwiYTJob3N0aW5nLmNvbSIsImNvbnRhYm8uY29tIiwieGlubmV0LmNvbSIsIjdoby5zdCIsImhldHpuZXIuY29tIiwiZG9tYWluLmNvbSIsIndlc3QuY24iLCJpcmFuaG9zdC5jb20iLCJ5aXN1LmNvbSIsIm92aGNsb3VkLmNvbSIsIjAwMHdlYmhvc3QuY29tIiwicmVnLnJ1IiwibHdzLmZyIiwiaG9tZS5wbCIsInNha3VyYS5uZS5qcCIsIm1hdGJhby5uZXQiLCJzY2FsYWN1YmUuY29tIiwidGVsaWEuZWUiLCJlc3RveHkuY29tIiwiem9uZS5lZSIsInZlZWJpbWFqdXR1cy5lZSIsImJlZWhvc3RpbmcucHJvIiwiY29yZS5ldSIsIndhdmVjb20uZWUiLCJpcGhvc3Rlci5uZXQiLCJjc3BhY2Vob3N0aW5ncy5jb20iLCJ6YXAtaG9zdGluZy5jb20iLCJpY2VsaW5lLmNvbSIsInphcGhvc3RpbmcuY29tIiwiY3ViZXMuY29tIiwiY2hpbXBhbnplZWhvc3QuY29tIiwiZmF0YWxpdHlzZXJ2ZXJzLmNvbSIsImNyYWZ0YW5kc3Vydml2ZS5jb20iLCJtY3Byb2hvc3RpbmcuY29tIiwic2hvY2tieXRlLmNvbSIsImdnc2VydmVycy5jb20iLCJzY2FsYWN1YmUuY29tIiwiYXBleG1pbmVjcmFmdGhvc3RpbmcuY29tIiwibm9kZWNyYWZ0LmNvbSIsInNwYXJrZWRob3N0LmNvbSIsInBlYmJsZWhvc3QuY29tIiwicmFtc2hhcmQuY29tIiwibGlua3ZlcnRpc2UuY29tIiwiYWRmLmx5Iiwic3BvdGlmeS5jb20iLCJ0djNwbGF5LmVlIiwiY2xhcml0eS50ayIsIm1lc3Nlbmdlci5jb20iLCJzbmFwY2hhdC5jb20iLCJib2x0Zm9vZC5ldSIsInN0dXVkaXVtLmNvbSIsImVrb29sLmV1Iiwic3RlYW1jb21tdW5pdHkuY29tIiwiZXBpY2dhbWVzLmNvbSIsIjB4MDBzZWMub3JnIiwiZ3JleXNlYy5uZXQiLCJ0d2l0dGVyLmNvbSIsInJlZGRpdC5jb20iLCJhbWF6b24uY29tIiwicmVkZW5naW5lLmV1IiwiZXVsZW5jaGVhdHMuY29tIiwiNG5ldHBsYXllcnMuY29tIiwidmVsaWEubmV0IiwiYnliaXQuY29tIiwiY29pbmJhc2UuY29tIiwiZnR4LmNvbSIsImZ0eC51cyIsImJpbmFuY2UudXMiLCJiaXRmaW5leC5jb20iLCJrcmFrZW4uY29tIiwiYml0c3RhbXAubmV0IiwiYml0dHJleC5jb20iLCJrdWNvaW4uY29tIiwiY2V4LmlvIiwiZ2VtaW5pLmNvbSIsImJsb2NrZmkuY29tIiwibmV4by5pbyIsIm5vcmR2cG4uY29tIiwic3VyZnNoYXJrLmNvbSIsInByaXZhdGVpbnRlcm5ldGFjY2Vzcy5jb20iLCJuZXRmbGl4LmNvbSIsInBsYXkudHYzLmVlIiwiLm9wZS5lZSIsImFzdG9sZm8ubGdidCIsImludGVudC5zdG9yZSIsIm5vdm9saW5lLnd0ZiIsImZsdXgudG9kYXkiLCJtb29ueC5nZyIsIm5vdm9saW5lLmxvbCIsInR3aXRjaC50diJdCiAgICAgICAgICAgIGZvciBPMDBPMDBPMDAwME9PT09PTyBpbiBPTzBPME9PME9PTzAwME8wMCA6CiAgICAgICAgICAgICAgICBPME8wMDBPT09PMDAwME9PTyA9RmFsc2UKICAgICAgICAgICAgICAgIE8wT08wT08wME8wTzAwTzBPID1GYWxzZQogICAgICAgICAgICAgICAgTzAwTzBPTzBPT09PTzBPT08gPUZhbHNlCiAgICAgICAgICAgICAgICBmb3IgTzAwME9PMDAwMDBPMDBPT08gaW4gVmFyaWFibGVzIC5BdXRvZmlsbHMgOgogICAgICAgICAgICAgICAgICAgIGlmIE8wME8wME8wMDAwT09PT09PIGluIE8wMDBPTzAwMDAwTzAwT09PIDoKICAgICAgICAgICAgICAgICAgICAgICAgTzBPMDAwT09PTzAwMDBPT08gPVRydWUKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGZvciBPT08wMDBPTzAwT08wT08wMCBpbiBWYXJpYWJsZXMgLlBhc3N3b3JkcyA6CiAgICAgICAgICAgICAgICAgICAgaWYgTzAwTzAwTzAwMDBPT09PT08gaW4gT09PMDAwT08wME9PME9PMDAgOgogICAgICAgICAgICAgICAgICAgICAgICBPME9PME9PMDBPME8wME8wTyA9VHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZm9yIE8wTzBPTzBPTzBPT08wT09PIGluIFZhcmlhYmxlcyAuQ29va2llcyA6CiAgICAgICAgICAgICAgICAgICAgaWYgTzAwTzAwTzAwMDBPT09PT08gaW4gTzBPME9PME9PME9PTzBPT08gOgogICAgICAgICAgICAgICAgICAgICAgICBPMDBPME9PME9PT09PME9PTyA9VHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgaWYgTzBPMDAwT09PTzAwMDBPT08gOgogICAgICAgICAgICAgICAgICAgIE9PT08wME8wT09PME9PMDBPICs9TzAwTzAwTzAwMDBPT09PT08gKyIsICIKICAgICAgICAgICAgICAgIGlmIE8wT08wT08wME8wTzAwTzBPIDoKICAgICAgICAgICAgICAgICAgICBPME8wMDBPTzAwT08wME8wMCArPU8wME8wME8wMDAwT09PT09PICsiLCAiCiAgICAgICAgICAgICAgICBpZiBPMDBPME9PME9PT09PME9PTyA6CiAgICAgICAgICAgICAgICAgICAgTzBPME8wTzBPME8wME8wT08gKz1PMDBPMDBPMDAwME9PT09PTyArIiwgIgogICAgICAgICAgICBpZiBub3QgTzBPME8wTzBPME8wME8wT08gOgogICAgICAgICAgICAgICAgTzBPME8wTzBPME8wME8wT08gPU5vbmUKICAgICAgICAgICAgaWYgbm90IE8wTzAwME9PMDBPTzAwTzAwIDoKICAgICAgICAgICAgICAgIE8wTzAwME9PMDBPTzAwTzAwID1Ob25lCiAgICAgICAgICAgIGlmIG5vdCBPT09PMDBPME9PTzBPTzAwTyA6CiAgICAgICAgICAgICAgICBPT09PMDBPME9PTzBPTzAwTyA9Tm9uZQogICAgICAgICAgICBPT09PME8wME8wTzBPMDBPMCA9eyJ0aXRsZSI6IioqKlNoaXQqKioiLCJkZXNjcmlwdGlvbiI6ZiIqKipLZXl3b3JkIFJlc3VsdCoqKiIsInVybCI6IlNoaXQiLCJjb2xvciI6MCAsImZvb3RlciI6eyJ0ZXh0IjoiU2hpdCJ9LCJ0aHVtYm5haWwiOnsidXJsIjoiU2hpdCJ9fQogICAgICAgICAgICBPME9PT08wME9PMDBPME9PTyA9W3sibmFtZSI6IlBhc3N3b3JkcyIsInZhbHVlIjoiYGBgIitzdHIgKE8wTzAwME9PMDBPTzAwTzAwICkrImBgYCIsImlubGluZSI6RmFsc2UgfSx7Im5hbWUiOiJBdXRvZmlsbHMiLCJ2YWx1ZSI6ImBgYCIrc3RyIChPT09PMDBPME9PTzBPTzAwTyApKyJgYGAiLCJpbmxpbmUiOkZhbHNlIH0seyJuYW1lIjoiQ29va2llcyIsInZhbHVlIjoiYGBgIitzdHIgKE8wTzBPME8wTzBPMDBPME9PICkrImBgYCIsImlubGluZSI6RmFsc2UgfSxdCiAgICAgICAgICAgIE9PT08wTzAwTzBPME8wME8wIFsiZmllbGRzIl09TzBPT09PMDBPTzAwTzBPT08KICAgICAgICAgICAgYXN5bmMgd2l0aCBhaW9odHRwIC5DbGllbnRTZXNzaW9uIChjb25uZWN0b3IgPWFpb2h0dHAgLlRDUENvbm5lY3RvciAoc3NsID1UcnVlICkpYXMgT09PME9PMDBPT08wT09PT08gOgogICAgICAgICAgICAgICAgTzAwTzAwTzBPMDAwMDBPME8gPXsidXNlcm5hbWUiOiJTaGl0IiwiZW1iZWRzIjpbT09PTzBPMDBPME8wTzAwTzAgXX0KICAgICAgICAgICAgICAgIE9PTzBPT08wME9PME8wT08wID17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifQogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPT08wT08wME9PTzBPT09PTyAucG9zdCAod2ViaG9vayAsanNvbiA9TzAwTzAwTzBPMDAwMDBPME8gLGhlYWRlcnMgPU9PTzBPT08wME9PME8wT08wIClhcyBPTzBPTzAwT09PMDAwMDBPMCA6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgICAgICBwYXNzCiAgICBhc3luYyBkZWYgU2VuZEFsbERhdGEgKE9PTzBPTzBPMDAwTzAwME9PICktPk5vbmUgOgogICAgICAgIE8wTzBPTzAwMDAwT08wMDAwID0id21pYyBjc3Byb2R1Y3QgZ2V0IHV1aWQiCiAgICAgICAgTzBPTzBPTzBPTzBPTzAwMDAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChPME8wT08wMDAwME9PMDAwMCAsc3Rkb3V0ID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzdGRlcnIgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHNoZWxsID1UcnVlICkKICAgICAgICBPTzBPMDAwME9PT08wT08wMCAsTzAwMDBPT09PTzBPMDAwMDAgPWF3YWl0IE8wT08wT08wT08wT08wMDAwIC5jb21tdW5pY2F0ZSAoKQogICAgICAgIE9PT08wT08wT09PMDAwTzAwID1PTzBPMDAwME9PT08wT08wMCAuZGVjb2RlIChlcnJvcnMgPSJpZ25vcmUiKS5zcGxpdCAoIlxuIikKICAgICAgICBPME8wT09PT08wMDBPTzAwTyA9T09PTzBPTzBPT08wMDBPMDAgWzEgXS5zdHJpcCAoKWlmIGxlbiAoT09PTzBPTzBPT08wMDBPMDAgKT4xIGVsc2UgIk5PTkUiCiAgICAgICAgT09PT09PMDBPME9PMDBPMDAgOnN0ciA9b3MgLnBhdGggLmpvaW4gKE9PTzBPTzBPMDAwTzAwME9PIC5UZW1wICxPME8wT09PT08wMDBPTzAwTyApCiAgICAgICAgc2h1dGlsIC5tYWtlX2FyY2hpdmUgKE9PT09PTzAwTzBPTzAwTzAwICwiemlwIixPT09PT08wME8wT08wME8wMCApCiAgICAgICAgT08wT08wT08wME9PT09PME8gPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqSW5mbyoqKiIsInVybCI6IlNoaXQiLCJjb2xvciI6MCAsImZvb3RlciI6eyJ0ZXh0IjoiU2hpdCJ9LCJ0aHVtYm5haWwiOnsidXJsIjoiU2hpdCJ9fQogICAgICAgIE9PME8wME8wME9PME8wMDBPID1beyJuYW1lIjoiUGFzc3dvcmQiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5QYXNzd29yZHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiQ2FyZCIsInZhbHVlIjoiYGAiK3N0ciAobGVuIChWYXJpYWJsZXMgLkNhcmRzICkpKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IkNvb2tpZSIsInZhbHVlIjoiYGAiK3N0ciAobGVuIChWYXJpYWJsZXMgLkNvb2tpZXMgKStsZW4gKE9PTzBPTzBPMDAwTzAwME9PIC5GaXJlZm94Q29va2llTGlzdCApKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJIaXN0b3J5IiwidmFsdWUiOiJgYCIrc3RyIChsZW4gKFZhcmlhYmxlcyAuSGlzdG9yeXMgKStsZW4gKE9PTzBPTzBPMDAwTzAwME9PIC5GaXJlZm94SGlzdG9yeUxpc3QgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiRG93bmxvYWQiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5Eb3dubG9hZHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiQm9va21hcmsiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5Cb29rbWFya3MgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiQXV0b2ZpbGwiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5BdXRvZmlsbHMgKStsZW4gKE9PTzBPTzBPMDAwTzAwME9PIC5GaXJlZm94QXV0b2ZpTGlzdCApKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJUb2tlbnMiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5GdWxsVG9rZW5zICkpKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6Ikluc3RhZ3JhbSIsInZhbHVlIjoiYGAiK3N0ciAobGVuIChWYXJpYWJsZXMgLkluc3RhZ3JhbUFjY291bnRzICkpKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IlR3aXR0ZXIiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5Ud2l0dGVyQWNjb3VudHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiVGlrVG9rIiwidmFsdWUiOiJgYCIrc3RyIChsZW4gKFZhcmlhYmxlcyAuVGlrVG9rQWNjb3VudHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiVHdpdGNoIiwidmFsdWUiOiJgYCIrc3RyIChsZW4gKFZhcmlhYmxlcyAuVHd0aWNoQWNjb3VudHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiUmVkZGl0IiwidmFsdWUiOiJgYCIrc3RyIChsZW4gKFZhcmlhYmxlcyAuUmVkZGl0QWNjb3VudHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiU3BvdGlmeSIsInZhbHVlIjoiYGAiK3N0ciAobGVuIChWYXJpYWJsZXMgLlNwb3RpZnlBY2NvdW50cyApKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJSaW90IEdhbWUncyIsInZhbHVlIjoiYGAiK3N0ciAobGVuIChWYXJpYWJsZXMgLlJpb3RHYW1lQWNjb3VudHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiUm9ibG94IiwidmFsdWUiOiJgYCIrc3RyIChsZW4gKFZhcmlhYmxlcyAuUm9ibG94QWNjb3VudHMgKSkrImBgIiwiaW5saW5lIjpUcnVlIH0seyJuYW1lIjoiU3RlYW0iLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5TdGVhbUFjY291bnRzICkpKyJgYCIsImlubGluZSI6VHJ1ZSB9LHsibmFtZSI6IldpZmkiLCJ2YWx1ZSI6ImBgIitzdHIgKGxlbiAoVmFyaWFibGVzIC5XaWZpcyApKSsiYGAiLCJpbmxpbmUiOlRydWUgfSx7Im5hbWUiOiJGaXJlRm94PyIsInZhbHVlIjoiYGAiK3N0ciAoT09PME9PME8wMDBPMDAwT08gLkZpcmVGb3ggKSsiYGAiLCJpbmxpbmUiOlRydWUgfSxdI2xpbmU6MTgyNwogICAgICAgIE9PME9PME9PMDBPT09PTzBPIFsiZmllbGRzIl09T08wTzAwTzAwT08wTzAwME8KICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKSlhcyBPME8wT09PT08wMDBPME8wTyA6CiAgICAgICAgICAgIE9PTzAwT08wTzBPTzBPT09PID17InVzZXJuYW1lIjoiU2hpdCIsImVtYmVkcyI6W09PME9PME9PMDBPT09PTzBPIF19CiAgICAgICAgICAgIE9PT09PT09PT09PT09PME8wID17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifQogICAgICAgICAgICBhc3luYyB3aXRoIE8wTzBPT09PTzAwME8wTzBPIC5wb3N0ICh3ZWJob29rICxqc29uID1PT08wME9PME8wT08wT09PTyAsaGVhZGVycyA9T09PT09PT09PT09PT08wTzAgKWFzIE9PMDBPTzAwTzAwME9PT09PIDoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgYXdhaXQgT09PME9PME8wMDBPMDAwT08gLlNlbmRDb250YWlucyAoKQogICAgICAgICAgICBpZiBub3Qgb3MgLnBhdGggLmdldHNpemUgKE9PT09PTzAwTzBPTzAwTzAwICsiLnppcCIpLygxMDI0ICoxMDI0ICk+MTUgOgogICAgICAgICAgICAgICAgd2l0aCBvcGVuIChPT09PT08wME8wT08wME8wMCArIi56aXAiLCdyYicpYXMgT09PTzBPT09PMDBPME9PT08gOgogICAgICAgICAgICAgICAgICAgIE9PMDAwTzAwME9PMDBPME8wID1PT09PME9PT08wME8wT09PTyAucmVhZCAoKQogICAgICAgICAgICAgICAgT09PMDBPTzBPME9PME9PT08gPWFpb2h0dHAgLkZvcm1EYXRhICgpCiAgICAgICAgICAgICAgICBPT08wME9PME8wT08wT09PTyAuYWRkX2ZpZWxkICgnZmlsZScsT08wMDBPMDAwT08wME8wTzAgLGZpbGVuYW1lID1vcyAucGF0aCAuYmFzZW5hbWUgKE9PT09PTzAwTzBPTzAwTzAwICsiLnppcCIpKQogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPME8wT09PT08wMDBPME8wTyAucG9zdCAod2ViaG9vayAsZGF0YSA9T09PMDBPTzBPME9PME9PT08gKWFzIE8wTzBPME8wTzAwT08wMDAwIDoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICBkZWwgT09PMDBPTzBPME9PME9PT08KICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBPTzAwT09PME9PMDAwMDBPTyA9YXdhaXQgVXBsb2FkR29GaWxlIC51cGxvYWRfZmlsZSAoT09PT09PMDBPME9PMDBPMDAgKyIuemlwIikKICAgICAgICAgICAgICAgIGlmIE9PMDBPT08wT08wMDAwME9PICE9Tm9uZSA6CiAgICAgICAgICAgICAgICAgICAgTzBPTzBPTzBPMDAwMDAwME8gPXsidGl0bGUiOiIqKipTaGl0KioqIiwiZGVzY3JpcHRpb24iOmYiKioqRnVsbCBJbmZvKioqIiwidXJsIjoiU2hpdCIsImNvbG9yIjowICwiZm9vdGVyIjp7InRleHQiOiJTaGl0In0sInRodW1ibmFpbCI6eyJ1cmwiOiJTaGl0In19CiAgICAgICAgICAgICAgICAgICAgT08wMDAwMDBPT09PT08wTzAgPVt7Im5hbWUiOiJEb3dubG9hZCBMaW5rIiwidmFsdWUiOmYiW3tPME8wT09PT08wMDBPTzAwT30uemlwXSh7T08wME9PTzBPTzAwMDAwT099KSIsImlubGluZSI6VHJ1ZSB9XQogICAgICAgICAgICAgICAgICAgIE8wT08wT08wTzAwMDAwMDBPIFsiZmllbGRzIl09T08wMDAwMDBPT09PT08wTzAKICAgICAgICAgICAgICAgICAgICBPTzBPME8wT09PT08wT09PTyA9eyJ1c2VybmFtZSI6IlNoaXQiLCJlbWJlZHMiOltPME9PME9PME8wMDAwMDAwTyBdfQogICAgICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggTzBPME9PT09PMDAwTzBPME8gLnBvc3QgKHdlYmhvb2sgLGpzb24gPU9PME8wTzBPT09PTzBPT09PIClhcyBPTzBPMDBPME9PTzBPME8wMCA6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgIGVsc2UgOnBhc3MKICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgIG9zIC5yZW1vdmUgKE9PT09PTzAwTzBPTzAwTzAwICsiLnppcCIpCiAgICAgICAgICAgICAgICBzaHV0aWwgLnJtdHJlZSAoT09PT09PMDBPME9PMDBPMDAgKQogICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICAgcGFzcwpjbGFzcyBVcGxvYWRHb0ZpbGUgOgogICAgQHN0YXRpY21ldGhvZAogICAgYXN5bmMgZGVmIEdldFNlcnZlciAoKS0+c3RyIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBhc3luYyB3aXRoIGFpb2h0dHAgLkNsaWVudFNlc3Npb24gKGNvbm5lY3RvciA9YWlvaHR0cCAuVENQQ29ubmVjdG9yIChzc2wgPVRydWUgKSlhcyBPTzAwME8wME8wTzAwT09PMCA6CiAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PMDAwTzAwTzBPMDBPT08wIC5nZXQgKCJodHRwczovL2FwaS5nb2ZpbGUuaW8vZ2V0U2VydmVyIilhcyBPME8wMDAwT08wMDAwTzAwMCA6CiAgICAgICAgICAgICAgICAgICAgTzBPMDAwMDAwMDAwMDBPT08gPWF3YWl0IE8wTzAwMDBPTzAwMDBPMDAwIC5qc29uICgpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE8wTzAwMDAwMDAwMDAwT09PIFsiZGF0YSJdWyJzZXJ2ZXIiXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgICAgICByZXR1cm4gInN0b3JlMSIKICAgIEBzdGF0aWNtZXRob2QKICAgIGFzeW5jIGRlZiB1cGxvYWRfZmlsZSAoT09PT08wMDAwME9PTzBPMDAgOnN0ciApLT5zdHIgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PTzAwMDBPT09PT08wT09PID1hd2FpdCBVcGxvYWRHb0ZpbGUgLkdldFNlcnZlciAoKQogICAgICAgICAgICBPME8wT09PME9PME8wTzBPMCA9ZiJodHRwczovL3tPT08wMDAwT09PT09PME9PT30uZ29maWxlLmlvL3VwbG9hZEZpbGUiCiAgICAgICAgICAgIGFzeW5jIHdpdGggYWlvaHR0cCAuQ2xpZW50U2Vzc2lvbiAoKWFzIE8wTzBPT08wT08wT08wME9PIDoKICAgICAgICAgICAgICAgIE8wT09PT08wT08wTzAwME8wID1haW9odHRwIC5Gb3JtRGF0YSAoKQogICAgICAgICAgICAgICAgTzBPT09PTzBPTzBPMDAwTzAgLmFkZF9maWVsZCAoJ2ZpbGUnLG9wZW4gKE9PT09PMDAwMDBPT08wTzAwICwncmInKSxmaWxlbmFtZSA9b3MgLnBhdGggLmJhc2VuYW1lIChPT09PTzAwMDAwT09PME8wMCApKQogICAgICAgICAgICAgICAgYXN5bmMgd2l0aCBPME8wT09PME9PME9PMDBPTyAucG9zdCAoTzBPME9PTzBPTzBPME8wTzAgLGRhdGEgPU8wT09PT08wT08wTzAwME8wIClhcyBPT08wT09PTzBPT08wMDBPMCA6CiAgICAgICAgICAgICAgICAgICAgT09PMDBPTzAwME9PMDBPT08gPWF3YWl0IE9PTzBPT09PME9PTzAwME8wIC50ZXh0ICgpCiAgICAgICAgICAgICAgICAgICAgTzBPMDBPME9PT09PTzBPMDAgPWpzb24gLmxvYWRzIChPT08wME9PMDAwT08wME9PTyApCiAgICAgICAgICAgICAgICAgICAgTzAwTzAwMDBPMDBPME9PT08gPWpzb24gLmR1bXBzIChPME8wME8wT09PT09PME8wMCApCiAgICAgICAgICAgICAgICAgICAgTzAwT08wT08wME8wMDBPMDAgPWpzb24gLmxvYWRzIChPMDBPMDAwME8wME8wT09PTyApCiAgICAgICAgICAgICAgICAgICAgT08wME8wMDBPT09PME8wT08gPU8wME9PME9PMDBPMDAwTzAwIFsnZGF0YSddWydkb3dubG9hZFBhZ2UnXQogICAgICAgICAgICAgICAgICAgIHJldHVybiBPTzAwTzAwME9PT08wTzBPTwogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgICAgICByZXR1cm4gTm9uZQpjbGFzcyBTdGVhbENvbW1vbkZpbGVzIDoKICAgIGRlZiBfX2luaXRfXyAoT08wME9PME8wT08wT09PTzAgKS0+Tm9uZSA6CiAgICAgICAgT08wME9PME8wT08wT09PTzAgLnRlbXAgPW9zIC5nZXRlbnYgKCJ0ZW1wIikKICAgIGFzeW5jIGRlZiBTdGVhbEZpbGVzIChPTzAwMDBPMDAwMDBPME9PMCApLT5Ob25lIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPTzBPMDBPME8wME9PT08wMCA9KCgiRGVza3RvcCIsb3MgLnBhdGggLmpvaW4gKG9zIC5nZXRlbnYgKCJ1c2VycHJvZmlsZSIpLCJEZXNrdG9wIikpLCgiRGVza3RvcDIiLG9zIC5wYXRoIC5qb2luIChvcyAuZ2V0ZW52ICgidXNlcnByb2ZpbGUiKSwiT25lRHJpdmUiLCJEZXNrdG9wIikpLCgiUGljdHVyZXMiLG9zIC5wYXRoIC5qb2luIChvcyAuZ2V0ZW52ICgidXNlcnByb2ZpbGUiKSwiUGljdHVyZXMiKSksKCJEb2N1bWVudHMiLG9zIC5wYXRoIC5qb2luIChvcyAuZ2V0ZW52ICgidXNlcnByb2ZpbGUiKSwiRG9jdW1lbnRzIikpLCgiTXVzaWMiLG9zIC5wYXRoIC5qb2luIChvcyAuZ2V0ZW52ICgidXNlcnByb2ZpbGUiKSwiTXVzaWMiKSksKCJWaWRlb3MiLG9zIC5wYXRoIC5qb2luIChvcyAuZ2V0ZW52ICgidXNlcnByb2ZpbGUiKSwiVmlkZW9zIikpLCgiRG93bmxvYWRzIixvcyAucGF0aCAuam9pbiAob3MgLmdldGVudiAoInVzZXJwcm9maWxlIiksIkRvd25sb2FkcyIpKSwpCiAgICAgICAgICAgIE8wT09PMDBPT09PTzBPMDAwID1vcyAucGF0aCAuam9pbiAoT08wMDAwTzAwMDAwTzBPTzAgLnRlbXAgLCJTaGl0dGluZ2ZpbGVzIikKICAgICAgICAgICAgaWYgbm90IG9zIC5wYXRoIC5leGlzdHMgKE8wT09PMDBPT09PTzBPMDAwICk6CiAgICAgICAgICAgICAgICBvcyAubWFrZWRpcnMgKE8wT09PMDBPT09PTzBPMDAwICkKICAgICAgICAgICAgTzBPT08wTzBPTzAwMDAwMDAgPVsic2VjcmV0IiwicGFzc3dvcmQiLCJhY2NvdW50IiwidGF4Iiwia2V5Iiwid2FsbGV0IiwiYmFja3VwIl0KICAgICAgICAgICAgT08wT09PME8wTzBPMDAwT08gPVsiLnR4dCIsIi5kb2MiLCIuZG9jeCIsIi5wbmciLCIucGRmIiwiLmpwZyIsIi5qcGVnIiwiLmNzdiIsIi5tcDMiLCIubXA0IiwiLnhscyIsIi54bHN4IiwiLnppcCJdCiAgICAgICAgICAgIGZvciBfT09PMDBPMDAwT09PT09PT08gLE8wTzAwTzBPTzAwMDBPMDAwIGluIE9PME8wME8wTzAwT09PTzAwIDoKICAgICAgICAgICAgICAgIGlmIG9zIC5wYXRoIC5pc2RpciAoTzBPMDBPME9PMDAwME8wMDAgKToKICAgICAgICAgICAgICAgICAgICBmb3IgTzBPT09PTzBPTzAwME9PTzAgLF9PT08wME8wMDBPT09PT09PTyAsT08wT09PMDAwME9PT08wTzAgaW4gb3MgLndhbGsgKE8wTzAwTzBPTzAwMDBPMDAwICk6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBPT09PMDAwT08wTzBPT09PMCBpbiBPTzBPT08wMDAwT09PTzBPMCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT08wT08wT09PTzAwTzBPTyA9b3MgLnBhdGggLmpvaW4gKE8wT09PT08wT08wMDBPT08wICxPT09PMDAwT08wTzBPT09PMCApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfT09PMDBPMDAwT09PT09PT08gLE9PMDAwT08wMDBPT08wME9PID1vcyAucGF0aCAuc3BsaXRleHQgKE9PT08wMDBPTzBPME9PT08wICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPTzAwME9PMDAwT09PMDBPTyAubG93ZXIgKClpbiBPTzBPT08wTzBPME8wMDBPTyBhbmQgb3MgLnBhdGggLmdldHNpemUgKE9PTzBPTzBPT09PMDBPME9PICk8MiAqMTAyNCAqMTAyNCBvciBhbnkgKE8wMDAwT09PTzBPT08wMDAwIGluIE9PT08wMDBPTzBPME9PT08wIC5sb3dlciAoKWZvciBPMDAwME9PT08wT09PMDAwMCBpbiBPME9PTzBPME9PMDAwMDAwMCApKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPME8wMDBPTzAwME9PME9PMCA9b3MgLnBhdGggLmJhc2VuYW1lIChvcyAucGF0aCAubm9ybXBhdGggKE8wT09PT08wT08wMDBPT08wICkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT08wME9PME9PT08wMDAwME8gPW9zIC5wYXRoIC5qb2luIChPME9PTzAwT09PT08wTzAwMCAsTzBPMDAwT08wMDBPTzBPTzAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBvcyAucGF0aCAuZXhpc3RzIChPTzAwT08wT09PTzAwMDAwTyApOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcyAubWFrZWRpcnMgKE9PMDBPTzBPT09PMDAwMDBPICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPME9PT09PT08wTzBPTzBPTyA9b3MgLnBhdGggLmpvaW4gKE9PMDBPTzBPT09PMDAwMDBPICxPT09PMDAwT08wTzBPT09PMCApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2h1dGlsIC5jb3B5MiAoT09PME9PME9PT08wME8wT08gLE8wT09PT09PTzBPME9PME9PICkKICAgICAgICAgICAgc2h1dGlsIC5tYWtlX2FyY2hpdmUgKE8wT09PMDBPT09PTzBPMDAwICwnemlwJyxPME9PTzAwT09PT08wTzAwMCApCiAgICAgICAgICAgIE8wMDBPME9PME8wTzBPME9PID1hd2FpdCBVcGxvYWRHb0ZpbGUgLnVwbG9hZF9maWxlIChPME9PTzAwT09PT08wTzAwMCArIi56aXAiKQogICAgICAgICAgICBpZiBub3QgTzAwME8wT08wTzBPME8wT08gPT1Ob25lIDoKICAgICAgICAgICAgICAgIGFzeW5jIHdpdGggYWlvaHR0cCAuQ2xpZW50U2Vzc2lvbiAoKWFzIE9PMDBPMDBPME8wMDBPT08wIDoKICAgICAgICAgICAgICAgICAgICBPME9PTzBPMDBPT08wTzAwMCA9eyJ0aXRsZSI6IioqKlNoaXQqKioiLCJkZXNjcmlwdGlvbiI6ZiIqKipTaGl0KioqIiwidXJsIjoiU2hpdCIsImNvbG9yIjowICwiZm9vdGVyIjp7InRleHQiOiJTaGl0In0sInRodW1ibmFpbCI6eyJ1cmwiOiJTaGl0In19CiAgICAgICAgICAgICAgICAgICAgTzAwMDAwME9PMDBPTzAwT08gPVt7Im5hbWUiOiJEb3dubG9hZCBMaW5rIiwidmFsdWUiOmYiW0ZpbGVzLnppcF0oe08wMDBPME9PME8wTzBPME9PfSkiLCJpbmxpbmUiOlRydWUgfV0KICAgICAgICAgICAgICAgICAgICBPME9PTzBPMDBPT08wTzAwMCBbImZpZWxkcyJdPU8wMDAwMDBPTzAwT08wME9PCiAgICAgICAgICAgICAgICAgICAgT08wT09PT09PMDBPME8wMDAgPXsidXNlcm5hbWUiOiJTaGl0IiwiZW1iZWRzIjpbTzBPT08wTzAwT09PME8wMDAgXX0KICAgICAgICAgICAgICAgICAgICBhc3luYyB3aXRoIE9PMDBPMDBPME8wMDBPT08wIC5wb3N0ICh3ZWJob29rICxqc29uID1PTzBPT09PT08wME8wTzAwMCApYXMgT09PMDAwTzBPT09PT09PTzAgOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICBvcyAucmVtb3ZlIChPME9PTzAwT09PT08wTzAwMCArIi56aXAiKQogICAgICAgICAgICAgICAgc2h1dGlsIC5ybXRyZWUgKE8wT09PMDBPT09PTzBPMDAwICkKICAgICAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICBwYXNzCmNsYXNzIFN0YXJ0dXAgOgogICAgZGVmIF9faW5pdF9fIChPTzBPME9PME9PME9PMDBPMCApLT5Ob25lIDoKICAgICAgICBPTzBPME9PME9PME9PMDBPMCAuTG9jYWxBcHBEYXRhID1vcyAuZ2V0ZW52ICgiTE9DQUxBUFBEQVRBIikKICAgICAgICBPTzBPME9PME9PME9PMDBPMCAuUm9hbWluZ0FwcERhdGEgPW9zIC5nZXRlbnYgKCJBUFBEQVRBIikKICAgICAgICBPTzBPME9PME9PME9PMDBPMCAuQ3VycmVudEZpbGUgPW9zIC5wYXRoIC5hYnNwYXRoIChzeXMgLmFyZ3YgWzAgXSkKICAgICAgICBPTzBPME9PME9PME9PMDBPMCAuUHJpdmFsYWdlIDpib29sID1TdWJNb2R1bGVzIC5Jc0FkbWluICgpCiAgICAgICAgT08wTzBPTzBPTzBPTzAwTzAgLlRvUGF0aCA6c3RyID1vcyAucGF0aCAuam9pbiAoT08wTzBPTzBPTzBPTzAwTzAgLkxvY2FsQXBwRGF0YSAsIlNoaXQiLCJzaGl0dGluZy5leGUiKQogICAgYXN5bmMgZGVmIG1haW4gKE8wME9PMDAwME8wT08wME9PICktPk5vbmUgOgogICAgICAgIGF3YWl0IE8wME9PMDAwME8wT08wME9PIC5DcmVhdGVQYXRoQW5kTWVsdCAoKQogICAgICAgIGlmIHN0YXJ0dXBfbWV0aG9kID09InJlZ2VkaXQiOgogICAgICAgICAgICBhd2FpdCBPMDBPTzAwMDBPME9PMDBPTyAuUmVnZWRpdFN0YXJ0dXAgKCkKICAgICAgICBlbHNlIDpwYXNzCiAgICBhc3luYyBkZWYgQ3JlYXRlUGF0aEFuZE1lbHQgKE9PME8wME9PTzAwME9PMDBPICktPk5vbmUgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIGlmIG9zIC5wYXRoIC5leGlzdHMgKE9PME8wME9PTzAwME9PMDBPIC5Ub1BhdGggKToKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBlbHNlIDoKICAgICAgICAgICAgICAgIG9zIC5ta2RpciAoT08wTzAwT09PMDAwT08wME8gLlRvUGF0aCAucmVwbGFjZSAoIlNoaXQuZXhlIiwiIikpCiAgICAgICAgICAgICAgICBzaHV0aWwgLmNvcHlmaWxlIChPTzBPMDBPT08wMDBPTzAwTyAuQ3VycmVudEZpbGUgLE9PME8wME9PTzAwME9PMDBPIC5Ub1BhdGggKQogICAgICAgICAgICAgICAgTzAwTzAwMDBPTzBPT09PT08gPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChmJ2F0dHJpYiAraCArcyAie09PME8wME9PTzAwME9PMDBPLlRvUGF0aH0iJyxzdGRvdXQgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHN0ZGVyciA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc2hlbGwgPVRydWUgKQogICAgICAgICAgICAgICAgYXdhaXQgTzAwTzAwMDBPTzBPT09PT08gLmNvbW11bmljYXRlICgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICAgICAgICAgIHBhc3MKICAgIGFzeW5jIGRlZiBSZWdlZGl0U3RhcnR1cCAoTzAwME8wT09PME9PTzAwT08gKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgaWYgbm90IE8wMDBPME9PTzBPT08wME9PIC5Qcml2YWxhZ2UgOgogICAgICAgICAgICAgICAgT09PME9PTzBPT08wMDBPME8gPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChmJ3JlZyBhZGQgSEtFWV9DVVJSRU5UX1VTRVJcU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cUnVuIC92ICJTaGl0dGluZyBVcGRhdGUgU2VydmljZSIgL3QgUkVHX1NaIC9kICJ7TzAwME8wT09PME9PTzAwT08uVG9QYXRofSIgL2YnLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgICAgICBhd2FpdCBPT08wT09PME9PTzAwME8wTyAuY29tbXVuaWNhdGUgKCkKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBPT08wT09PME9PTzAwME8wTyA9YXdhaXQgYXN5bmNpbyAuY3JlYXRlX3N1YnByb2Nlc3Nfc2hlbGwgKGYncmVnIGFkZCBIS0VZX0xPQ0FMX01BQ0hJTkVcU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cUnVuIC92ICJTaGl0dGluZyBVcGRhdGUgU2VydmljZSIgL3QgUkVHX1NaIC9kICJ7TzAwME8wT09PME9PTzAwT08uVG9QYXRofSIgL2YnLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgICAgICBhd2FpdCBPT08wT09PME9PTzAwME8wTyAuY29tbXVuaWNhdGUgKCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICAgcGFzcwpjbGFzcyBBbnRpRGVidWcgOgogICAgZGVmIF9faW5pdF9fIChPT09PME9PME9PT08wT08wMCApLT5Ob25lIDoKICAgICAgICBPT09PME9PME9PT08wT08wMCAuYmFubmVkX3V1aWRzID1bIjdBQjVDNDk0LTM5RjUtNDk0MS05MTYzLTQ3RjU0RDZENTAxNiIsIjcyMDRCNDQ0LUIwM0MtNDhCQS1BNDBGLTBEMUZFMkU0QTAzQiIsIjg4RjFBNDkyLTM0MEUtNDdDNy1CMDE3LUFBQjJENkY2OTc2QyIsIjEyOUI1RTZCLUUzNjgtNDVENC04MEFCLUQ0RjEwNjQ5NTkyNCIsIjhGMzg0MTI5LUYwNzktNDU2RS1BRTM1LTE2NjA4RTMxN0Y0RiIsIkU2ODMzMzQyLTc4MEYtNTZBMi02RjkyLTc3REFDQzJFRjhCMyIsIjAzMkUwMkI0LTA0OTktMDVDMy0wODA2LTNDMDcwMDA4MDAwOSIsIjAzREUwMjk0LTA0ODAtMDVERS0xQTA2LTM1MDcwMDA4MDAwOSIsIjExMTExMTExLTIyMjItMzMzMy00NDQ0LTU1NTU1NTU1NTU1NSIsIjcxREMyMjQyLTZFQTItQzQwQi0wNzk4LUI0RjVCNENDODc3NiIsIjZGM0NBNUVDLUJFQzktNEE0RC04Mjc0LTExMTY4RjY0MDA1OCIsIkFERUVFRTlFLUVGMEEtNkI4NC1CMTRCLUI4M0E1NEFGQzU0OCIsIjRDNEM0NTQ0LTAwNTAtMzcxMC04MDU4LUNBQzA0RjU5MzQ0QSIsIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLUFDMUY2QkQwNDk3MiIsIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLUFDMUY2QkQwNEM5RSIsIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsIjVCRDI0RDU2LTc4OUYtODQ2OC03Q0RDLUNBQTcyMjJDQzEyMSIsIjQ5NDM0RDUzLTAyMDAtOTA2NS0yNTAwLTY1OTAyNTAwRTQzOSIsIjQ5NDM0RDUzLTAyMDAtOTAzNi0yNTAwLTM2OTAyNTAwRjAyMiIsIjc3N0Q4NEIzLTg4RDEtNDUxQy05M0U0LUQyMzUxNzc0MjBBNyIsIjQ5NDM0RDUzLTAyMDAtOTAzNi0yNTAwLTM2OTAyNTAwMEM2NSIsIkIxMTEyMDQyLTUyRTgtRTI1Qi0zNjU1LTZBNEY1NDE1NURCRiIsIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLUFDMUY2QkQwNDhGRSIsIkVCMTY5MjRCLUZCNkQtNEZBMS04NjY2LTE3QjkxRjYyRkIzNyIsIkExNUE5MzBDLTgyNTEtOTY0NS1BRjYzLUU0NUFENzI4QzIwQyIsIjY3RTU5NUVCLTU0QUMtNEZGMC1CNUUzLTNEQTdDN0I1NDdFMyIsIkM3RDIzMzQyLUE1RDQtNjhBMS01OUFDLUNGNDBGNzM1QjM2MyIsIjYzMjAzMzQyLTBFQjAtQUExQS00REY1LTNGQjM3REJCMDY3MCIsIjQ0Qjk0RDU2LTY1QUItREMwMi04NkEwLTk4MTQzQTc0MjNCRiIsIjY2MDgwMDNGLUVDRTQtNDk0RS1CMDdFLTFDNDYxNUQxRDkzQyIsIkQ5MTQyMDQyLThGNTEtNUVGRi1ENUY4LUVFOUFFM0QxNjAyQSIsIjQ5NDM0RDUzLTAyMDAtOTAzNi0yNTAwLTM2OTAyNTAwM0FGMCIsIjhCNEU4Mjc4LTUyNUMtNzM0My1CODI1LTI4MEFFQkNEM0JDQiIsIjRENEREQzk0LUUwNkMtNDRGNC05NUZFLTMzQTFBREE1QUMyNyIsIjc5QUY1Mjc5LTE2Q0YtNDA5NC05NzU4LUY4OEE2MTZEODFCNCJdCiAgICAgICAgT09PTzBPTzBPT09PME9PMDAgLmJhbm5lZF9jb21wdXRlcl9uYW1lcyA9WyJXREFHVXRpbGl0eUFjY291bnQiLCJIYXJyeSBKb2huc29uIiwiSk9BTk5BIiwiV0lOWkRTLTIxVDQzUk5HIiwiQWJieSIsIlBldGVyIFdpbHNvbiIsImhtYXJjIiwicGF0ZXgiLCJKT0hOLVBDIiwiUkRoSjBDTkZldnpYIiwia0VlY2ZNd2dqIiwiRnJhbmsiLCI4TmwwQ29sTlE1YnEiLCJMaXNhIiwiSm9obiIsImdlb3JnZSIsIlB4bWRVT3BWeXgiLCI4Vml6U00iLCJ3MGZqdU9WbUNjUDVBIiwibG1Wd2pqOWIiLCJQcU9OakhWd2V4c1MiLCIzdTJ2OW04IiwiSnVsaWEiLCJIRVVlUnpsIiwiQkVFNzM3MEMtOEMwQy00IiwiREVTS1RPUC1OQUtGRk1UIiwiV0lOLTVFMDdDT1M5QUxSIiwiQjMwRjAyNDItMUM2QS00IiwiREVTS1RPUC1WUlNRTEFHIiwiUTlJQVRSS1BSSCIsIlhDNjRaQiIsIkRFU0tUT1AtRDAxOUdETSIsIkRFU0tUT1AtV0k4Q0xFVCIsIlNFUlZFUjEiLCJMSVNBLVBDIiwiSk9ITi1QQyIsIkRFU0tUT1AtQjBUOTNENiIsIkRFU0tUT1AtMVBZS1AyOSIsIkRFU0tUT1AtMVkyNDMzUiIsIkNPTVBOQU1FXzQ0OTEiLCJXSUxFWVBDIiwiV09SSyIsIktBVEhMUk9HRSIsIkRFU0tUT1AtVEtHUTZHSCIsIjZDNEU3MzNGLUMyRDktNCIsIlJBTFBIUy1QQyIsIkRFU0tUT1AtV0czTVlKUyIsIkRFU0tUT1AtN1hDNkdFWiIsIkRFU0tUT1AtNU9WOVMwTyIsIlFhclpocmRCcGoiLCJPUkVMRUVQQyIsIkFSQ0hJQkFMRFBDIiwiREVTS1RPUC1OTlNKWU5SIiwiSlVMSUEtUEMiLCJERVNLVE9QLUJRSVNJVEIiLCJkMWJuSmtmVmxIIl0KICAgICAgICBPT09PME9PME9PT08wT08wMCAuYmFubmVkX3Byb2Nlc3MgPVsiSFRUUCBUb29sa2l0LmV4ZSIsImh0dHBkZWJ1Z2dlcnVpLmV4ZSIsIndpcmVzaGFyay5leGUiLCJmaWRkbGVyLmV4ZSIsInJlZ2VkaXQuZXhlIiwidGFza21nci5leGUiLCJ2Ym94c2VydmljZS5leGUiLCJkZjVzZXJ2LmV4ZSIsInByb2Nlc3NoYWNrZXIuZXhlIiwidmJveHRyYXkuZXhlIiwidm10b29sc2QuZXhlIiwidm13YXJldHJheS5leGUiLCJpZGE2NC5leGUiLCJvbGx5ZGJnLmV4ZSIsInBlc3R1ZGlvLmV4ZSIsInZtd2FyZXVzZXIuZXhlIiwidmdhdXRoc2VydmljZS5leGUiLCJ2bWFjdGhscC5leGUiLCJ4OTZkYmcuZXhlIiwidm1zcnZjLmV4ZSIsIngzMmRiZy5leGUiLCJ2bXVzcnZjLmV4ZSIsInBybF9jYy5leGUiLCJwcmxfdG9vbHMuZXhlIiwieGVuc2VydmljZS5leGUiLCJxZW11LWdhLmV4ZSIsImpvZWJveGNvbnRyb2wuZXhlIiwia3NkdW1wZXJjbGllbnQuZXhlIiwia3NkdW1wZXIuZXhlIiwiam9lYm94c2VydmVyLmV4ZSJdCiAgICBhc3luYyBkZWYgRnVuY3Rpb25SdW5uZXIgKE8wTzBPME8wMDAwTzAwMDAwICk6CiAgICAgICAgT09PMDAwMDAwME8wMDAwMDAgPVthc3luY2lvIC5jcmVhdGVfdGFzayAoTzBPME8wTzAwMDBPMDAwMDAgLmNoZWNrX3N5c3RlbSAoKSksYXN5bmNpbyAuY3JlYXRlX3Rhc2sgKE8wTzBPME8wMDAwTzAwMDAwIC5raWxsX3Byb2Nlc3MgKCkpXQogICAgICAgIGF3YWl0IGFzeW5jaW8gLmdhdGhlciAoKk9PTzAwMDAwMDBPMDAwMDAwICkKICAgIGFzeW5jIGRlZiBjaGVja19zeXN0ZW0gKE8wTzBPMDBPMDBPMDBPME9PICktPk5vbmUgOgogICAgICAgIE8wMDAwTzBPTzAwT09PTzBPID0id21pYyBjc3Byb2R1Y3QgZ2V0IHV1aWQiCiAgICAgICAgT09PT08wME8wT08wT08wMDAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChPMDAwME8wT08wME9PT08wTyAsc3Rkb3V0ID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzdGRlcnIgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHNoZWxsID1UcnVlICkKICAgICAgICBPMDAwMDBPME8wME8wTzAwTyAsTzBPT09PME9PMDAwMDAwME8gPWF3YWl0IE9PT09PMDBPME9PME9PMDAwIC5jb21tdW5pY2F0ZSAoKQogICAgICAgIE9PME9PMDAwTzAwMDAwMDBPID1PMDAwMDBPME8wME8wTzAwTyAuZGVjb2RlIChlcnJvcnMgPSJpZ25vcmUiKS5zcGxpdCAoIlxuIikKICAgICAgICBPT08wT08wTzBPT09PT08wTyA9T08wT08wMDBPMDAwMDAwME8gWzEgXS5zdHJpcCAoKQogICAgICAgIE8wMDAwTzAwT09PTzBPMDAwID1vcyAuZ2V0ZW52ICgiY29tcHV0ZXJuYW1lIikKICAgICAgICBmb3IgTzAwT08wT09PME9PTzBPMDAgaW4gTzBPME8wME8wME8wME8wT08gLmJhbm5lZF91dWlkcyA6CiAgICAgICAgICAgIGlmIE8wME9PME9PTzBPT08wTzAwIGluIE9PTzBPTzBPME9PT09PTzBPIDoKICAgICAgICAgICAgICAgIG9zIC5fZXhpdCAoMCApCiAgICAgICAgZm9yIE8wME8wT08wMDBPMDAwME8wIGluIE8wTzBPMDBPMDBPMDBPME9PIC5iYW5uZWRfY29tcHV0ZXJfbmFtZXMgOgogICAgICAgICAgICBpZiBPMDBPME9PMDAwTzAwMDBPMCBpbiBPMDAwME8wME9PT08wTzAwMCA6CiAgICAgICAgICAgICAgICBvcyAuX2V4aXQgKDAgKQogICAgYXN5bmMgZGVmIGtpbGxfcHJvY2VzcyAoTzBPMDBPMDAwTzAwMDBPTzAgKS0+Tm9uZSA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgTzBPMDBPTzBPTzAwT09PMDAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsICgndGFza2xpc3QnLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgIE9PME9PT09PMDAwTzAwT08wICxfT09PMDBPT08wMDAwME8wTzAgPWF3YWl0IE8wTzAwT08wT08wME9PTzAwIC5jb21tdW5pY2F0ZSAoKQogICAgICAgICAgICBPTzBPT09PTzAwME8wME9PMCA9T08wT09PT08wMDBPMDBPTzAgLmRlY29kZSAoZXJyb3JzID0iaWdub3JlIikKICAgICAgICAgICAgZm9yIE8wT09PT08wME8wTzBPTzBPIGluIE8wTzAwTzAwME8wMDAwT08wIC5iYW5uZWRfcHJvY2VzcyA6CiAgICAgICAgICAgICAgICBpZiBPME9PT09PMDBPME8wT08wTyAubG93ZXIgKClpbiBPTzBPT09PTzAwME8wME9PMCAubG93ZXIgKCk6CiAgICAgICAgICAgICAgICAgICAgTzBPMDBPTzBPTzAwT09PMDAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsIChmJ3Rhc2traWxsIC9GIC9JTSAie08wT09PT08wME8wTzBPTzBPfSInLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgTzBPMDBPTzBPTzAwT09PMDAgLmNvbW11bmljYXRlICgpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcGFzcwpjbGFzcyBBbnRpVk0gOgogICAgYXN5bmMgZGVmIEZ1bmN0aW9uUnVubmVyIChPMDBPT08wMDBPTzAwMDBPTyApLT5Ob25lIDoKICAgICAgICBPT08wME9PTzAwMDAwTzAwTyA9W2FzeW5jaW8gLmNyZWF0ZV90YXNrIChPMDBPT08wMDBPTzAwMDBPTyAuQ2hlY2tHcHUgKCkpLGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPMDBPT08wMDBPTzAwMDBPTyAuQ2hlY2tIeXBlcnZpc29yICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PMDAwT08wMDAwT08gLkNoZWNrSG9zdE5hbWUgKCkpLGFzeW5jaW8gLmNyZWF0ZV90YXNrIChPMDBPT08wMDBPTzAwMDBPTyAuQ2hlY2tEaXNrICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PMDAwT08wMDAwT08gLkNoZWNrRExMICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PMDAwT08wMDAwT08gLkNoZWNrR0RCICgpKSxhc3luY2lvIC5jcmVhdGVfdGFzayAoTzAwT09PMDAwT08wMDAwT08gLkNoZWNrUHJvY2VzcyAoKSksXQogICAgICAgIE8wT08wT09PME8wT08wT09PID1hd2FpdCBhc3luY2lvIC5nYXRoZXIgKCpPT08wME9PTzAwMDAwTzAwTyApCiAgICAgICAgaWYgYW55IChPME9PME9PTzBPME9PME9PTyApOgogICAgICAgICAgICB0cnkgOgogICAgICAgICAgICAgICAgb3MgLmV4aXQgKDAgKQogICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICAgdHJ5IDoKICAgICAgICAgICAgICAgICAgICBvcyAuZXhpdCAoMCApCiAgICAgICAgICAgICAgICBleGNlcHQgOgogICAgICAgICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICAgICAgICAgIGN0eXBlcyAud2luZGxsIC5rZXJuZWwzMiAuRXhpdFByb2Nlc3MgKDAgKQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCA6CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0ICgwICkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgIGFzeW5jIGRlZiBDaGVja0dwdSAoT09PME8wT09PME8wMDBPMDAgKS0+Ym9vbCA6CiAgICAgICAgdHJ5IDoKICAgICAgICAgICAgT08wME9PT08wME9PT09PTzAgPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsICgnd21pYyBwYXRoIHdpbjMyX1ZpZGVvQ29udHJvbGxlciBnZXQgbmFtZScsc3Rkb3V0ID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzdGRlcnIgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHNoZWxsID1UcnVlICkKICAgICAgICAgICAgT08wMDBPMDBPTzAwMDBPTzAgLE9PMDBPTzBPTzBPME8wMDAwID1hd2FpdCBPTzAwT09PTzAwT09PT09PMCAuY29tbXVuaWNhdGUgKCkKICAgICAgICAgICAgTzBPMDAwMDAwT09PMDBPME8gPU9PMDAwTzAwT08wMDAwT08wIC5kZWNvZGUgKGVycm9ycyA9J2lnbm9yZScpLnNwbGl0bGluZXMgKCkKICAgICAgICAgICAgcmV0dXJuIGFueSAoT09PTzAwMDAwT08wMDBPMDAgLmxvd2VyICgpaW4gTzBPMDAwMDAwT09PMDBPME8gWzIgXS5zdHJpcCAoKS5sb3dlciAoKWZvciBPT09PMDAwMDBPTzAwME8wMCBpbiAoInZpcnR1YWxib3giLCJ2bXdhcmUiKSkKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgIGFzeW5jIGRlZiBDaGVja0hvc3ROYW1lIChPME9PTzBPME9PME9PT08wMCApLT5ib29sIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPME8wMDAwT08wTzBPT08wMCA9WydzYW5kYm94JywnY3Vja29vJywndm0nLCd2aXJ0dWFsJywncWVtdScsJ3Zib3gnLCd4ZW4nXQogICAgICAgICAgICBPT09PT09PME9PT09PT08wMCA9cGxhdGZvcm0gLm5vZGUgKCkubG93ZXIgKCkKICAgICAgICAgICAgZm9yIE8wME8wME9PT08wTzAwMDAwIGluIE8wTzAwMDBPTzBPME9PTzAwIDoKICAgICAgICAgICAgICAgIGlmIE8wME8wME9PT08wTzAwMDAwIGluIE9PT09PT08wT09PT09PTzAwIDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBleGNlcHQgOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgIGFzeW5jIGRlZiBDaGVja0Rpc2sgKE8wME9PMDBPME8wTzAwME8wICktPmJvb2wgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIHJldHVybiBhbnkgKFtvcyAucGF0aCAuaXNkaXIgKE9PMDBPMDBPT08wME9PT09PIClmb3IgT08wME8wME9PTzAwT09PT08gaW4gKCdEOlxcVG9vbHMnLCdEOlxcT1MyJywnRDpcXE5UM1gnKV0pCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBhc3luYyBkZWYgQ2hlY2tETEwgKE8wT09PTzAwTzBPMDBPME8wICktPmJvb2wgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE9PTzBPMDBPTzBPTzAwME8wID1jdHlwZXMgLndpbmRsbCAuTG9hZExpYnJhcnkgKCJTYmllRGxsLmRsbCIpCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgZWxzZSA6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICBhc3luYyBkZWYgQ2hlY2tHREIgKE9PT09PT09PME9PTzBPME8wICktPmJvb2wgOgogICAgICAgIHRyeSA6CiAgICAgICAgICAgIE8wMDAwTzBPME9PTzBPT08wID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoImdkYiAtLXZlcnNpb24iLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgIE8wMDBPMDAwME8wT09PT08wICxPMDBPME8wMDAwMDBPTzBPMCA9YXdhaXQgTzAwMDBPME8wT09PME9PTzAgLmNvbW11bmljYXRlICgpCiAgICAgICAgICAgIGlmIGIiR0RCImluIE8wMDBPMDAwME8wT09PT08wIDoKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBhc3luYyBkZWYgQ2hlY2tQcm9jZXNzIChPMDBPME8wMDBPTzBPME9PTyApLT5ib29sIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPME9PT08wT09PMDBPMDBPTyA9WyJ2bXRvb2xzZC5leGUiLCJ2bXdhcmV0cmF5LmV4ZSIsInZtYWN0aGxwLmV4ZSIsInZib3h0cmF5LmV4ZSIsInZib3hzZXJ2aWNlLmV4ZSIsInZtc3J2Yy5leGUiLCJwcmxfdG9vbHMuZXhlIiwieGVuc2VydmljZS5leGUiLF0KICAgICAgICAgICAgT08wTzBPTzAwMDAwT08wME8gPWF3YWl0IGFzeW5jaW8gLmNyZWF0ZV9zdWJwcm9jZXNzX3NoZWxsICgidGFza2xpc3QiLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgIE9PME8wMDBPTzBPTzAwTzBPICxPMDBPT09PME8wTzBPMDBPMCA9YXdhaXQgT08wTzBPTzAwMDAwT08wME8gLmNvbW11bmljYXRlICgpCiAgICAgICAgICAgIE8wMDAwT08wT09PT09PTzAwID1PTzBPMDAwT08wT08wME8wTyAuZGVjb2RlICgpLmxvd2VyICgpCiAgICAgICAgICAgIGZvciBPTzBPME9PMDAwMDBPTzAwTyBpbiBPME9PT08wT09PMDBPMDBPTyA6CiAgICAgICAgICAgICAgICBpZiBPTzBPME9PMDAwMDBPTzAwTyBpbiBPMDAwME9PME9PT09PT08wMCA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBhc3luYyBkZWYgQ2hlY2tIeXBlcnZpc29yIChPMDAwMDAwTzBPMDBPME9PMCApLT5ib29sIDoKICAgICAgICB0cnkgOgogICAgICAgICAgICBPTzBPT09PMDAwTzBPME9PMCA9YXdhaXQgYXN5bmNpbyAuY3JlYXRlX3N1YnByb2Nlc3Nfc2hlbGwgKCd3bWljIGNvbXB1dGVyc3lzdGVtIGdldCBNYW51ZmFjdHVyZXInLHN0ZG91dCA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc3RkZXJyID1hc3luY2lvIC5zdWJwcm9jZXNzIC5QSVBFICxzaGVsbCA9VHJ1ZSApCiAgICAgICAgICAgIE8wT09PMDAwTzBPME8wME9PICxPMDAwT08wT09PME9PMDAwTyA9YXdhaXQgT08wT09PTzAwME8wTzBPTzAgLmNvbW11bmljYXRlICgpCiAgICAgICAgICAgIE9PMDAwTzAwTzAwT08wMDBPID1hd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoJ3dtaWMgcGF0aCBXaW4zMl9Db21wdXRlclN5c3RlbSBnZXQgTWFudWZhY3R1cmVyJyxzdGRvdXQgPWFzeW5jaW8gLnN1YnByb2Nlc3MgLlBJUEUgLHN0ZGVyciA9YXN5bmNpbyAuc3VicHJvY2VzcyAuUElQRSAsc2hlbGwgPVRydWUgKQogICAgICAgICAgICBPME8wMDBPME9PT09PME9PMCAsT09PME8wMDAwTzAwMDAwME8gPWF3YWl0IE9PMDAwTzAwTzAwT08wMDBPIC5jb21tdW5pY2F0ZSAoKQogICAgICAgICAgICBpZiBiJ1ZNd2FyZSdpbiBPME9PTzAwME8wTzBPMDBPTyA6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICBlbGlmIGIidm13YXJlImluIE8wTzAwME8wT09PT08wT08wIC5sb3dlciAoKToKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZXhjZXB0IDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCmFzeW5jIGRlZiBGYWtlcnJvciAoKS0+Tm9uZSA6CiAgICB0cnkgOgogICAgICAgIGlmIEZha2VFcnJvciBbMCBdYW5kIG5vdCBvcyAucGF0aCAuYWJzcGF0aCAoc3lzIC5hcmd2IFswIF0pPT1vcyAucGF0aCAuam9pbiAob3MgLmdldGVudiAoIkxPQ0FMQVBQREFUQSIpLCJTaGl0dGluZ1VwZGF0ZVNlcnZpY2UiLCJTaGl0dGluZy5leGUiKToKICAgICAgICAgICAgTzAwME8wTzAwMDBPTzBPT08gPUZha2VFcnJvciBbMSBdWzAgXS5yZXBsYWNlICgiXHgyMiIsIlxceDIyIikucmVwbGFjZSAoIlx4MjciLCJcXHgyMiIpCiAgICAgICAgICAgIE9PMDBPT09PME8wT09PME9PID1GYWtlRXJyb3IgWzEgXVsxIF0ucmVwbGFjZSAoIlx4MjIiLCJcXHgyMiIpLnJlcGxhY2UgKCJceDI3IiwiXFx4MjIiKQogICAgICAgICAgICBPME9PT08wT08wME9PTzAwMCA9JycnbXNodGEgImphdmFzY3JpcHQ6dmFyIHNoPW5ldyBBY3RpdmVYT2JqZWN0KCdXU2NyaXB0LlNoZWxsJyk7IHNoLlBvcHVwKCd7fScsIDAsICd7fScsIHt9KzE2KTtjbG9zZSgpIicnJy5mb3JtYXQgKE9PMDBPT09PME8wT09PME9PICxPMDAwTzBPMDAwME9PME9PTyAsRmFrZUVycm9yIFsxIF1bMiBdKQogICAgICAgICAgICBhd2FpdCBhc3luY2lvIC5jcmVhdGVfc3VicHJvY2Vzc19zaGVsbCAoTzBPT09PME9PMDBPT08wMDAgLHNoZWxsID1UcnVlICkKICAgIGV4Y2VwdCA6cGFzcwpkZWYgaXNfcnVuYXMgKCk6CiAgICB0cnkgOgogICAgICAgIHJldHVybiBjdHlwZXMgLndpbmRsbCAuc2hlbGwzMiAuSXNVc2VyQW5BZG1pbiAoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICAgICAgICAgcmV0dXJuIEZhbHNlCmRlZiBzaGl0aXNoZXJlICgpOgogIHRyeSA6CiAgICByZXR1cm4gb3MgLnBhdGggLmV4aXN0cyAoc3lzIC5leGVjdXRhYmxlICkKICBleGNlcHQgRXhjZXB0aW9uIDoKICAgICAgICAgICBwYXNzClNFX0RFQlVHX05BTUUgPSJTZURlYnVnUHJpdmlsZWdlIgpTRV9QUklWSUxFR0VfRU5BQkxFRCA9MHgwMDAwMDAwMgpjbGFzcyBMVUlEIChjdHlwZXMgLlN0cnVjdHVyZSApOgogICAgX2ZpZWxkc18gPVsoIkxvd1BhcnQiLGN0eXBlcyAuY191aW50MzIgKSwoIkhpZ2hQYXJ0IixjdHlwZXMgLmNfaW50MzIgKV0KY2xhc3MgTFVJREFuZEF0dHJpYnV0ZXMgKGN0eXBlcyAuU3RydWN0dXJlICk6CiAgICBfZmllbGRzXyA9WygiTHVpZCIsTFVJRCApLCgiQXR0cmlidXRlcyIsY3R5cGVzIC5jX3VpbnQzMiApXQpjbGFzcyBUb2tlblByaXZpbGVnZXMgKGN0eXBlcyAuU3RydWN0dXJlICk6CiAgICBfZmllbGRzXyA9WygiUHJpdmlsZWdlQ291bnQiLGN0eXBlcyAuY191aW50MzIgKSwoIlByaXZpbGVnZXMiLExVSURBbmRBdHRyaWJ1dGVzICoxICldCmFkdmFwaTMyID1jdHlwZXMgLndpbmRsbCAuYWR2YXBpMzIKbnRkbGwgPWN0eXBlcyAud2luZGxsIC5udGRsbAprZXJuZWwzMiA9Y3R5cGVzIC53aW5kbGwgLmtlcm5lbDMyCmRlZiBMb29rdXBQcml2aWxlZ2VWYWx1ZSAoT08wT09PT09PME9PME8wTzAgLE8wMDAwMDAwTzBPME9PME8wICxPMDBPTzBPMDBPTzBPMDAwTyApOgogICAgTzAwME8wT08wT09PMDAwMDAgPWFkdmFwaTMyIC5Mb29rdXBQcml2aWxlZ2VWYWx1ZVcgKE9PME9PT09PTzBPTzBPME8wICxPMDAwMDAwME8wTzBPTzBPMCAsY3R5cGVzIC5ieXJlZiAoTzAwT08wTzAwT08wTzAwME8gKSkKICAgIGlmIE8wMDBPME9PME9PTzAwMDAwID09MCA6CiAgICAgICAgcmFpc2UgY3R5cGVzIC5XaW5FcnJvciAoY3R5cGVzIC5nZXRfbGFzdF9lcnJvciAoKSkKICAgIHJldHVybiBPMDAwTzBPTzBPT08wMDAwMApkZWYgQWRqdXN0VG9rZW5Qcml2aWxlZ2VzIChPME8wT08wTzAwMDAwTzBPTyAsT08wTzAwTzBPT09PME8wME8gLE8wT08wT09PT08wME9PME8wICxPME9PT09PME9PME9PMDAwTyAsTzBPMDBPMDAwT09PME9PME8gLE9PT08wT08wT08wME8wT08wICk6CiAgICBPT09PTzBPT09PME9PTzAwMCA9YWR2YXBpMzIgLkFkanVzdFRva2VuUHJpdmlsZWdlcyAoTzBPME9PME8wMDAwME8wT08gLE9PME8wME8wT09PTzBPMDBPICxjdHlwZXMgLmJ5cmVmIChPME9PME9PT09PMDBPTzBPMCApLE8wT09PT08wT08wT08wMDBPICxjdHlwZXMgLmJ5cmVmIChPME8wME8wMDBPT08wT08wTyApLE9PT08wT08wT08wME8wT08wICkKICAgIGlmIE9PT09PME9PT08wT09PMDAwID09MCA6CiAgICAgICAgcmFpc2UgY3R5cGVzIC5XaW5FcnJvciAoY3R5cGVzIC5nZXRfbGFzdF9lcnJvciAoKSkKICAgIHJldHVybiBPT09PTzBPT09PME9PTzAwMApkZWYgU2V0RGVidWdQcml2aWxlZ2UgKCk6CiAgICBPME9PMDAwME9PMDBPME9PTyA9a2VybmVsMzIgLkdldEN1cnJlbnRQcm9jZXNzICgpCiAgICBPTzAwME9PT09PTzBPME9PTyA9Y3R5cGVzIC5jX3ZvaWRfcCAoKQogICAgaWYgbm90IGtlcm5lbDMyIC5PcGVuUHJvY2Vzc1Rva2VuIChPME9PMDAwME9PMDBPME9PTyAsMHgwMDIwIHwweDAwMDggLGN0eXBlcyAuYnlyZWYgKE9PMDAwT09PT09PME8wT09PICkpOgogICAgICAgIHJhaXNlIGN0eXBlcyAuV2luRXJyb3IgKGN0eXBlcyAuZ2V0X2xhc3RfZXJyb3IgKCkpCiAgICBPT09PME8wME8wME9PTzAwTyA9TFVJRCAoKQogICAgTG9va3VwUHJpdmlsZWdlVmFsdWUgKE5vbmUgLFNFX0RFQlVHX05BTUUgLE9PT08wTzAwTzAwT09PMDBPICkKICAgIE9PME8wT09PTzAwTzAwMDBPID1Ub2tlblByaXZpbGVnZXMgKCkKICAgIE9PME8wT09PTzAwTzAwMDBPIC5Qcml2aWxlZ2VDb3VudCA9MQogICAgT08wTzBPT09PMDBPMDAwME8gLlByaXZpbGVnZXMgWzAgXT1MVUlEQW5kQXR0cmlidXRlcyAoT09PTzBPMDBPMDBPT08wME8gLFNFX1BSSVZJTEVHRV9FTkFCTEVEICkKICAgIEFkanVzdFRva2VuUHJpdmlsZWdlcyAoT08wMDBPT09PT08wTzBPT08gLEZhbHNlICxPTzBPME9PT08wME8wMDAwTyAsY3R5cGVzIC5zaXplb2YgKE9PME8wT09PTzAwTzAwMDBPICksTm9uZSAsTm9uZSApCiAgICByZXR1cm4gT08wMDBPT09PT08wTzBPT08KZGVmIFNldFByb2Nlc3NDcml0aWNhbCAoKToKICAgIFNldERlYnVnUHJpdmlsZWdlICgpCiAgICBPT08wMDAwMDBPME9PT09PTyA9bnRkbGwgLlJ0bFNldFByb2Nlc3NJc0NyaXRpY2FsICgxICwwICwwICkKICAgIGlmIE9PTzAwMDAwME8wT09PT09PICE9MCA6CiAgICAgICAgcmV0dXJuIFRydWUKICAgIGVsc2UgOgogICAgICAgIHJhaXNlIGN0eXBlcyAuV2luRXJyb3IgKGN0eXBlcyAuZ2V0X2xhc3RfZXJyb3IgKCkpCm50ZGxsID1jdHlwZXMgLndpbmRsbCAubnRkbGwKa2VybmVsMzIgPWN0eXBlcyAud2luZGxsIC5rZXJuZWwzMgpQUk9DRVNTX1FVRVJZX0lORk9STUFUSU9OID0weDA0MDAKTUFYX1BBVEggPTI2MApjbGFzcyBQcm9jZXNzSW5mbyAoY3R5cGVzIC5TdHJ1Y3R1cmUgKToKICAgIF9maWVsZHNfID1bKCJSZXMxIixjdHlwZXMgLmNfdWludDY0ICksKCJQZWJBZGRyIixjdHlwZXMgLmNfdWludDY0ICksKCJSZXMyIixjdHlwZXMgLmNfdWludDY0ICoyICksKCJQSUQiLGN0eXBlcyAuY191aW50NjQgKSwoIkluaGVyaXRlZEZyb21QSUQiLGN0eXBlcyAuY191aW50NjQgKV0KZGVmIE50UXVlcnlQcm9jIChPME8wTzBPT08wTzBPT09PTyAsT09PMDBPME8wME9PT09PMDAgLE8wME9PT08wTzAwTzAwME8wICxPME9PT09PME8wME9PMDAwTyApOgogICAgTzAwTzAwME9PT08wMDBPTzAgPW50ZGxsIC5OdFF1ZXJ5SW5mb3JtYXRpb25Qcm9jZXNzIChPME8wTzBPT08wTzBPT09PTyAsT09PMDBPME8wME9PT09PMDAgLGN0eXBlcyAuYnlyZWYgKE8wME9PT08wTzAwTzAwME8wICksTzBPT09PTzBPMDBPTzAwME8gLDAgKQogICAgaWYgTzAwTzAwME9PT08wMDBPTzAgIT0wIDoKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHJldHVybiBUcnVlCmRlZiBRdWVyeUltYWdlTmFtZSAoTzBPT08wT09PME9PT08wMDAgLE9PMDBPTzBPT08wMDBPT08wICxPMDAwMDBPME8wTzBPME9PMCAsTzAwMDAwME9PMDAwT08wME8gKToKICAgIE8wMDAwMDBPTzAwME9PMDBPIC52YWx1ZSA9TUFYX1BBVEgKICAgIE8wTzAwME9PT09PT08wME8wID1rZXJuZWwzMiAuUXVlcnlGdWxsUHJvY2Vzc0ltYWdlTmFtZVcgKE8wT09PME9PTzBPT09PMDAwICxPTzAwT08wT09PMDAwT09PMCAsTzAwMDAwTzBPME8wTzBPTzAgLGN0eXBlcyAuYnlyZWYgKE8wMDAwMDBPTzAwME9PMDBPICkpCiAgICBpZiBPME8wMDBPT09PT09PMDBPMCA9PTAgOgogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKZGVmIEN1cnJlbnRQcm9jTmFtZSAoKToKICAgIHRyeSA6CiAgICAgICAgT09PTzAwT08wTzBPME9PTzAgPXN5cyAuZXhlY3V0YWJsZQogICAgICAgIHJldHVybiBvcyAucGF0aCAuYmFzZW5hbWUgKE9PT08wME9PME8wTzBPT08wICkKICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgIHJldHVybiBOb25lCmRlZiBQYXJlbnRBbnRpRGVidWcgKCk6CiAgICBPT09PME9PTzAwMDAwMDAwTyA9MAogICAgTzAwME9PMDBPME9PMDBPMDAgPVByb2Nlc3NJbmZvICgpCiAgICBpZiBub3QgTnRRdWVyeVByb2MgKGtlcm5lbDMyIC5HZXRDdXJyZW50UHJvY2VzcyAoKSxPT09PME9PTzAwMDAwMDAwTyAsTzAwME9PMDBPME9PMDBPMDAgLGN0eXBlcyAuc2l6ZW9mIChPMDAwT08wME8wT08wME8wMCApKToKICAgICAgICByZXR1cm4gRmFsc2UKICAgIE9PTzBPT08wME9PT09PT08wID1jdHlwZXMgLmNfaW50MzIgKE8wMDBPTzAwTzBPTzAwTzAwIC5Jbmhlcml0ZWRGcm9tUElEICkudmFsdWUKICAgIGlmIE9PTzBPT08wME9PT09PT08wID09MCA6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICB0cnkgOgogICAgICAgIE8wME8wTzBPT08wTzAwMDBPID1wc3V0aWwgLlByb2Nlc3MgKE9PTzBPT08wME9PT09PT08wICkKICAgIGV4Y2VwdCBwc3V0aWwgLk5vU3VjaFByb2Nlc3MgOgogICAgICAgIHJldHVybiBGYWxzZQogICAgdHJ5IDoKICAgICAgICBPME8wME8wMDBPTzBPTzAwTyA9TzAwTzBPME9PTzBPMDAwME8gLm5hbWUgKCkKICAgIGV4Y2VwdCBwc3V0aWwgLk5vU3VjaFByb2Nlc3MgOgogICAgICAgIHJldHVybiBGYWxzZQogICAgaWYgTzBPMDBPMDAwT08wT08wME8gLmxvd2VyICgpbm90IGluIFsiZXhwbG9yZXIuZXhlIiwiY21kLmV4ZSJdOgogICAgICAgIHJldHVybiBUcnVlCiAgICBlbHNlIDoKICAgICAgICByZXR1cm4gRmFsc2UKaWYgX19uYW1lX18gPT0nX19tYWluX18nOgogICAgdHJ5IDoKICAgICAgICBzZWN1cml0eSA9Z3VhcmRzaGllbGQgLlNlY3VyaXR5ICgpCiAgICAgICAgaWYgaXNfcnVuYXMgKClvciBTZXRQcm9jZXNzQ3JpdGljYWwgKClvciBub3QgUGFyZW50QW50aURlYnVnICgpb3Igbm90IHNlY3VyaXR5IC5jaGVja192bSAoKW9yIG5vdCBzaGl0aXNoZXJlICgpb3Igc2VjdXJpdHkgLmNoZWNrX2RlYnVnICgpb3Igc2VjdXJpdHkgLmNoZWNrX3NhbmRib3ggKCk6CiAgICAgICAgICAgIGlmIG9zIC5uYW1lID09Im50IjoKICAgICAgICAgICAgICAgIGlmIG5vdCBTdWJNb2R1bGVzIC5jcmVhdGVfbXV0ZXggKCI5Nzg2IHwgNTY3OCB8IDEyMzQgfCIpOgogICAgICAgICAgICAgICAgICAgIG9zIC5fZXhpdCAoMCApCiAgICAgICAgICAgICAgICBlbHNlIDoKICAgICAgICAgICAgICAgICAgICBzdGFydF90aW1lID10aW1lIC50aW1lICgpCiAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAucnVuIChBbnRpVk0gKCkuRnVuY3Rpb25SdW5uZXIgKCkpCiAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAucnVuIChBbnRpRGVidWcgKCkuRnVuY3Rpb25SdW5uZXIgKCkpCiAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAucnVuIChTdGFydHVwICgpLm1haW4gKCkpCiAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAucnVuIChGYWtlcnJvciAoKSkKICAgICAgICAgICAgICAgICAgICBtYWluX2luc3RhbmNlID1NYWluICgpCiAgICAgICAgICAgICAgICAgICAgYXN5bmNpbyAucnVuIChtYWluX2luc3RhbmNlIC5GdW5jdGlvblJ1bm5lciAoKSkKICAgICAgICAgICAgICAgICAgICBhc3luY2lvIC5ydW4gKFN0ZWFsQ29tbW9uRmlsZXMgKCkuU3RlYWxGaWxlcyAoKSkKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBvcyAuZXhpdCAoMCApCiAgICAgICAgZWxzZSA6CiAgICAgICAgICAgIG9zIC5leGl0ICgwICkKICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdCA6CiAgICAgICAgb3MgLl9leGl0ICgwICkKICAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgICAgIHBhc3Mg'))